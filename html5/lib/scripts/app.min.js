/*! dark-spider - v0.4.0 - 2015-10-20 8:32pm GMT+0000
* Copyright (c) 2015 Articulate Global, Inc. <admin@articulate.com>; Not Licensed */
var requirejs,require,define;!function(a){function b(a,b){return r.call(a,b)}function c(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=p.map,q=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(n=n.slice(0,n.length-1),a=a.split("/"),g=a.length-1,p.nodeIdCompat&&t.test(a[g])&&(a[g]=a[g].replace(t,"")),a=n.concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||q)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&q&&q[d]&&(i=q[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function d(b,c){return function(){return k.apply(a,s.call(arguments,0).concat([b,c]))}}function e(a){return function(b){return c(b,a)}}function f(a){return function(b){n[a]=b}}function g(c){if(b(o,c)){var d=o[c];delete o[c],q[c]=!0,j.apply(a,d)}if(!b(n,c)&&!b(q,c))throw new Error("No "+c);return n[c]}function h(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function i(a){return function(){return p&&p.config&&p.config[a]||{}}}var j,k,l,m,n={},o={},p={},q={},r=Object.prototype.hasOwnProperty,s=[].slice,t=/\.js$/;l=function(a,b){var d,f=h(a),i=f[0];return a=f[1],i&&(i=c(i,b),d=g(i)),i?a=d&&d.normalize?d.normalize(a,e(b)):c(a,b):(a=c(a,b),f=h(a),i=f[0],a=f[1],i&&(d=g(i))),{f:i?i+"!"+a:a,n:a,pr:i,p:d}},m={require:function(a){return d(a)},exports:function(a){var b=n[a];return"undefined"!=typeof b?b:n[a]={}},module:function(a){return{id:a,uri:"",exports:n[a],config:i(a)}}},j=function(c,e,h,i){var j,k,p,r,s,t,u=[],v=typeof h;if(i=i||c,"undefined"===v||"function"===v){for(e=!e.length&&h.length?["require","exports","module"]:e,s=0;s<e.length;s+=1)if(r=l(e[s],i),k=r.f,"require"===k)u[s]=m.require(c);else if("exports"===k)u[s]=m.exports(c),t=!0;else if("module"===k)j=u[s]=m.module(c);else if(b(n,k)||b(o,k)||b(q,k))u[s]=g(k);else{if(!r.p)throw new Error(c+" missing "+k);r.p.load(r.n,d(i,!0),f(k),{}),u[s]=n[k]}p=h?h.apply(n[c],u):void 0,c&&(j&&j.exports!==a&&j.exports!==n[c]?n[c]=j.exports:p===a&&t||(n[c]=p))}else c&&(n[c]=h)},requirejs=require=k=function(b,c,d,e,f){if("string"==typeof b)return m[b]?m[b](c):g(l(b,c).f);if(!b.splice){if(p=b,p.deps&&k(p.deps,p.callback),!c)return;c.splice?(b=c,c=d,d=null):b=a}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?j(a,b,c,d):setTimeout(function(){j(a,b,c,d)},4),k},k.config=function(a){return k(a)},requirejs._defined=n,define=function(a,c,d){c.splice||(d=c,c=[]),b(n,a)||b(o,a)||(o[a]=[a,c,d])},define.amd={jQuery:!0}}(),define("almond",function(){}),function(){function a(a,b){if(a!==b){var c=null===a,d=a===w,e=a===a,f=null===b,g=b===w,h=b===b;if(a>b&&!f||!e||c&&!g&&h||d&&h)return 1;if(b>a&&!c||!h||f&&!d&&e||g&&e)return-1}return 0}function b(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function c(a,b,c){if(b!==b)return n(a,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function d(a){return"function"==typeof a||!1}function e(a){return null==a?"":a+""}function f(a,b){for(var c=-1,d=a.length;++c<d&&b.indexOf(a.charAt(c))>-1;);return c}function g(a,b){for(var c=a.length;c--&&b.indexOf(a.charAt(c))>-1;);return c}function h(b,c){return a(b.criteria,c.criteria)||b.index-c.index}function i(b,c,d){for(var e=-1,f=b.criteria,g=c.criteria,h=f.length,i=d.length;++e<h;){var j=a(f[e],g[e]);if(j){if(e>=i)return j;var k=d[e];return j*("asc"===k||k===!0?1:-1)}}return b.index-c.index}function j(a){return Pa[a]}function k(a){return Qa[a]}function l(a,b,c){return b?a=Ta[a]:c&&(a=Ua[a]),"\\"+a}function m(a){return"\\"+Ua[a]}function n(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function o(a){return!!a&&"object"==typeof a}function p(a){return 160>=a&&a>=9&&13>=a||32==a||160==a||5760==a||6158==a||a>=8192&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function q(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=P,f[++e]=c);return f}function r(a,b){for(var c,d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d],i=b?b(h,d,a):h;d&&c===i||(c=i,g[++f]=h)}return g}function s(a){for(var b=-1,c=a.length;++b<c&&p(a.charCodeAt(b)););return b}function t(a){for(var b=a.length;b--&&p(a.charCodeAt(b)););return b}function u(a){return Ra[a]}function v(p){function W(a){if(o(a)&&!Ch(a)&&!(a instanceof Pa)){if(a instanceof aa)return a;if(ag.call(a,"__chain__")&&ag.call(a,"__wrapped__"))return md(a)}return new aa(a)}function $(){}function aa(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}function Pa(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Bg,this.__views__=[]}function Qa(){var a=new Pa(this.__wrapped__);return a.__actions__=cb(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=cb(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=cb(this.__views__),a}function Ra(){if(this.__filtered__){var a=new Pa(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Sa(){var a=this.__wrapped__.value(),b=this.__dir__,c=Ch(a),d=0>b,e=c?a.length:0,f=Tc(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=wg(i,this.__takeCount__);if(!c||L>e||e==i&&n==i)return cc(a,this.__actions__);var o=[];a:for(;i--&&n>m;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==N)q=u;else if(!u){if(t==M)continue a;break a}}o[m++]=q}return o}function Ta(){this.__data__={}}function Ua(a){return this.has(a)&&delete this.__data__[a]}function Va(a){return"__proto__"==a?w:this.__data__[a]}function Wa(a){return"__proto__"!=a&&ag.call(this.__data__,a)}function Xa(a,b){return"__proto__"!=a&&(this.__data__[a]=b),this}function Ya(a){var b=a?a.length:0;for(this.data={hash:qg(null),set:new kg};b--;)this.push(a[b])}function Za(a,b){var c=a.data,d="string"==typeof b||He(b)?c.set.has(b):c.hash[b];return d?0:-1}function $a(a){var b=this.data;"string"==typeof a||He(a)?b.set.add(a):b.hash[a]=!0}function bb(a,b){for(var c=-1,d=a.length,e=-1,f=b.length,g=Of(d+f);++c<d;)g[c]=a[c];for(;++e<f;)g[c++]=b[e];return g}function cb(a,b){var c=-1,d=a.length;for(b||(b=Of(d));++c<d;)b[c]=a[c];return b}function db(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function eb(a,b){for(var c=a.length;c--&&b(a[c],c,a)!==!1;);return a}function fb(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function gb(a,b,c,d){for(var e=-1,f=a.length,g=d,h=g;++e<f;){var i=a[e],j=+b(i);c(j,g)&&(g=j,h=i)}return h}function hb(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function ib(a,b){for(var c=-1,d=a.length,e=Of(d);++c<d;)e[c]=b(a[c],c,a);return e}function jb(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function kb(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function lb(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function mb(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function nb(a,b){for(var c=a.length,d=0;c--;)d+=+b(a[c])||0;return d}function ob(a,b){return a===w?b:a}function pb(a,b,c,d){return a!==w&&ag.call(d,c)?a:b}function qb(a,b,c){for(var d=-1,e=Nh(b),f=e.length;++d<f;){var g=e[d],h=a[g],i=c(h,b[g],g,a,b);(i===i?i===h:h!==h)&&(h!==w||g in a)||(a[g]=i)}return a}function rb(a,b){return null==b?a:tb(b,Nh(b),a)}function sb(a,b){for(var c=-1,d=null==a,e=!d&&Yc(a),f=e?a.length:0,g=b.length,h=Of(g);++c<g;){var i=b[c];e?h[c]=Zc(i,f)?a[i]:w:h[c]=d?w:a[i]}return h}function tb(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}function ub(a,b,c){var d=typeof a;return"function"==d?b===w?a:fc(a,b,c):null==a?Bf:"object"==d?Nb(a):b===w?Hf(a):Ob(a,b)}function vb(a,b,c,d,e,f,g){var h;if(c&&(h=e?c(a,d,e):c(a)),h!==w)return h;if(!He(a))return a;var i=Ch(a);if(i){if(h=Uc(a),!b)return cb(a,h)}else{var j=cg.call(a),k=j==V;if(j!=Y&&j!=Q&&(!k||e))return Oa[j]?Wc(a,j,b):e?a:{};if(h=Vc(k?{}:a),!b)return rb(h,a)}f||(f=[]),g||(g=[]);for(var l=f.length;l--;)if(f[l]==a)return g[l];return f.push(a),g.push(h),(i?db:Fb)(a,function(d,e){h[e]=vb(d,b,c,e,a,f,g)}),h}function wb(a,b,c){if("function"!=typeof a)throw new Xf(O);return lg(function(){a.apply(w,c)},b)}function xb(a,b){var d=a?a.length:0,e=[];if(!d)return e;var f=-1,g=Qc(),h=g===c,i=h&&b.length>=L?oc(b):null,j=b.length;i&&(g=Za,h=!1,b=i);a:for(;++f<d;){var k=a[f];if(h&&k===k){for(var l=j;l--;)if(b[l]===k)continue a;e.push(k)}else g(b,k,0)<0&&e.push(k)}return e}function yb(a,b){var c=!0;return Jg(a,function(a,d,e){return c=!!b(a,d,e)}),c}function zb(a,b,c,d){var e=d,f=e;return Jg(a,function(a,g,h){var i=+b(a,g,h);(c(i,e)||i===d&&i===f)&&(e=i,f=a)}),f}function Ab(a,b,c,d){var e=a.length;for(c=null==c?0:+c||0,0>c&&(c=-c>e?0:e+c),d=d===w||d>e?e:+d||0,0>d&&(d+=e),e=c>d?0:d>>>0,c>>>=0;e>c;)a[c++]=b;return a}function Bb(a,b){var c=[];return Jg(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function Cb(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function Db(a,b,c,d){d||(d=[]);for(var e=-1,f=a.length;++e<f;){var g=a[e];o(g)&&Yc(g)&&(c||Ch(g)||ye(g))?b?Db(g,b,c,d):jb(d,g):c||(d[d.length]=g)}return d}function Eb(a,b){return Lg(a,b,_e)}function Fb(a,b){return Lg(a,b,Nh)}function Gb(a,b){return Mg(a,b,Nh)}function Hb(a,b){for(var c=-1,d=b.length,e=-1,f=[];++c<d;){var g=b[c];Ge(a[g])&&(f[++e]=g)}return f}function Ib(a,b,c){if(null!=a){c!==w&&c in kd(a)&&(b=[c]);for(var d=0,e=b.length;null!=a&&e>d;)a=a[b[d++]];return d&&d==e?a:w}}function Jb(a,b,c,d,e,f){return a===b?!0:null==a||null==b||!He(a)&&!o(b)?a!==a&&b!==b:Kb(a,b,Jb,c,d,e,f)}function Kb(a,b,c,d,e,f,g){var h=Ch(a),i=Ch(b),j=R,k=R;h||(j=cg.call(a),j==Q?j=Y:j!=Y&&(h=Qe(a))),i||(k=cg.call(b),k==Q?k=Y:k!=Y&&(i=Qe(b)));var l=j==Y,m=k==Y,n=j==k;if(n&&!h&&!l)return Mc(a,b,j);if(!e){var o=l&&ag.call(a,"__wrapped__"),p=m&&ag.call(b,"__wrapped__");if(o||p)return c(o?a.value():a,p?b.value():b,d,e,f,g)}if(!n)return!1;f||(f=[]),g||(g=[]);for(var q=f.length;q--;)if(f[q]==a)return g[q]==b;f.push(a),g.push(b);var r=(h?Lc:Nc)(a,b,c,d,e,f,g);return f.pop(),g.pop(),r}function Lb(a,b,c){var d=b.length,e=d,f=!c;if(null==a)return!e;for(a=kd(a);d--;){var g=b[d];if(f&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++d<e;){g=b[d];var h=g[0],i=a[h],j=g[1];if(f&&g[2]){if(i===w&&!(h in a))return!1}else{var k=c?c(i,j,h):w;if(!(k===w?Jb(j,i,c,!0):k))return!1}}return!0}function Mb(a,b){var c=-1,d=Yc(a)?Of(a.length):[];return Jg(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Nb(a){var b=Rc(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?!1:a[c]===d&&(d!==w||c in kd(a))}}return function(a){return Lb(a,b)}}function Ob(a,b){var c=Ch(a),d=_c(a)&&cd(b),e=a+"";return a=ld(a),function(f){if(null==f)return!1;var g=e;if(f=kd(f),(c||!d)&&!(g in f)){if(f=1==a.length?f:Ib(f,Wb(a,0,-1)),null==f)return!1;g=zd(a),f=kd(f)}return f[g]===b?b!==w||g in f:Jb(b,f[g],w,!0)}}function Pb(a,b,c,d,e){if(!He(a))return a;var f=Yc(b)&&(Ch(b)||Qe(b)),g=f?w:Nh(b);return db(g||b,function(h,i){if(g&&(i=h,h=b[i]),o(h))d||(d=[]),e||(e=[]),Qb(a,b,i,Pb,c,d,e);else{var j=a[i],k=c?c(j,h,i,a,b):w,l=k===w;l&&(k=h),k===w&&(!f||i in a)||!l&&(k===k?k===j:j!==j)||(a[i]=k)}}),a}function Qb(a,b,c,d,e,f,g){for(var h=f.length,i=b[c];h--;)if(f[h]==i)return void(a[c]=g[h]);var j=a[c],k=e?e(j,i,c,a,b):w,l=k===w;l&&(k=i,Yc(i)&&(Ch(i)||Qe(i))?k=Ch(j)?j:Yc(j)?cb(j):[]:Ne(i)||ye(i)?k=ye(j)?Ve(j):Ne(j)?j:{}:l=!1),f.push(i),g.push(k),l?a[c]=d(k,i,e,f,g):(k===k?k!==j:j===j)&&(a[c]=k)}function Rb(a){return function(b){return null==b?w:b[a]}}function Sb(a){var b=a+"";return a=ld(a),function(c){return Ib(c,a,b)}}function Tb(a,b){for(var c=a?b.length:0;c--;){var d=b[c];if(d!=e&&Zc(d)){var e=d;mg.call(a,d,1)}}return a}function Ub(a,b){return a+rg(zg()*(b-a+1))}function Vb(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function Wb(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c=c===w||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Of(e);++d<e;)f[d]=a[d+b];return f}function Xb(a,b){var c;return Jg(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Yb(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function Zb(a,b,c){var d=Oc(),e=-1;b=ib(b,function(a){return d(a)});var f=Mb(a,function(a){var c=ib(b,function(b){return b(a)});return{criteria:c,index:++e,value:a}});return Yb(f,function(a,b){return i(a,b,c)})}function $b(a,b){var c=0;return Jg(a,function(a,d,e){c+=+b(a,d,e)||0}),c}function _b(a,b){var d=-1,e=Qc(),f=a.length,g=e===c,h=g&&f>=L,i=h?oc():null,j=[];i?(e=Za,g=!1):(h=!1,i=b?[]:j);a:for(;++d<f;){var k=a[d],l=b?b(k,d,a):k;if(g&&k===k){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),j.push(k)}else e(i,l,0)<0&&((b||h)&&i.push(l),j.push(k))}return j}function ac(a,b){for(var c=-1,d=b.length,e=Of(d);++c<d;)e[c]=a[b[c]];return e}function bc(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?Wb(a,d?0:f,d?f+1:e):Wb(a,d?f+1:0,d?e:f)}function cc(a,b){var c=a;c instanceof Pa&&(c=c.value());for(var d=-1,e=b.length;++d<e;){var f=b[d];c=f.func.apply(f.thisArg,jb([c],f.args))}return c}function dc(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&Eg>=e){for(;e>d;){var f=d+e>>>1,g=a[f];(c?b>=g:b>g)&&null!==g?d=f+1:e=f}return e}return ec(a,b,Bf,c)}function ec(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=b===w;f>e;){var j=rg((e+f)/2),k=c(a[j]),l=k!==w,m=k===k;if(g)var n=m||d;else n=h?m&&l&&(d||null!=k):i?m&&(d||l):null==k?!1:d?b>=k:b>k;n?e=j+1:f=j}return wg(f,Dg)}function fc(a,b,c){if("function"!=typeof a)return Bf;if(b===w)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function gc(a){var b=new fg(a.byteLength),c=new ng(b);return c.set(new ng(a)),b}function hc(a,b,c){for(var d=c.length,e=-1,f=vg(a.length-d,0),g=-1,h=b.length,i=Of(h+f);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function ic(a,b,c){for(var d=-1,e=c.length,f=-1,g=vg(a.length-e,0),h=-1,i=b.length,j=Of(g+i);++f<g;)j[f]=a[f];for(var k=f;++h<i;)j[k+h]=b[h];for(;++d<e;)j[k+c[d]]=a[f++];return j}function jc(a,b){return function(c,d,e){var f=b?b():{};if(d=Oc(d,e,3),Ch(c))for(var g=-1,h=c.length;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else Jg(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function kc(a){return qe(function(b,c){var d=-1,e=null==b?0:c.length,f=e>2?c[e-2]:w,g=e>2?c[2]:w,h=e>1?c[e-1]:w;for("function"==typeof f?(f=fc(f,h,5),e-=2):(f="function"==typeof h?h:w,e-=f?1:0),g&&$c(c[0],c[1],g)&&(f=3>e?w:f,e=1);++d<e;){var i=c[d];i&&a(b,i,f)}return b})}function lc(a,b){return function(c,d){var e=c?Pg(c):0;if(!bd(e))return a(c,d);for(var f=b?e:-1,g=kd(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function mc(a){return function(b,c,d){for(var e=kd(b),f=d(b),g=f.length,h=a?g:-1;a?h--:++h<g;){var i=f[h];if(c(e[i],i,e)===!1)break}return b}}function nc(a,b){function c(){var e=this&&this!==_a&&this instanceof c?d:a;return e.apply(b,arguments)}var d=qc(a);return c}function oc(a){return qg&&kg?new Ya(a):null}function pc(a){return function(b){for(var c=-1,d=yf(kf(b)),e=d.length,f="";++c<e;)f=a(f,d[c],c);return f}}function qc(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Ig(a.prototype),d=a.apply(c,b);return He(d)?d:c}}function rc(a){function b(c,d,e){e&&$c(c,d,e)&&(d=w);var f=Kc(c,a,w,w,w,w,w,d);return f.placeholder=b.placeholder,f}return b}function sc(a,b){return qe(function(c){var d=c[0];return null==d?d:(c.push(b),a.apply(w,c))})}function tc(a,b){return function(c,d,e){if(e&&$c(c,d,e)&&(d=w),d=Oc(d,e,3),1==d.length){c=Ch(c)?c:jd(c);var f=gb(c,d,a,b);if(!c.length||f!==b)return f}return zb(c,d,a,b)}}function uc(a,c){return function(d,e,f){if(e=Oc(e,f,3),Ch(d)){var g=b(d,e,c);return g>-1?d[g]:w}return Cb(d,e,a)}}function vc(a){return function(c,d,e){return c&&c.length?(d=Oc(d,e,3),b(c,d,a)):-1}}function wc(a){return function(b,c,d){return c=Oc(c,d,3),Cb(b,c,a,!0)}}function xc(a){return function(){for(var b,c=arguments.length,d=a?c:-1,e=0,f=Of(c);a?d--:++d<c;){var g=f[e++]=arguments[d];if("function"!=typeof g)throw new Xf(O);!b&&aa.prototype.thru&&"wrapper"==Pc(g)&&(b=new aa([],!0))}for(d=b?-1:c;++d<c;){g=f[d];var h=Pc(g),i="wrapper"==h?Og(g):w;b=i&&ad(i[0])&&i[1]==(F|B|D|G)&&!i[4].length&&1==i[9]?b[Pc(i[0])].apply(b,i[3]):1==g.length&&ad(g)?b[h]():b.thru(g)}return function(){var a=arguments,d=a[0];if(b&&1==a.length&&Ch(d)&&d.length>=L)return b.plant(d).value();for(var e=0,g=c?f[e].apply(this,a):d;++e<c;)g=f[e].call(this,g);return g}}}function yc(a,b){return function(c,d,e){return"function"==typeof d&&e===w&&Ch(c)?a(c,d):b(c,fc(d,e,3))}}function zc(a){return function(b,c,d){return("function"!=typeof c||d!==w)&&(c=fc(c,d,3)),a(b,c,_e)}}function Ac(a){return function(b,c,d){return("function"!=typeof c||d!==w)&&(c=fc(c,d,3)),a(b,c)}}function Bc(a){return function(b,c,d){var e={};return c=Oc(c,d,3),Fb(b,function(b,d,f){var g=c(b,d,f);d=a?g:d,b=a?b:g,e[d]=b}),e}}function Cc(a){return function(b,c,d){return b=e(b),(a?b:"")+Gc(b,c,d)+(a?"":b)}}function Dc(a){var b=qe(function(c,d){var e=q(d,b.placeholder);return Kc(c,a,w,d,e)});return b}function Ec(a,b){return function(c,d,e,f){var g=arguments.length<3;return"function"==typeof d&&f===w&&Ch(c)?a(c,d,e,g):Vb(c,Oc(d,f,4),e,g,b)}}function Fc(a,b,c,d,e,f,g,h,i,j){function k(){for(var t=arguments.length,u=t,v=Of(t);u--;)v[u]=arguments[u];if(d&&(v=hc(v,d,e)),f&&(v=ic(v,f,g)),o||r){var x=k.placeholder,A=q(v,x);if(t-=A.length,j>t){var B=h?cb(h):w,C=vg(j-t,0),F=o?A:w,G=o?w:A,H=o?v:w,I=o?w:v;b|=o?D:E,b&=~(o?E:D),p||(b&=~(y|z));var J=[a,b,c,H,F,I,G,B,i,C],K=Fc.apply(w,J);return ad(a)&&Qg(K,J),K.placeholder=x,K}}var L=m?c:this,M=n?L[a]:a;return h&&(v=hd(v,h)),l&&i<v.length&&(v.length=i),this&&this!==_a&&this instanceof k&&(M=s||qc(a)),M.apply(L,v)}var l=b&F,m=b&y,n=b&z,o=b&B,p=b&A,r=b&C,s=n?w:qc(a);return k}function Gc(a,b,c){var d=a.length;if(b=+b,d>=b||!tg(b))return"";var e=b-d;return c=null==c?" ":c+"",qf(c,pg(e/c.length)).slice(0,e)}function Hc(a,b,c,d){function e(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=Of(j+h);++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];var l=this&&this!==_a&&this instanceof e?g:a;return l.apply(f?c:this,k)}var f=b&y,g=qc(a);return e}function Ic(a){var b=Sf[a];return function(a,c){return c=c===w?0:+c||0,c?(c=ig(10,c),b(a*c)/c):b(a)}}function Jc(a){return function(b,c,d,e){var f=Oc(d);return null==d&&f===ub?dc(b,c,a):ec(b,c,f(d,e,1),a)}}function Kc(a,b,c,d,e,f,g,h){var i=b&z;if(!i&&"function"!=typeof a)throw new Xf(O);var j=d?d.length:0;if(j||(b&=~(D|E),d=e=w),j-=e?e.length:0,b&E){var k=d,l=e;d=e=w}var m=i?w:Og(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&(dd(n,m),b=n[1],h=n[9]),n[9]=null==h?i?0:a.length:vg(h-j,0)||0,b==y)var o=nc(n[0],n[2]);else o=b!=D&&b!=(y|D)||n[4].length?Fc.apply(w,n):Hc.apply(w,n);var p=m?Ng:Qg;return p(o,n)}function Lc(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length;if(i!=j&&!(e&&j>i))return!1;for(;++h<i;){var k=a[h],l=b[h],m=d?d(e?l:k,e?k:l,h):w;if(m!==w){if(m)continue;return!1}if(e){if(!mb(b,function(a){return k===a||c(k,a,d,e,f,g)}))return!1}else if(k!==l&&!c(k,l,d,e,f,g))return!1}return!0}function Mc(a,b,c){switch(c){case S:case T:return+a==+b;case U:return a.name==b.name&&a.message==b.message;case X:return a!=+a?b!=+b:a==+b;case Z:case _:return a==b+""}return!1}function Nc(a,b,c,d,e,f,g){var h=Nh(a),i=h.length,j=Nh(b),k=j.length;if(i!=k&&!e)return!1;for(var l=i;l--;){var m=h[l];if(!(e?m in b:ag.call(b,m)))return!1}for(var n=e;++l<i;){m=h[l];var o=a[m],p=b[m],q=d?d(e?p:o,e?o:p,m):w;if(!(q===w?c(o,p,d,e,f,g):q))return!1;n||(n="constructor"==m)}if(!n){var r=a.constructor,s=b.constructor;if(r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s))return!1}return!0}function Oc(a,b,c){var d=W.callback||zf;return d=d===zf?ub:d,c?d(a,b,c):d}function Pc(a){for(var b=a.name+"",c=Hg[b],d=c?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function Qc(a,b,d){var e=W.indexOf||xd;return e=e===xd?c:e,a?e(a,b,d):e}function Rc(a){for(var b=af(a),c=b.length;c--;)b[c][2]=cd(b[c][1]);return b}function Sc(a,b){var c=null==a?w:a[b];return Ke(c)?c:w}function Tc(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=wg(b,a+g);break;case"takeRight":a=vg(a,b-g)}}return{start:a,end:b}}function Uc(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&ag.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Vc(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=Uf),new b}function Wc(a,b,c){var d=a.constructor;switch(b){case ba:return gc(a);case S:case T:return new d(+a);case ca:case da:case ea:case fa:case ga:case ha:case ia:case ja:case ka:var e=a.buffer;return new d(c?gc(e):e,a.byteOffset,a.length);case X:case _:return new d(a);case Z:var f=new d(a.source,Da.exec(a));f.lastIndex=a.lastIndex}return f}function Xc(a,b,c){null==a||_c(b,a)||(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),b=zd(b));var d=null==a?a:a[b];return null==d?w:d.apply(a,c)}function Yc(a){return null!=a&&bd(Pg(a))}function Zc(a,b){return a="number"==typeof a||Ga.test(a)?+a:-1,b=null==b?Fg:b,a>-1&&a%1==0&&b>a}function $c(a,b,c){if(!He(c))return!1;var d=typeof b;if("number"==d?Yc(c)&&Zc(b,c.length):"string"==d&&b in c){var e=c[b];return a===a?a===e:e!==e}return!1}function _c(a,b){var c=typeof a;if("string"==c&&wa.test(a)||"number"==c)return!0;if(Ch(a))return!1;var d=!va.test(a);return d||null!=b&&a in kd(b)}function ad(a){var b=Pc(a),c=W[b];if("function"!=typeof c||!(b in Pa.prototype))return!1;if(a===c)return!0;var d=Og(c);return!!d&&a===d[0]}function bd(a){return"number"==typeof a&&a>-1&&a%1==0&&Fg>=a}function cd(a){return a===a&&!He(a)}function dd(a,b){var c=a[1],d=b[1],e=c|d,f=F>e,g=d==F&&c==B||d==F&&c==G&&a[7].length<=b[8]||d==(F|G)&&c==B;if(!f&&!g)return a;d&y&&(a[2]=b[2],e|=c&y?0:A);var h=b[3];if(h){var i=a[3];a[3]=i?hc(i,h,b[4]):cb(h),a[4]=i?q(a[3],P):cb(b[4])}return h=b[5],h&&(i=a[5],a[5]=i?ic(i,h,b[6]):cb(h),a[6]=i?q(a[5],P):cb(b[6])),h=b[7],h&&(a[7]=cb(h)),d&F&&(a[8]=null==a[8]?b[8]:wg(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function ed(a,b){return a===w?b:Dh(a,b,ed)}function fd(a,b){a=kd(a);for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];f in a&&(e[f]=a[f])}return e}function gd(a,b){var c={};return Eb(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}function hd(a,b){for(var c=a.length,d=wg(b.length,c),e=cb(a);d--;){var f=b[d];a[d]=Zc(f,c)?e[f]:w}return a}function id(a){for(var b=_e(a),c=b.length,d=c&&a.length,e=!!d&&bd(d)&&(Ch(a)||ye(a)),f=-1,g=[];++f<c;){var h=b[f];(e&&Zc(h,d)||ag.call(a,h))&&g.push(h)}return g}function jd(a){return null==a?[]:Yc(a)?He(a)?a:Uf(a):ef(a)}function kd(a){return He(a)?a:Uf(a)}function ld(a){if(Ch(a))return a;var b=[];return e(a).replace(xa,function(a,c,d,e){b.push(d?e.replace(Ba,"$1"):c||a)}),b}function md(a){return a instanceof Pa?a.clone():new aa(a.__wrapped__,a.__chain__,cb(a.__actions__))}function nd(a,b,c){b=(c?$c(a,b,c):null==b)?1:vg(rg(b)||1,1);for(var d=0,e=a?a.length:0,f=-1,g=Of(pg(e/b));e>d;)g[++f]=Wb(a,d,d+=b);return g}function od(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e}function pd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),Wb(a,0>b?0:b)):[]}function qd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),b=d-(+b||0),Wb(a,0,0>b?0:b)):[]}function rd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!0,!0):[]}function sd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!0):[]}function td(a,b,c,d){var e=a?a.length:0;return e?(c&&"number"!=typeof c&&$c(a,b,c)&&(c=0,d=e),Ab(a,b,c,d)):[]}function ud(a){return a?a[0]:w}function vd(a,b,c){var d=a?a.length:0;return c&&$c(a,b,c)&&(b=!1),d?Db(a,b):[]}function wd(a){var b=a?a.length:0;return b?Db(a,!0):[]}function xd(a,b,d){var e=a?a.length:0;if(!e)return-1;if("number"==typeof d)d=0>d?vg(e+d,0):d;else if(d){var f=dc(a,b);return e>f&&(b===b?b===a[f]:a[f]!==a[f])?f:-1}return c(a,b,d||0)}function yd(a){return qd(a,1)}function zd(a){var b=a?a.length:0;return b?a[b-1]:w}function Ad(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?vg(d+c,0):wg(c||0,d-1))+1;else if(c){e=dc(a,b,!0)-1;var f=a[e];return(b===b?b===f:f!==f)?e:-1}if(b!==b)return n(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1}function Bd(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,d=Qc(),e=a.length;++c<e;)for(var f=0,g=a[c];(f=d(b,g,f))>-1;)mg.call(b,f,1);return b}function Cd(a,b,c){var d=[];if(!a||!a.length)return d;var e=-1,f=[],g=a.length;for(b=Oc(b,c,3);++e<g;){var h=a[e];b(h,e,a)&&(d.push(h),f.push(e))}return Tb(a,f),d}function Dd(a){return pd(a,1)}function Ed(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&$c(a,b,c)&&(b=0,c=d),Wb(a,b,c)):[]}function Fd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),Wb(a,0,0>b?0:b)):[]}function Gd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),b=d-(+b||0),Wb(a,0>b?0:b)):[]}function Hd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!1,!0):[]}function Id(a,b,c){return a&&a.length?bc(a,Oc(b,c,3)):[]}function Jd(a,b,d,e){var f=a?a.length:0;if(!f)return[];null!=b&&"boolean"!=typeof b&&(e=d,d=$c(a,b,e)?w:b,b=!1);var g=Oc();return(null!=d||g!==ub)&&(d=g(d,e,3)),b&&Qc()===c?r(a,d):_b(a,d)}function Kd(a){if(!a||!a.length)return[];var b=-1,c=0;a=hb(a,function(a){return Yc(a)?(c=vg(a.length,c),!0):void 0});for(var d=Of(c);++b<c;)d[b]=ib(a,Rb(b));return d}function Ld(a,b,c){var d=a?a.length:0;if(!d)return[];var e=Kd(a);return null==b?e:(b=fc(b,c,4),ib(e,function(a){return kb(a,b,w,!0)}))}function Md(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Yc(c))var d=d?jb(xb(d,c),xb(c,d)):c}return d?_b(d):[]}function Nd(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||Ch(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Od(a){var b=W(a);return b.__chain__=!0,b}function Pd(a,b,c){return b.call(c,a),a}function Qd(a,b,c){return b.call(c,a)}function Rd(){return Od(this)}function Sd(){return new aa(this.value(),this.__chain__)}function Td(a){for(var b,c=this;c instanceof $;){var d=md(c);b?e.__wrapped__=d:b=d;var e=d;c=c.__wrapped__}return e.__wrapped__=a,b}function Ud(){var a=this.__wrapped__,b=function(a){return a.reverse()};if(a instanceof Pa){var c=a;return this.__actions__.length&&(c=new Pa(this)),c=c.reverse(),c.__actions__.push({func:Qd,args:[b],thisArg:w}),new aa(c,this.__chain__)}return this.thru(b)}function Vd(){return this.value()+""}function Wd(){return cc(this.__wrapped__,this.__actions__)}function Xd(a,b,c){var d=Ch(a)?fb:yb;return c&&$c(a,b,c)&&(b=w),("function"!=typeof b||c!==w)&&(b=Oc(b,c,3)),d(a,b)}function Yd(a,b,c){var d=Ch(a)?hb:Bb;return b=Oc(b,c,3),d(a,b)}function Zd(a,b){return dh(a,Nb(b))}function $d(a,b,c,d){var e=a?Pg(a):0;return bd(e)||(a=ef(a),e=a.length),c="number"!=typeof c||d&&$c(b,c,d)?0:0>c?vg(e+c,0):c||0,"string"==typeof a||!Ch(a)&&Pe(a)?e>=c&&a.indexOf(b,c)>-1:!!e&&Qc(a,b,c)>-1}function _d(a,b,c){var d=Ch(a)?ib:Mb;return b=Oc(b,c,3),d(a,b)}function ae(a,b){return _d(a,Hf(b))}function be(a,b,c){var d=Ch(a)?hb:Bb;return b=Oc(b,c,3),d(a,function(a,c,d){return!b(a,c,d)})}function ce(a,b,c){if(c?$c(a,b,c):null==b){a=jd(a);var d=a.length;return d>0?a[Ub(0,d-1)]:w}var e=-1,f=Ue(a),d=f.length,g=d-1;for(b=wg(0>b?0:+b||0,d);++e<b;){var h=Ub(e,g),i=f[h];f[h]=f[e],f[e]=i}return f.length=b,f}function de(a){return ce(a,Bg)}function ee(a){var b=a?Pg(a):0;return bd(b)?b:Nh(a).length}function fe(a,b,c){var d=Ch(a)?mb:Xb;return c&&$c(a,b,c)&&(b=w),("function"!=typeof b||c!==w)&&(b=Oc(b,c,3)),d(a,b)}function ge(a,b,c){if(null==a)return[];c&&$c(a,b,c)&&(b=w);var d=-1;b=Oc(b,c,3);var e=Mb(a,function(a,c,e){return{criteria:b(a,c,e),index:++d,value:a}});return Yb(e,h)}function he(a,b,c,d){return null==a?[]:(d&&$c(b,c,d)&&(c=w),Ch(b)||(b=null==b?[]:[b]),Ch(c)||(c=null==c?[]:[c]),Zb(a,b,c))}function ie(a,b){return Yd(a,Nb(b))}function je(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new Xf(O);var c=a;a=b,b=c}return a=tg(a=+a)?a:0,function(){return--a<1?b.apply(this,arguments):void 0}}function ke(a,b,c){return c&&$c(a,b,c)&&(b=w),b=a&&null==b?a.length:vg(+b||0,0),Kc(a,F,w,w,w,w,b)}function le(a,b){var c;if("function"!=typeof b){if("function"!=typeof a)throw new Xf(O);var d=a;a=b,b=d}return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=w),c}}function me(a,b,c){function d(){n&&gg(n),j&&gg(j),p=0,j=n=o=w}function e(b,c){c&&gg(c),j=n=o=w,b&&(p=oh(),k=a.apply(m,i),n||j||(i=m=w))}function f(){var a=b-(oh()-l);0>=a||a>b?e(o,j):n=lg(f,a)}function g(){e(r,n)}function h(){if(i=arguments,l=oh(),m=this,o=r&&(n||!s),q===!1)var c=s&&!n;else{j||s||(p=l);var d=q-(l-p),e=0>=d||d>q;e?(j&&(j=gg(j)),p=l,k=a.apply(m,i)):j||(j=lg(g,d))}return e&&n?n=gg(n):n||b===q||(n=lg(f,b)),c&&(e=!0,k=a.apply(m,i)),!e||n||j||(i=m=w),k}var i,j,k,l,m,n,o,p=0,q=!1,r=!0;if("function"!=typeof a)throw new Xf(O);if(b=0>b?0:+b||0,c===!0){var s=!0;r=!1}else He(c)&&(s=!!c.leading,q="maxWait"in c&&vg(+c.maxWait||0,b),r="trailing"in c?!!c.trailing:r);return h.cancel=d,h}function ne(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new Xf(O);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g),g};return c.cache=new ne.Cache,c}function oe(a){if("function"!=typeof a)throw new Xf(O);return function(){return!a.apply(this,arguments)}}function pe(a){return le(2,a)}function qe(a,b){if("function"!=typeof a)throw new Xf(O);return b=vg(b===w?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=vg(c.length-b,0),f=Of(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}var g=Of(b+1);for(d=-1;++d<b;)g[d]=c[d];return g[b]=f,a.apply(this,g)}}function re(a){if("function"!=typeof a)throw new Xf(O);return function(b){return a.apply(this,b)}}function se(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Xf(O);return c===!1?d=!1:He(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),me(a,b,{leading:d,maxWait:+b,trailing:e})}function te(a,b){return b=null==b?Bf:b,Kc(b,D,w,[a],[])}function ue(a,b,c,d){return b&&"boolean"!=typeof b&&$c(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1),"function"==typeof c?vb(a,b,fc(c,d,3)):vb(a,b)}function ve(a,b,c){return"function"==typeof b?vb(a,!0,fc(b,c,3)):vb(a,!0)}function we(a,b){return a>b}function xe(a,b){return a>=b}function ye(a){return o(a)&&Yc(a)&&ag.call(a,"callee")&&!jg.call(a,"callee")}function ze(a){return a===!0||a===!1||o(a)&&cg.call(a)==S}function Ae(a){return o(a)&&cg.call(a)==T}function Be(a){return!!a&&1===a.nodeType&&o(a)&&!Ne(a)}function Ce(a){return null==a?!0:Yc(a)&&(Ch(a)||Pe(a)||ye(a)||o(a)&&Ge(a.splice))?!a.length:!Nh(a).length}function De(a,b,c,d){c="function"==typeof c?fc(c,d,3):w;var e=c?c(a,b):w;return e===w?Jb(a,b,c):!!e}function Ee(a){return o(a)&&"string"==typeof a.message&&cg.call(a)==U}function Fe(a){return"number"==typeof a&&tg(a)}function Ge(a){return He(a)&&cg.call(a)==V}function He(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function Ie(a,b,c,d){return c="function"==typeof c?fc(c,d,3):w,Lb(a,Rc(b),c)}function Je(a){return Me(a)&&a!=+a;
}function Ke(a){return null==a?!1:Ge(a)?eg.test(_f.call(a)):o(a)&&Fa.test(a)}function Le(a){return null===a}function Me(a){return"number"==typeof a||o(a)&&cg.call(a)==X}function Ne(a){var b;if(!o(a)||cg.call(a)!=Y||ye(a)||!ag.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return Eb(a,function(a,b){c=b}),c===w||ag.call(a,c)}function Oe(a){return He(a)&&cg.call(a)==Z}function Pe(a){return"string"==typeof a||o(a)&&cg.call(a)==_}function Qe(a){return o(a)&&bd(a.length)&&!!Na[cg.call(a)]}function Re(a){return a===w}function Se(a,b){return b>a}function Te(a,b){return b>=a}function Ue(a){var b=a?Pg(a):0;return bd(b)?b?cb(a):[]:ef(a)}function Ve(a){return tb(a,_e(a))}function We(a,b,c){var d=Ig(a);return c&&$c(a,b,c)&&(b=w),b?rb(d,b):d}function Xe(a){return Hb(a,_e(a))}function Ye(a,b,c){var d=null==a?w:Ib(a,ld(b),b+"");return d===w?c:d}function Ze(a,b){if(null==a)return!1;var c=ag.call(a,b);if(!c&&!_c(b)){if(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),null==a)return!1;b=zd(b),c=ag.call(a,b)}return c||bd(a.length)&&Zc(b,a.length)&&(Ch(a)||ye(a))}function $e(a,b,c){c&&$c(a,b,c)&&(b=w);for(var d=-1,e=Nh(a),f=e.length,g={};++d<f;){var h=e[d],i=a[h];b?ag.call(g,i)?g[i].push(h):g[i]=[h]:g[i]=h}return g}function _e(a){if(null==a)return[];He(a)||(a=Uf(a));var b=a.length;b=b&&bd(b)&&(Ch(a)||ye(a))&&b||0;for(var c=a.constructor,d=-1,e="function"==typeof c&&c.prototype===a,f=Of(b),g=b>0;++d<b;)f[d]=d+"";for(var h in a)g&&Zc(h,b)||"constructor"==h&&(e||!ag.call(a,h))||f.push(h);return f}function af(a){a=kd(a);for(var b=-1,c=Nh(a),d=c.length,e=Of(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function bf(a,b,c){var d=null==a?w:a[b];return d===w&&(null==a||_c(b,a)||(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),d=null==a?w:a[zd(b)]),d=d===w?c:d),Ge(d)?d.call(a):d}function cf(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||_c(b,a)?[d]:ld(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=b[e];He(h)&&(e==g?h[i]=c:null==h[i]&&(h[i]=Zc(b[e+1])?[]:{})),h=h[i]}return a}function df(a,b,c,d){var e=Ch(a)||Qe(a);if(b=Oc(b,d,4),null==c)if(e||He(a)){var f=a.constructor;c=e?Ch(a)?new f:[]:Ig(Ge(f)?f.prototype:w)}else c={};return(e?db:Fb)(a,function(a,d,e){return b(c,a,d,e)}),c}function ef(a){return ac(a,Nh(a))}function ff(a){return ac(a,_e(a))}function gf(a,b,c){return b=+b||0,c===w?(c=b,b=0):c=+c||0,a>=wg(b,c)&&a<vg(b,c)}function hf(a,b,c){c&&$c(a,b,c)&&(b=c=w);var d=null==a,e=null==b;if(null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0)),d&&e&&(b=1,e=!1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=zg();return wg(a+f*(b-a+hg("1e-"+((f+"").length-1))),b)}return Ub(a,b)}function jf(a){return a=e(a),a&&a.charAt(0).toUpperCase()+a.slice(1)}function kf(a){return a=e(a),a&&a.replace(Ha,j).replace(Aa,"")}function lf(a,b,c){a=e(a),b+="";var d=a.length;return c=c===w?d:wg(0>c?0:+c||0,d),c-=b.length,c>=0&&a.indexOf(b,c)==c}function mf(a){return a=e(a),a&&ra.test(a)?a.replace(pa,k):a}function nf(a){return a=e(a),a&&za.test(a)?a.replace(ya,l):a||"(?:)"}function of(a,b,c){a=e(a),b=+b;var d=a.length;if(d>=b||!tg(b))return a;var f=(b-d)/2,g=rg(f),h=pg(f);return c=Gc("",h,c),c.slice(0,g)+a+c}function pf(a,b,c){return(c?$c(a,b,c):null==b)?b=0:b&&(b=+b),a=tf(a),yg(a,b||(Ea.test(a)?16:10))}function qf(a,b){var c="";if(a=e(a),b=+b,1>b||!a||!tg(b))return c;do b%2&&(c+=a),b=rg(b/2),a+=a;while(b);return c}function rf(a,b,c){return a=e(a),c=null==c?0:wg(0>c?0:+c||0,a.length),a.lastIndexOf(b,c)==c}function sf(a,b,c){var d=W.templateSettings;c&&$c(a,b,c)&&(b=c=w),a=e(a),b=qb(rb({},c||b),d,pb);var f,g,h=qb(rb({},b.imports),d.imports,pb),i=Nh(h),j=ac(h,i),k=0,l=b.interpolate||Ia,n="__p += '",o=Vf((b.escape||Ia).source+"|"+l.source+"|"+(l===ua?Ca:Ia).source+"|"+(b.evaluate||Ia).source+"|$","g"),p="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++Ma+"]")+"\n";a.replace(o,function(b,c,d,e,h,i){return d||(d=e),n+=a.slice(k,i).replace(Ja,m),c&&(f=!0,n+="' +\n__e("+c+") +\n'"),h&&(g=!0,n+="';\n"+h+";\n__p += '"),d&&(n+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=i+b.length,b}),n+="';\n";var q=b.variable;q||(n="with (obj) {\n"+n+"\n}\n"),n=(g?n.replace(la,""):n).replace(ma,"$1").replace(na,"$1;"),n="function("+(q||"obj")+") {\n"+(q?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+n+"return __p\n}";var r=Yh(function(){return Rf(i,p+"return "+n).apply(w,j)});if(r.source=n,Ee(r))throw r;return r}function tf(a,b,c){var d=a;return(a=e(a))?(c?$c(d,b,c):null==b)?a.slice(s(a),t(a)+1):(b+="",a.slice(f(a,b),g(a,b)+1)):a}function uf(a,b,c){var d=a;return a=e(a),a?(c?$c(d,b,c):null==b)?a.slice(s(a)):a.slice(f(a,b+"")):a}function vf(a,b,c){var d=a;return a=e(a),a?(c?$c(d,b,c):null==b)?a.slice(0,t(a)+1):a.slice(0,g(a,b+"")+1):a}function wf(a,b,c){c&&$c(a,b,c)&&(b=w);var d=H,f=I;if(null!=b)if(He(b)){var g="separator"in b?b.separator:g;d="length"in b?+b.length||0:d,f="omission"in b?e(b.omission):f}else d=+b||0;if(a=e(a),d>=a.length)return a;var h=d-f.length;if(1>h)return f;var i=a.slice(0,h);if(null==g)return i+f;if(Oe(g)){if(a.slice(h).search(g)){var j,k,l=a.slice(0,h);for(g.global||(g=Vf(g.source,(Da.exec(g)||"")+"g")),g.lastIndex=0;j=g.exec(l);)k=j.index;i=i.slice(0,null==k?h:k)}}else if(a.indexOf(g,h)!=h){var m=i.lastIndexOf(g);m>-1&&(i=i.slice(0,m))}return i+f}function xf(a){return a=e(a),a&&qa.test(a)?a.replace(oa,u):a}function yf(a,b,c){return c&&$c(a,b,c)&&(b=w),a=e(a),a.match(b||Ka)||[]}function zf(a,b,c){return c&&$c(a,b,c)&&(b=w),o(a)?Cf(a):ub(a,b)}function Af(a){return function(){return a}}function Bf(a){return a}function Cf(a){return Nb(vb(a,!0))}function Df(a,b){return Ob(a,vb(b,!0))}function Ef(a,b,c){if(null==c){var d=He(b),e=d?Nh(b):w,f=e&&e.length?Hb(b,e):w;(f?f.length:d)||(f=!1,c=b,b=a,a=this)}f||(f=Hb(b,Nh(b)));var g=!0,h=-1,i=Ge(a),j=f.length;c===!1?g=!1:He(c)&&"chain"in c&&(g=c.chain);for(;++h<j;){var k=f[h],l=b[k];a[k]=l,i&&(a.prototype[k]=function(b){return function(){var c=this.__chain__;if(g||c){var d=a(this.__wrapped__),e=d.__actions__=cb(this.__actions__);return e.push({func:b,args:arguments,thisArg:a}),d.__chain__=c,d}return b.apply(a,jb([this.value()],arguments))}}(l))}return a}function Ff(){return _a._=dg,this}function Gf(){}function Hf(a){return _c(a)?Rb(a):Sb(a)}function If(a){return function(b){return Ib(a,ld(b),b+"")}}function Jf(a,b,c){c&&$c(a,b,c)&&(b=c=w),a=+a||0,c=null==c?1:+c||0,null==b?(b=a,a=0):b=+b||0;for(var d=-1,e=vg(pg((b-a)/(c||1)),0),f=Of(e);++d<e;)f[d]=a,a+=c;return f}function Kf(a,b,c){if(a=rg(a),1>a||!tg(a))return[];var d=-1,e=Of(wg(a,Cg));for(b=fc(b,c,1);++d<a;)Cg>d?e[d]=b(d):b(d);return e}function Lf(a){var b=++bg;return e(a)+b}function Mf(a,b){return(+a||0)+(+b||0)}function Nf(a,b,c){return c&&$c(a,b,c)&&(b=w),b=Oc(b,c,3),1==b.length?nb(Ch(a)?a:jd(a),b):$b(a,b)}p=p?ab.defaults(_a.Object(),p,ab.pick(_a,La)):_a;var Of=p.Array,Pf=p.Date,Qf=p.Error,Rf=p.Function,Sf=p.Math,Tf=p.Number,Uf=p.Object,Vf=p.RegExp,Wf=p.String,Xf=p.TypeError,Yf=Of.prototype,Zf=Uf.prototype,$f=Wf.prototype,_f=Rf.prototype.toString,ag=Zf.hasOwnProperty,bg=0,cg=Zf.toString,dg=_a._,eg=Vf("^"+_f.call(ag).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fg=p.ArrayBuffer,gg=p.clearTimeout,hg=p.parseFloat,ig=Sf.pow,jg=Zf.propertyIsEnumerable,kg=Sc(p,"Set"),lg=p.setTimeout,mg=Yf.splice,ng=p.Uint8Array,og=Sc(p,"WeakMap"),pg=Sf.ceil,qg=Sc(Uf,"create"),rg=Sf.floor,sg=Sc(Of,"isArray"),tg=p.isFinite,ug=Sc(Uf,"keys"),vg=Sf.max,wg=Sf.min,xg=Sc(Pf,"now"),yg=p.parseInt,zg=Sf.random,Ag=Tf.NEGATIVE_INFINITY,Bg=Tf.POSITIVE_INFINITY,Cg=4294967295,Dg=Cg-1,Eg=Cg>>>1,Fg=9007199254740991,Gg=og&&new og,Hg={};W.support={};W.templateSettings={escape:sa,evaluate:ta,interpolate:ua,variable:"",imports:{_:W}};var Ig=function(){function a(){}return function(b){if(He(b)){a.prototype=b;var c=new a;a.prototype=w}return c||{}}}(),Jg=lc(Fb),Kg=lc(Gb,!0),Lg=mc(),Mg=mc(!0),Ng=Gg?function(a,b){return Gg.set(a,b),a}:Bf,Og=Gg?function(a){return Gg.get(a)}:Gf,Pg=Rb("length"),Qg=function(){var a=0,b=0;return function(c,d){var e=oh(),f=K-(e-b);if(b=e,f>0){if(++a>=J)return c}else a=0;return Ng(c,d)}}(),Rg=qe(function(a,b){return o(a)&&Yc(a)?xb(a,Db(b,!1,!0)):[]}),Sg=vc(),Tg=vc(!0),Ug=qe(function(a){for(var b=a.length,d=b,e=Of(l),f=Qc(),g=f===c,h=[];d--;){var i=a[d]=Yc(i=a[d])?i:[];e[d]=g&&i.length>=120?oc(d&&i):null}var j=a[0],k=-1,l=j?j.length:0,m=e[0];a:for(;++k<l;)if(i=j[k],(m?Za(m,i):f(h,i,0))<0){for(var d=b;--d;){var n=e[d];if((n?Za(n,i):f(a[d],i,0))<0)continue a}m&&m.push(i),h.push(i)}return h}),Vg=qe(function(b,c){c=Db(c);var d=sb(b,c);return Tb(b,c.sort(a)),d}),Wg=Jc(),Xg=Jc(!0),Yg=qe(function(a){return _b(Db(a,!1,!0))}),Zg=qe(function(a,b){return Yc(a)?xb(a,b):[]}),$g=qe(Kd),_g=qe(function(a){var b=a.length,c=b>2?a[b-2]:w,d=b>1?a[b-1]:w;return b>2&&"function"==typeof c?b-=2:(c=b>1&&"function"==typeof d?(--b,d):w,d=w),a.length=b,Ld(a,c,d)}),ah=qe(function(a){return a=Db(a),this.thru(function(b){return bb(Ch(b)?b:[kd(b)],a)})}),bh=qe(function(a,b){return sb(a,Db(b))}),ch=jc(function(a,b,c){ag.call(a,c)?++a[c]:a[c]=1}),dh=uc(Jg),eh=uc(Kg,!0),fh=yc(db,Jg),gh=yc(eb,Kg),hh=jc(function(a,b,c){ag.call(a,c)?a[c].push(b):a[c]=[b]}),ih=jc(function(a,b,c){a[c]=b}),jh=qe(function(a,b,c){var d=-1,e="function"==typeof b,f=_c(b),g=Yc(a)?Of(a.length):[];return Jg(a,function(a){var h=e?b:f&&null!=a?a[b]:w;g[++d]=h?h.apply(a,c):Xc(a,b,c)}),g}),kh=jc(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),lh=Ec(kb,Jg),mh=Ec(lb,Kg),nh=qe(function(a,b){if(null==a)return[];var c=b[2];return c&&$c(b[0],b[1],c)&&(b.length=1),Zb(a,Db(b),[])}),oh=xg||function(){return(new Pf).getTime()},ph=qe(function(a,b,c){var d=y;if(c.length){var e=q(c,ph.placeholder);d|=D}return Kc(a,d,b,c,e)}),qh=qe(function(a,b){b=b.length?Db(b):Xe(a);for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=Kc(a[e],y,a)}return a}),rh=qe(function(a,b,c){var d=y|z;if(c.length){var e=q(c,rh.placeholder);d|=D}return Kc(b,d,a,c,e)}),sh=rc(B),th=rc(C),uh=qe(function(a,b){return wb(a,1,b)}),vh=qe(function(a,b,c){return wb(a,b,c)}),wh=xc(),xh=xc(!0),yh=qe(function(a,b){if(b=Db(b),"function"!=typeof a||!fb(b,d))throw new Xf(O);var c=b.length;return qe(function(d){for(var e=wg(d.length,c);e--;)d[e]=b[e](d[e]);return a.apply(this,d)})}),zh=Dc(D),Ah=Dc(E),Bh=qe(function(a,b){return Kc(a,G,w,w,w,Db(b))}),Ch=sg||function(a){return o(a)&&bd(a.length)&&cg.call(a)==R},Dh=kc(Pb),Eh=kc(function(a,b,c){return c?qb(a,b,c):rb(a,b)}),Fh=sc(Eh,ob),Gh=sc(Dh,ed),Hh=wc(Fb),Ih=wc(Gb),Jh=zc(Lg),Kh=zc(Mg),Lh=Ac(Fb),Mh=Ac(Gb),Nh=ug?function(a){var b=null==a?w:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&Yc(a)?id(a):He(a)?ug(a):[]}:id,Oh=Bc(!0),Ph=Bc(),Qh=qe(function(a,b){if(null==a)return{};if("function"!=typeof b[0]){var b=ib(Db(b),Wf);return fd(a,xb(_e(a),b))}var c=fc(b[0],b[1],3);return gd(a,function(a,b,d){return!c(a,b,d)})}),Rh=qe(function(a,b){return null==a?{}:"function"==typeof b[0]?gd(a,fc(b[0],b[1],3)):fd(a,Db(b))}),Sh=pc(function(a,b,c){return b=b.toLowerCase(),a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),Th=pc(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Uh=Cc(),Vh=Cc(!0),Wh=pc(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Xh=pc(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Yh=qe(function(a,b){try{return a.apply(w,b)}catch(c){return Ee(c)?c:new Qf(c)}}),Zh=qe(function(a,b){return function(c){return Xc(c,a,b)}}),$h=qe(function(a,b){return function(c){return Xc(a,c,b)}}),_h=Ic("ceil"),ai=Ic("floor"),bi=tc(we,Ag),ci=tc(Se,Bg),di=Ic("round");return W.prototype=$.prototype,aa.prototype=Ig($.prototype),aa.prototype.constructor=aa,Pa.prototype=Ig($.prototype),Pa.prototype.constructor=Pa,Ta.prototype["delete"]=Ua,Ta.prototype.get=Va,Ta.prototype.has=Wa,Ta.prototype.set=Xa,Ya.prototype.push=$a,ne.Cache=Ta,W.after=je,W.ary=ke,W.assign=Eh,W.at=bh,W.before=le,W.bind=ph,W.bindAll=qh,W.bindKey=rh,W.callback=zf,W.chain=Od,W.chunk=nd,W.compact=od,W.constant=Af,W.countBy=ch,W.create=We,W.curry=sh,W.curryRight=th,W.debounce=me,W.defaults=Fh,W.defaultsDeep=Gh,W.defer=uh,W.delay=vh,W.difference=Rg,W.drop=pd,W.dropRight=qd,W.dropRightWhile=rd,W.dropWhile=sd,W.fill=td,W.filter=Yd,W.flatten=vd,W.flattenDeep=wd,W.flow=wh,W.flowRight=xh,W.forEach=fh,W.forEachRight=gh,W.forIn=Jh,W.forInRight=Kh,W.forOwn=Lh,W.forOwnRight=Mh,W.functions=Xe,W.groupBy=hh,W.indexBy=ih,W.initial=yd,W.intersection=Ug,W.invert=$e,W.invoke=jh,W.keys=Nh,W.keysIn=_e,W.map=_d,W.mapKeys=Oh,W.mapValues=Ph,W.matches=Cf,W.matchesProperty=Df,W.memoize=ne,W.merge=Dh,W.method=Zh,W.methodOf=$h,W.mixin=Ef,W.modArgs=yh,W.negate=oe,W.omit=Qh,W.once=pe,W.pairs=af,W.partial=zh,W.partialRight=Ah,W.partition=kh,W.pick=Rh,W.pluck=ae,W.property=Hf,W.propertyOf=If,W.pull=Bd,W.pullAt=Vg,W.range=Jf,W.rearg=Bh,W.reject=be,W.remove=Cd,W.rest=Dd,W.restParam=qe,W.set=cf,W.shuffle=de,W.slice=Ed,W.sortBy=ge,W.sortByAll=nh,W.sortByOrder=he,W.spread=re,W.take=Fd,W.takeRight=Gd,W.takeRightWhile=Hd,W.takeWhile=Id,W.tap=Pd,W.throttle=se,W.thru=Qd,W.times=Kf,W.toArray=Ue,W.toPlainObject=Ve,W.transform=df,W.union=Yg,W.uniq=Jd,W.unzip=Kd,W.unzipWith=Ld,W.values=ef,W.valuesIn=ff,W.where=ie,W.without=Zg,W.wrap=te,W.xor=Md,W.zip=$g,W.zipObject=Nd,W.zipWith=_g,W.backflow=xh,W.collect=_d,W.compose=xh,W.each=fh,W.eachRight=gh,W.extend=Eh,W.iteratee=zf,W.methods=Xe,W.object=Nd,W.select=Yd,W.tail=Dd,W.unique=Jd,Ef(W,W),W.add=Mf,W.attempt=Yh,W.camelCase=Sh,W.capitalize=jf,W.ceil=_h,W.clone=ue,W.cloneDeep=ve,W.deburr=kf,W.endsWith=lf,W.escape=mf,W.escapeRegExp=nf,W.every=Xd,W.find=dh,W.findIndex=Sg,W.findKey=Hh,W.findLast=eh,W.findLastIndex=Tg,W.findLastKey=Ih,W.findWhere=Zd,W.first=ud,W.floor=ai,W.get=Ye,W.gt=we,W.gte=xe,W.has=Ze,W.identity=Bf,W.includes=$d,W.indexOf=xd,W.inRange=gf,W.isArguments=ye,W.isArray=Ch,W.isBoolean=ze,W.isDate=Ae,W.isElement=Be,W.isEmpty=Ce,W.isEqual=De,W.isError=Ee,W.isFinite=Fe,W.isFunction=Ge,W.isMatch=Ie,W.isNaN=Je,W.isNative=Ke,W.isNull=Le,W.isNumber=Me,W.isObject=He,W.isPlainObject=Ne,W.isRegExp=Oe,W.isString=Pe,W.isTypedArray=Qe,W.isUndefined=Re,W.kebabCase=Th,W.last=zd,W.lastIndexOf=Ad,W.lt=Se,W.lte=Te,W.max=bi,W.min=ci,W.noConflict=Ff,W.noop=Gf,W.now=oh,W.pad=of,W.padLeft=Uh,W.padRight=Vh,W.parseInt=pf,W.random=hf,W.reduce=lh,W.reduceRight=mh,W.repeat=qf,W.result=bf,W.round=di,W.runInContext=v,W.size=ee,W.snakeCase=Wh,W.some=fe,W.sortedIndex=Wg,W.sortedLastIndex=Xg,W.startCase=Xh,W.startsWith=rf,W.sum=Nf,W.template=sf,W.trim=tf,W.trimLeft=uf,W.trimRight=vf,W.trunc=wf,W.unescape=xf,W.uniqueId=Lf,W.words=yf,W.all=Xd,W.any=fe,W.contains=$d,W.eq=De,W.detect=dh,W.foldl=lh,W.foldr=mh,W.head=ud,W.include=$d,W.inject=lh,Ef(W,function(){var a={};return Fb(W,function(b,c){W.prototype[c]||(a[c]=b)}),a}(),!1),W.sample=ce,W.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return ce(b,a)}):ce(this.value())},W.VERSION=x,db(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){W[a].placeholder=W}),db(["drop","take"],function(a,b){Pa.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new Pa(this);c=null==c?1:vg(rg(c)||0,0);var e=this.clone();return d?e.__takeCount__=wg(e.__takeCount__,c):e.__views__.push({size:c,type:a+(e.__dir__<0?"Right":"")}),e},Pa.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),db(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c!=N;Pa.prototype[a]=function(a,b){var e=this.clone();return e.__iteratees__.push({iteratee:Oc(a,b,1),type:c}),e.__filtered__=e.__filtered__||d,e}}),db(["first","last"],function(a,b){var c="take"+(b?"Right":"");Pa.prototype[a]=function(){return this[c](1).value()[0]}}),db(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");Pa.prototype[a]=function(){return this.__filtered__?new Pa(this):this[c](1)}}),db(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?Nb:Hf;Pa.prototype[a]=function(a){return this[c](d(a))}}),Pa.prototype.compact=function(){return this.filter(Bf)},Pa.prototype.reject=function(a,b){return a=Oc(a,b,1),this.filter(function(b){return!a(b)})},Pa.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;return c.__filtered__&&(a>0||0>b)?new Pa(c):(0>a?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==w&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a)),c)},Pa.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()},Pa.prototype.toArray=function(){return this.take(Bg)},Fb(Pa.prototype,function(a,b){var c=/^(?:filter|map|reject)|While$/.test(b),d=/^(?:first|last)$/.test(b),e=W[d?"take"+("last"==b?"Right":""):b];e&&(W.prototype[b]=function(){var b=d?[1]:arguments,f=this.__chain__,g=this.__wrapped__,h=!!this.__actions__.length,i=g instanceof Pa,j=b[0],k=i||Ch(g);k&&c&&"function"==typeof j&&1!=j.length&&(i=k=!1);var l=function(a){return d&&f?e(a,1)[0]:e.apply(w,jb([a],b))},m={func:Qd,args:[l],thisArg:w},n=i&&!h;if(d&&!f)return n?(g=g.clone(),g.__actions__.push(m),a.call(g)):e.call(w,this.value())[0];if(!d&&k){g=n?g:new Pa(this);var o=a.apply(g,b);return o.__actions__.push(m),new aa(o,f)}return this.thru(l)})}),db(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(a){var b=(/^(?:replace|split)$/.test(a)?$f:Yf)[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:join|pop|replace|shift)$/.test(a);W.prototype[a]=function(){var a=arguments;return d&&!this.__chain__?b.apply(this.value(),a):this[c](function(c){return b.apply(c,a)})}}),Fb(Pa.prototype,function(a,b){var c=W[b];if(c){var d=c.name+"",e=Hg[d]||(Hg[d]=[]);e.push({name:b,func:c})}}),Hg[Fc(w,z).name]=[{name:"wrapper",func:w}],Pa.prototype.clone=Qa,Pa.prototype.reverse=Ra,Pa.prototype.value=Sa,W.prototype.chain=Rd,W.prototype.commit=Sd,W.prototype.concat=ah,W.prototype.plant=Td,W.prototype.reverse=Ud,W.prototype.toString=Vd,W.prototype.run=W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=Wd,W.prototype.collect=W.prototype.map,W.prototype.head=W.prototype.first,W.prototype.select=W.prototype.filter,W.prototype.tail=W.prototype.rest,W}var w,x="3.10.1",y=1,z=2,A=4,B=8,C=16,D=32,E=64,F=128,G=256,H=30,I="...",J=150,K=16,L=200,M=1,N=2,O="Expected a function",P="__lodash_placeholder__",Q="[object Arguments]",R="[object Array]",S="[object Boolean]",T="[object Date]",U="[object Error]",V="[object Function]",W="[object Map]",X="[object Number]",Y="[object Object]",Z="[object RegExp]",$="[object Set]",_="[object String]",aa="[object WeakMap]",ba="[object ArrayBuffer]",ca="[object Float32Array]",da="[object Float64Array]",ea="[object Int8Array]",fa="[object Int16Array]",ga="[object Int32Array]",ha="[object Uint8Array]",ia="[object Uint8ClampedArray]",ja="[object Uint16Array]",ka="[object Uint32Array]",la=/\b__p \+= '';/g,ma=/\b(__p \+=) '' \+/g,na=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oa=/&(?:amp|lt|gt|quot|#39|#96);/g,pa=/[&<>"'`]/g,qa=RegExp(oa.source),ra=RegExp(pa.source),sa=/<%-([\s\S]+?)%>/g,ta=/<%([\s\S]+?)%>/g,ua=/<%=([\s\S]+?)%>/g,va=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,wa=/^\w*$/,xa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,ya=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,za=RegExp(ya.source),Aa=/[\u0300-\u036f\ufe20-\ufe23]/g,Ba=/\\(\\)?/g,Ca=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Da=/\w*$/,Ea=/^0[xX]/,Fa=/^\[object .+?Constructor\]$/,Ga=/^\d+$/,Ha=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ia=/($^)/,Ja=/['\n\r\u2028\u2029\\]/g,Ka=function(){var a="[A-Z\\xc0-\\xd6\\xd8-\\xde]",b="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(a+"+(?="+a+b+")|"+a+"?"+b+"|"+a+"+|[0-9]+","g")}(),La=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ma=-1,Na={};Na[ca]=Na[da]=Na[ea]=Na[fa]=Na[ga]=Na[ha]=Na[ia]=Na[ja]=Na[ka]=!0,Na[Q]=Na[R]=Na[ba]=Na[S]=Na[T]=Na[U]=Na[V]=Na[W]=Na[X]=Na[Y]=Na[Z]=Na[$]=Na[_]=Na[aa]=!1;var Oa={};Oa[Q]=Oa[R]=Oa[ba]=Oa[S]=Oa[T]=Oa[ca]=Oa[da]=Oa[ea]=Oa[fa]=Oa[ga]=Oa[X]=Oa[Y]=Oa[Z]=Oa[_]=Oa[ha]=Oa[ia]=Oa[ja]=Oa[ka]=!0,Oa[U]=Oa[V]=Oa[W]=Oa[$]=Oa[aa]=!1;var Pa={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Qa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ra={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Sa={"function":!0,object:!0},Ta={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ua={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Va=Sa[typeof exports]&&exports&&!exports.nodeType&&exports,Wa=Sa[typeof module]&&module&&!module.nodeType&&module,Xa=Va&&Wa&&"object"==typeof global&&global&&global.Object&&global,Ya=Sa[typeof self]&&self&&self.Object&&self,Za=Sa[typeof window]&&window&&window.Object&&window,$a=Wa&&Wa.exports===Va&&Va,_a=Xa||Za!==(this&&this.window)&&Za||Ya||this,ab=v();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(_a._=ab,define("lodash",[],function(){return ab})):Va&&Wa?$a?(Wa.exports=ab)._=ab:Va._=ab:_a._=ab}.call(this),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define("react",[],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.React=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a(25),e=a(31),f=a(42),g=a(34),h=a(69),i=a(98),j=a(100),k=a(127),l=a(122),m=a(170);e.addons={CSSTransitionGroup:g,LinkedStateMixin:d,PureRenderMixin:f,TransitionGroup:i,batchedUpdates:j.batchedUpdates,classSet:k,cloneWithProps:l,createFragment:h.create,update:m},e.addons.Perf=a(61),e.addons.TestUtils=a(95),b.exports=e},{100:100,122:122,127:127,170:170,25:25,31:31,34:34,42:42,61:61,69:69,95:95,98:98}],2:[function(a,b,c){"use strict";var d=a(134),e={componentDidMount:function(){this.props.autoFocus&&d(this.getDOMNode())}};b.exports=e},{134:134}],3:[function(a,b,c){"use strict";function d(){var a=window.opera;return"object"==typeof a&&"function"==typeof a.version&&parseInt(a.version(),10)<=12}function e(a){return(a.ctrlKey||a.altKey||a.metaKey)&&!(a.ctrlKey&&a.altKey)}function f(a){switch(a){case C.topCompositionStart:return D.compositionStart;case C.topCompositionEnd:return D.compositionEnd;case C.topCompositionUpdate:return D.compositionUpdate}}function g(a,b){return a===C.topKeyDown&&b.keyCode===v}function h(a,b){switch(a){case C.topKeyUp:return-1!==u.indexOf(b.keyCode);case C.topKeyDown:return b.keyCode!==v;case C.topKeyPress:case C.topMouseDown:case C.topBlur:return!0;default:return!1}}function i(a){var b=a.detail;return"object"==typeof b&&"data"in b?b.data:null}function j(a,b,c,d){var e,j;if(w?e=f(a):F?h(a,d)&&(e=D.compositionEnd):g(a,d)&&(e=D.compositionStart),!e)return null;z&&(F||e!==D.compositionStart?e===D.compositionEnd&&F&&(j=F.getData()):F=q.getPooled(b));var k=r.getPooled(e,c,d);if(j)k.data=j;else{var l=i(d);null!==l&&(k.data=l)}return o.accumulateTwoPhaseDispatches(k),k}function k(a,b){switch(a){case C.topCompositionEnd:return i(b);case C.topKeyPress:var c=b.which;return c!==A?null:(E=!0,B);case C.topTextInput:var d=b.data;return d===B&&E?null:d;default:return null}}function l(a,b){if(F){if(a===C.topCompositionEnd||h(a,b)){var c=F.getData();return q.release(F),F=null,c}return null}switch(a){case C.topPaste:return null;case C.topKeyPress:return b.which&&!e(b)?String.fromCharCode(b.which):null;case C.topCompositionEnd:return z?null:b.data;default:return null}}function m(a,b,c,d){var e;if(e=y?k(a,d):l(a,d),!e)return null;var f=s.getPooled(D.beforeInput,c,d);return f.data=e,o.accumulateTwoPhaseDispatches(f),f}var n=a(16),o=a(21),p=a(22),q=a(23),r=a(106),s=a(110),t=a(157),u=[9,13,27,32],v=229,w=p.canUseDOM&&"CompositionEvent"in window,x=null;p.canUseDOM&&"documentMode"in document&&(x=document.documentMode);var y=p.canUseDOM&&"TextEvent"in window&&!x&&!d(),z=p.canUseDOM&&(!w||x&&x>8&&11>=x),A=32,B=String.fromCharCode(A),C=n.topLevelTypes,D={beforeInput:{phasedRegistrationNames:{bubbled:t({onBeforeInput:null}),captured:t({onBeforeInputCapture:null})},dependencies:[C.topCompositionEnd,C.topKeyPress,C.topTextInput,C.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:t({onCompositionEnd:null}),captured:t({onCompositionEndCapture:null})},dependencies:[C.topBlur,C.topCompositionEnd,C.topKeyDown,C.topKeyPress,C.topKeyUp,C.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:t({onCompositionStart:null}),captured:t({onCompositionStartCapture:null})},dependencies:[C.topBlur,C.topCompositionStart,C.topKeyDown,C.topKeyPress,C.topKeyUp,C.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:t({onCompositionUpdate:null}),captured:t({onCompositionUpdateCapture:null})},dependencies:[C.topBlur,C.topCompositionUpdate,C.topKeyDown,C.topKeyPress,C.topKeyUp,C.topMouseDown]}},E=!1,F=null,G={eventTypes:D,extractEvents:function(a,b,c,d){return[j(a,b,c,d),m(a,b,c,d)]}};b.exports=G},{106:106,110:110,157:157,16:16,21:21,22:22,23:23}],4:[function(a,b,c){var d=a(150),e={addClass:function(a,b){return d(!/\s/.test(b),'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',b),b&&(a.classList?a.classList.add(b):e.hasClass(a,b)||(a.className=a.className+" "+b)),a},removeClass:function(a,b){return d(!/\s/.test(b),'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',b),b&&(a.classList?a.classList.remove(b):e.hasClass(a,b)&&(a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),a},conditionClass:function(a,b,c){return(c?e.addClass:e.removeClass)(a,b)},hasClass:function(a,b){return d(!/\s/.test(b),"CSS.hasClass takes only a single class name."),a.classList?!!b&&a.classList.contains(b):(" "+a.className+" ").indexOf(" "+b+" ")>-1}};b.exports=e},{150:150}],5:[function(a,b,c){"use strict";function d(a,b){return a+b.charAt(0).toUpperCase()+b.substring(1)}var e={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},f=["Webkit","ms","Moz","O"];Object.keys(e).forEach(function(a){f.forEach(function(b){e[d(b,a)]=e[a]})});var g={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},h={isUnitlessNumber:e,shorthandPropertyExpansions:g};b.exports=h},{}],6:[function(a,b,c){"use strict";var d=a(5),e=a(22),f=a(121),g=a(128),h=a(148),i=a(159),j=a(171),k=i(function(a){return h(a)}),l="cssFloat";e.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(l="styleFloat");var m=/^(?:webkit|moz|o)[A-Z]/,n=/;\s*$/,o={},p={},q=function(a){o.hasOwnProperty(a)&&o[a]||(o[a]=!0,j(!1,"Unsupported style property %s. Did you mean %s?",a,f(a)))},r=function(a){o.hasOwnProperty(a)&&o[a]||(o[a]=!0,j(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",a,a.charAt(0).toUpperCase()+a.slice(1)))},s=function(a,b){p.hasOwnProperty(b)&&p[b]||(p[b]=!0,j(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',a,b.replace(n,"")))},t=function(a,b){a.indexOf("-")>-1?q(a):m.test(a)?r(a):n.test(b)&&s(a,b)},u={createMarkupForStyles:function(a){var b="";for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];t(c,d),null!=d&&(b+=k(c)+":",b+=g(c,d)+";")}return b||null},setValueForStyles:function(a,b){var c=a.style;for(var e in b)if(b.hasOwnProperty(e)){t(e,b[e]);var f=g(e,b[e]);if("float"===e&&(e=l),f)c[e]=f;else{var h=d.shorthandPropertyExpansions[e];if(h)for(var i in h)c[i]="";else c[e]=""}}}};b.exports=u},{121:121,128:128,148:148,159:159,171:171,22:22,5:5}],7:[function(a,b,c){"use strict";function d(){this._callbacks=null,this._contexts=null}var e=a(30),f=a(29),g=a(150);f(d.prototype,{enqueue:function(a,b){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(a),this._contexts.push(b)},notifyAll:function(){var a=this._callbacks,b=this._contexts;if(a){g(a.length===b.length,"Mismatched list of contexts in callback queue"),this._callbacks=null,this._contexts=null;for(var c=0,d=a.length;d>c;c++)a[c].call(b[c]);a.length=0,b.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),e.addPoolingTo(d),b.exports=d},{150:150,29:29,30:30}],8:[function(a,b,c){"use strict";function d(a){return"SELECT"===a.nodeName||"INPUT"===a.nodeName&&"file"===a.type}function e(a){var b=x.getPooled(C.change,E,a);u.accumulateTwoPhaseDispatches(b),w.batchedUpdates(f,b)}function f(a){t.enqueueEvents(a),t.processEventQueue()}function g(a,b){D=a,E=b,D.attachEvent("onchange",e)}function h(){D&&(D.detachEvent("onchange",e),D=null,E=null)}function i(a,b,c){return a===B.topChange?c:void 0}function j(a,b,c){a===B.topFocus?(h(),g(b,c)):a===B.topBlur&&h()}function k(a,b){D=a,E=b,F=a.value,G=Object.getOwnPropertyDescriptor(a.constructor.prototype,"value"),Object.defineProperty(D,"value",J),D.attachEvent("onpropertychange",m)}function l(){D&&(delete D.value,D.detachEvent("onpropertychange",m),D=null,E=null,F=null,G=null)}function m(a){if("value"===a.propertyName){var b=a.srcElement.value;b!==F&&(F=b,e(a))}}function n(a,b,c){return a===B.topInput?c:void 0}function o(a,b,c){a===B.topFocus?(l(),k(b,c)):a===B.topBlur&&l()}function p(a,b,c){return a!==B.topSelectionChange&&a!==B.topKeyUp&&a!==B.topKeyDown||!D||D.value===F?void 0:(F=D.value,E)}function q(a){return"INPUT"===a.nodeName&&("checkbox"===a.type||"radio"===a.type)}function r(a,b,c){return a===B.topClick?c:void 0}var s=a(16),t=a(18),u=a(21),v=a(22),w=a(100),x=a(108),y=a(151),z=a(153),A=a(157),B=s.topLevelTypes,C={change:{phasedRegistrationNames:{bubbled:A({onChange:null}),captured:A({onChangeCapture:null})},dependencies:[B.topBlur,B.topChange,B.topClick,B.topFocus,B.topInput,B.topKeyDown,B.topKeyUp,B.topSelectionChange]}},D=null,E=null,F=null,G=null,H=!1;v.canUseDOM&&(H=y("change")&&(!("documentMode"in document)||document.documentMode>8));var I=!1;v.canUseDOM&&(I=y("input")&&(!("documentMode"in document)||document.documentMode>9));var J={get:function(){return G.get.call(this)},set:function(a){F=""+a,G.set.call(this,a)}},K={eventTypes:C,extractEvents:function(a,b,c,e){var f,g;if(d(b)?H?f=i:g=j:z(b)?I?f=n:(f=p,g=o):q(b)&&(f=r),f){var h=f(a,b,c);if(h){
var k=x.getPooled(C.change,h,e);return u.accumulateTwoPhaseDispatches(k),k}}g&&g(a,b,c)}};b.exports=K},{100:100,108:108,151:151,153:153,157:157,16:16,18:18,21:21,22:22}],9:[function(a,b,c){"use strict";var d=0,e={createReactRootIndex:function(){return d++}};b.exports=e},{}],10:[function(a,b,c){"use strict";function d(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}var e=a(13),f=a(79),g=a(165),h=a(150),i={dangerouslyReplaceNodeWithMarkup:e.dangerouslyReplaceNodeWithMarkup,updateTextContent:g,processUpdates:function(a,b){for(var c,i=null,j=null,k=0;k<a.length;k++)if(c=a[k],c.type===f.MOVE_EXISTING||c.type===f.REMOVE_NODE){var l=c.fromIndex,m=c.parentNode.childNodes[l],n=c.parentID;h(m,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",l,n),i=i||{},i[n]=i[n]||[],i[n][l]=m,j=j||[],j.push(m)}var o=e.dangerouslyRenderMarkup(b);if(j)for(var p=0;p<j.length;p++)j[p].parentNode.removeChild(j[p]);for(var q=0;q<a.length;q++)switch(c=a[q],c.type){case f.INSERT_MARKUP:d(c.parentNode,o[c.markupIndex],c.toIndex);break;case f.MOVE_EXISTING:d(c.parentNode,i[c.parentID][c.fromIndex],c.toIndex);break;case f.TEXT_CONTENT:g(c.parentNode,c.textContent);break;case f.REMOVE_NODE:}}};b.exports=i},{13:13,150:150,165:165,79:79}],11:[function(a,b,c){"use strict";function d(a,b){return(a&b)===b}var e=a(150),f={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(a){var b=a.Properties||{},c=a.DOMAttributeNames||{},g=a.DOMPropertyNames||{},i=a.DOMMutationMethods||{};a.isCustomAttribute&&h._isCustomAttributeFunctions.push(a.isCustomAttribute);for(var j in b){e(!h.isStandardName.hasOwnProperty(j),"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",j),h.isStandardName[j]=!0;var k=j.toLowerCase();if(h.getPossibleStandardName[k]=j,c.hasOwnProperty(j)){var l=c[j];h.getPossibleStandardName[l]=j,h.getAttributeName[j]=l}else h.getAttributeName[j]=k;h.getPropertyName[j]=g.hasOwnProperty(j)?g[j]:j,i.hasOwnProperty(j)?h.getMutationMethod[j]=i[j]:h.getMutationMethod[j]=null;var m=b[j];h.mustUseAttribute[j]=d(m,f.MUST_USE_ATTRIBUTE),h.mustUseProperty[j]=d(m,f.MUST_USE_PROPERTY),h.hasSideEffects[j]=d(m,f.HAS_SIDE_EFFECTS),h.hasBooleanValue[j]=d(m,f.HAS_BOOLEAN_VALUE),h.hasNumericValue[j]=d(m,f.HAS_NUMERIC_VALUE),h.hasPositiveNumericValue[j]=d(m,f.HAS_POSITIVE_NUMERIC_VALUE),h.hasOverloadedBooleanValue[j]=d(m,f.HAS_OVERLOADED_BOOLEAN_VALUE),e(!h.mustUseAttribute[j]||!h.mustUseProperty[j],"DOMProperty: Cannot require using both attribute and property: %s",j),e(h.mustUseProperty[j]||!h.hasSideEffects[j],"DOMProperty: Properties that have side effects must use property: %s",j),e(!!h.hasBooleanValue[j]+!!h.hasNumericValue[j]+!!h.hasOverloadedBooleanValue[j]<=1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",j)}}},g={},h={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(a){for(var b=0;b<h._isCustomAttributeFunctions.length;b++){var c=h._isCustomAttributeFunctions[b];if(c(a))return!0}return!1},getDefaultValueForProperty:function(a,b){var c,d=g[a];return d||(g[a]=d={}),b in d||(c=document.createElement(a),d[b]=c[b]),d[b]},injection:f};b.exports=h},{150:150}],12:[function(a,b,c){"use strict";function d(a,b){return null==b||e.hasBooleanValue[a]&&!b||e.hasNumericValue[a]&&isNaN(b)||e.hasPositiveNumericValue[a]&&1>b||e.hasOverloadedBooleanValue[a]&&b===!1}var e=a(11),f=a(163),g=a(171),h={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},i={},j=function(a){if(!(h.hasOwnProperty(a)&&h[a]||i.hasOwnProperty(a)&&i[a])){i[a]=!0;var b=a.toLowerCase(),c=e.isCustomAttribute(b)?b:e.getPossibleStandardName.hasOwnProperty(b)?e.getPossibleStandardName[b]:null;g(null==c,"Unknown DOM property %s. Did you mean %s?",a,c)}},k={createMarkupForID:function(a){return e.ID_ATTRIBUTE_NAME+"="+f(a)},createMarkupForProperty:function(a,b){if(e.isStandardName.hasOwnProperty(a)&&e.isStandardName[a]){if(d(a,b))return"";var c=e.getAttributeName[a];return e.hasBooleanValue[a]||e.hasOverloadedBooleanValue[a]&&b===!0?c:c+"="+f(b)}return e.isCustomAttribute(a)?null==b?"":a+"="+f(b):(j(a),null)},setValueForProperty:function(a,b,c){if(e.isStandardName.hasOwnProperty(b)&&e.isStandardName[b]){var f=e.getMutationMethod[b];if(f)f(a,c);else if(d(b,c))this.deleteValueForProperty(a,b);else if(e.mustUseAttribute[b])a.setAttribute(e.getAttributeName[b],""+c);else{var g=e.getPropertyName[b];e.hasSideEffects[b]&&""+a[g]==""+c||(a[g]=c)}}else e.isCustomAttribute(b)?null==c?a.removeAttribute(b):a.setAttribute(b,""+c):j(b)},deleteValueForProperty:function(a,b){if(e.isStandardName.hasOwnProperty(b)&&e.isStandardName[b]){var c=e.getMutationMethod[b];if(c)c(a,void 0);else if(e.mustUseAttribute[b])a.removeAttribute(e.getAttributeName[b]);else{var d=e.getPropertyName[b],f=e.getDefaultValueForProperty(a.nodeName,d);e.hasSideEffects[b]&&""+a[d]===f||(a[d]=f)}}else e.isCustomAttribute(b)?a.removeAttribute(b):j(b)}};b.exports=k},{11:11,163:163,171:171}],13:[function(a,b,c){"use strict";function d(a){return a.substring(1,a.indexOf(" "))}var e=a(22),f=a(126),g=a(129),h=a(142),i=a(150),j=/^(<[^ \/>]+)/,k="data-danger-index",l={dangerouslyRenderMarkup:function(a){i(e.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering.");for(var b,c={},l=0;l<a.length;l++)i(a[l],"dangerouslyRenderMarkup(...): Missing markup."),b=d(a[l]),b=h(b)?b:"*",c[b]=c[b]||[],c[b][l]=a[l];var m=[],n=0;for(b in c)if(c.hasOwnProperty(b)){var o,p=c[b];for(o in p)if(p.hasOwnProperty(o)){var q=p[o];p[o]=q.replace(j,"$1 "+k+'="'+o+'" ')}for(var r=f(p.join(""),g),s=0;s<r.length;++s){var t=r[s];t.hasAttribute&&t.hasAttribute(k)?(o=+t.getAttribute(k),t.removeAttribute(k),i(!m.hasOwnProperty(o),"Danger: Assigning to an already-occupied result index."),m[o]=t,n+=1):console.error("Danger: Discarding unexpected node:",t)}}return i(n===m.length,"Danger: Did not assign to every index of resultList."),i(m.length===a.length,"Danger: Expected markup to render %s nodes, but rendered %s.",a.length,m.length),m},dangerouslyReplaceNodeWithMarkup:function(a,b){i(e.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."),i(b,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),i("html"!==a.tagName.toLowerCase(),"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See React.renderToString().");var c=f(b,g)[0];a.parentNode.replaceChild(c,a)}};b.exports=l},{126:126,129:129,142:142,150:150,22:22}],14:[function(a,b,c){"use strict";var d=a(157),e=[d({ResponderEventPlugin:null}),d({SimpleEventPlugin:null}),d({TapEventPlugin:null}),d({EnterLeaveEventPlugin:null}),d({ChangeEventPlugin:null}),d({SelectEventPlugin:null}),d({BeforeInputEventPlugin:null}),d({AnalyticsEventPlugin:null}),d({MobileSafariClickEventPlugin:null})];b.exports=e},{157:157}],15:[function(a,b,c){"use strict";var d=a(16),e=a(21),f=a(112),g=a(77),h=a(157),i=d.topLevelTypes,j=g.getFirstReactDOM,k={mouseEnter:{registrationName:h({onMouseEnter:null}),dependencies:[i.topMouseOut,i.topMouseOver]},mouseLeave:{registrationName:h({onMouseLeave:null}),dependencies:[i.topMouseOut,i.topMouseOver]}},l=[null,null],m={eventTypes:k,extractEvents:function(a,b,c,d){if(a===i.topMouseOver&&(d.relatedTarget||d.fromElement))return null;if(a!==i.topMouseOut&&a!==i.topMouseOver)return null;var h;if(b.window===b)h=b;else{var m=b.ownerDocument;h=m?m.defaultView||m.parentWindow:window}var n,o;if(a===i.topMouseOut?(n=b,o=j(d.relatedTarget||d.toElement)||h):(n=h,o=b),n===o)return null;var p=n?g.getID(n):"",q=o?g.getID(o):"",r=f.getPooled(k.mouseLeave,p,d);r.type="mouseleave",r.target=n,r.relatedTarget=o;var s=f.getPooled(k.mouseEnter,q,d);return s.type="mouseenter",s.target=o,s.relatedTarget=n,e.accumulateEnterLeaveDispatches(r,s,p,q),l[0]=r,l[1]=s,l}};b.exports=m},{112:112,157:157,16:16,21:21,77:77}],16:[function(a,b,c){"use strict";var d=a(156),e=d({bubbled:null,captured:null}),f=d({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),g={topLevelTypes:f,PropagationPhases:e};b.exports=g},{156:156}],17:[function(a,b,c){var d=a(129),e={listen:function(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!1),{remove:function(){a.removeEventListener(b,c,!1)}}):a.attachEvent?(a.attachEvent("on"+b,c),{remove:function(){a.detachEvent("on"+b,c)}}):void 0},capture:function(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!0),{remove:function(){a.removeEventListener(b,c,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:d})},registerDefault:function(){}};b.exports=e},{129:129}],18:[function(a,b,c){"use strict";function d(){var a=m&&m.traverseTwoPhase&&m.traverseEnterLeave;i(a,"InstanceHandle not injected before use!")}var e=a(19),f=a(20),g=a(118),h=a(135),i=a(150),j={},k=null,l=function(a){if(a){var b=f.executeDispatch,c=e.getPluginModuleForEvent(a);c&&c.executeDispatch&&(b=c.executeDispatch),f.executeDispatchesInOrder(a,b),a.isPersistent()||a.constructor.release(a)}},m=null,n={injection:{injectMount:f.injection.injectMount,injectInstanceHandle:function(a){m=a,d()},getInstanceHandle:function(){return d(),m},injectEventPluginOrder:e.injectEventPluginOrder,injectEventPluginsByName:e.injectEventPluginsByName},eventNameDispatchConfigs:e.eventNameDispatchConfigs,registrationNameModules:e.registrationNameModules,putListener:function(a,b,c){i(!c||"function"==typeof c,"Expected %s listener to be a function, instead got type %s",b,typeof c);var d=j[b]||(j[b]={});d[a]=c},getListener:function(a,b){var c=j[b];return c&&c[a]},deleteListener:function(a,b){var c=j[b];c&&delete c[a]},deleteAllListeners:function(a){for(var b in j)delete j[b][a]},extractEvents:function(a,b,c,d){for(var f,h=e.plugins,i=0,j=h.length;j>i;i++){var k=h[i];if(k){var l=k.extractEvents(a,b,c,d);l&&(f=g(f,l))}}return f},enqueueEvents:function(a){a&&(k=g(k,a))},processEventQueue:function(){var a=k;k=null,h(a,l),i(!k,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.")},__purge:function(){j={}},__getListenerBank:function(){return j}};b.exports=n},{118:118,135:135,150:150,19:19,20:20}],19:[function(a,b,c){"use strict";function d(){if(h)for(var a in i){var b=i[a],c=h.indexOf(a);if(g(c>-1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",a),!j.plugins[c]){g(b.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",a),j.plugins[c]=b;var d=b.eventTypes;for(var f in d)g(e(d[f],b,f),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",f,a)}}}function e(a,b,c){g(!j.eventNameDispatchConfigs.hasOwnProperty(c),"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",c),j.eventNameDispatchConfigs[c]=a;var d=a.phasedRegistrationNames;if(d){for(var e in d)if(d.hasOwnProperty(e)){var h=d[e];f(h,b,c)}return!0}return a.registrationName?(f(a.registrationName,b,c),!0):!1}function f(a,b,c){g(!j.registrationNameModules[a],"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",a),j.registrationNameModules[a]=b,j.registrationNameDependencies[a]=b.eventTypes[c].dependencies}var g=a(150),h=null,i={},j={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(a){g(!h,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."),h=Array.prototype.slice.call(a),d()},injectEventPluginsByName:function(a){var b=!1;for(var c in a)if(a.hasOwnProperty(c)){var e=a[c];i.hasOwnProperty(c)&&i[c]===e||(g(!i[c],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",c),i[c]=e,b=!0)}b&&d()},getPluginModuleForEvent:function(a){var b=a.dispatchConfig;if(b.registrationName)return j.registrationNameModules[b.registrationName]||null;for(var c in b.phasedRegistrationNames)if(b.phasedRegistrationNames.hasOwnProperty(c)){var d=j.registrationNameModules[b.phasedRegistrationNames[c]];if(d)return d}return null},_resetEventPlugins:function(){h=null;for(var a in i)i.hasOwnProperty(a)&&delete i[a];j.plugins.length=0;var b=j.eventNameDispatchConfigs;for(var c in b)b.hasOwnProperty(c)&&delete b[c];var d=j.registrationNameModules;for(var e in d)d.hasOwnProperty(e)&&delete d[e]}};b.exports=j},{150:150}],20:[function(a,b,c){"use strict";function d(a){return a===r.topMouseUp||a===r.topTouchEnd||a===r.topTouchCancel}function e(a){return a===r.topMouseMove||a===r.topTouchMove}function f(a){return a===r.topMouseDown||a===r.topTouchStart}function g(a,b){var c=a._dispatchListeners,d=a._dispatchIDs;if(n(a),Array.isArray(c))for(var e=0;e<c.length&&!a.isPropagationStopped();e++)b(a,c[e],d[e]);else c&&b(a,c,d)}function h(a,b,c){a.currentTarget=q.Mount.getNode(c);var d=b(a,c);return a.currentTarget=null,d}function i(a,b){g(a,b),a._dispatchListeners=null,a._dispatchIDs=null}function j(a){var b=a._dispatchListeners,c=a._dispatchIDs;if(n(a),Array.isArray(b)){for(var d=0;d<b.length&&!a.isPropagationStopped();d++)if(b[d](a,c[d]))return c[d]}else if(b&&b(a,c))return c;return null}function k(a){var b=j(a);return a._dispatchIDs=null,a._dispatchListeners=null,b}function l(a){n(a);var b=a._dispatchListeners,c=a._dispatchIDs;p(!Array.isArray(b),"executeDirectDispatch(...): Invalid `event`.");var d=b?b(a,c):null;return a._dispatchListeners=null,a._dispatchIDs=null,d}function m(a){return!!a._dispatchListeners}var n,o=a(16),p=a(150),q={Mount:null,injectMount:function(a){q.Mount=a,p(a&&a.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode.")}},r=o.topLevelTypes;n=function(a){var b=a._dispatchListeners,c=a._dispatchIDs,d=Array.isArray(b),e=Array.isArray(c),f=e?c.length:c?1:0,g=d?b.length:b?1:0;p(e===d&&f===g,"EventPluginUtils: Invalid `event`.")};var s={isEndish:d,isMoveish:e,isStartish:f,executeDirectDispatch:l,executeDispatch:h,executeDispatchesInOrder:i,executeDispatchesInOrderStopAtTrue:k,hasDispatches:m,injection:q,useTouchEvents:!1};b.exports=s},{150:150,16:16}],21:[function(a,b,c){"use strict";function d(a,b,c){var d=b.dispatchConfig.phasedRegistrationNames[c];return q(a,d)}function e(a,b,c){if(!a)throw new Error("Dispatching id must not be null");var e=b?p.bubbled:p.captured,f=d(a,c,e);f&&(c._dispatchListeners=n(c._dispatchListeners,f),c._dispatchIDs=n(c._dispatchIDs,a))}function f(a){a&&a.dispatchConfig.phasedRegistrationNames&&m.injection.getInstanceHandle().traverseTwoPhase(a.dispatchMarker,e,a)}function g(a,b,c){if(c&&c.dispatchConfig.registrationName){var d=c.dispatchConfig.registrationName,e=q(a,d);e&&(c._dispatchListeners=n(c._dispatchListeners,e),c._dispatchIDs=n(c._dispatchIDs,a))}}function h(a){a&&a.dispatchConfig.registrationName&&g(a.dispatchMarker,null,a)}function i(a){o(a,f)}function j(a,b,c,d){m.injection.getInstanceHandle().traverseEnterLeave(c,d,g,a,b)}function k(a){o(a,h)}var l=a(16),m=a(18),n=a(118),o=a(135),p=l.PropagationPhases,q=m.getListener,r={accumulateTwoPhaseDispatches:i,accumulateDirectDispatches:k,accumulateEnterLeaveDispatches:j};b.exports=r},{118:118,135:135,16:16,18:18}],22:[function(a,b,c){"use strict";var d=!("undefined"==typeof window||!window.document||!window.document.createElement),e={canUseDOM:d,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:d&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:d&&!!window.screen,isInWorker:!d};b.exports=e},{}],23:[function(a,b,c){"use strict";function d(a){this._root=a,this._startText=this.getText(),this._fallbackText=null}var e=a(30),f=a(29),g=a(145);f(d.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[g()]},getData:function(){if(this._fallbackText)return this._fallbackText;var a,b,c=this._startText,d=c.length,e=this.getText(),f=e.length;for(a=0;d>a&&c[a]===e[a];a++);var g=d-a;for(b=1;g>=b&&c[d-b]===e[f-b];b++);var h=b>1?1-b:void 0;return this._fallbackText=e.slice(a,h),this._fallbackText}}),e.addPoolingTo(d),b.exports=d},{145:145,29:29,30:30}],24:[function(a,b,c){"use strict";var d,e=a(11),f=a(22),g=e.injection.MUST_USE_ATTRIBUTE,h=e.injection.MUST_USE_PROPERTY,i=e.injection.HAS_BOOLEAN_VALUE,j=e.injection.HAS_SIDE_EFFECTS,k=e.injection.HAS_NUMERIC_VALUE,l=e.injection.HAS_POSITIVE_NUMERIC_VALUE,m=e.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(f.canUseDOM){var n=document.implementation;d=n&&n.hasFeature&&n.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var o={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:g|i,allowTransparency:g,alt:null,async:i,autoComplete:null,autoPlay:i,cellPadding:null,cellSpacing:null,charSet:g,checked:h|i,classID:g,className:d?g:h,cols:g|l,colSpan:null,content:null,contentEditable:null,contextMenu:g,controls:h|i,coords:null,crossOrigin:null,data:null,dateTime:g,defer:i,dir:null,disabled:g|i,download:m,draggable:null,encType:null,form:g,formAction:g,formEncType:g,formMethod:g,formNoValidate:i,formTarget:g,frameBorder:g,headers:null,height:g,hidden:g|i,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:h,label:null,lang:null,list:g,loop:h|i,low:null,manifest:g,marginHeight:null,marginWidth:null,max:null,maxLength:g,media:g,mediaGroup:null,method:null,min:null,multiple:h|i,muted:h|i,name:null,noValidate:i,open:i,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:h|i,rel:null,required:i,role:g,rows:g|l,rowSpan:null,sandbox:null,scope:null,scoped:i,scrolling:null,seamless:g|i,selected:h|i,shape:null,size:g|l,sizes:g,span:l,spellCheck:null,src:null,srcDoc:h,srcSet:g,start:k,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:h|j,width:g,wmode:g,autoCapitalize:null,autoCorrect:null,itemProp:g,itemScope:g|i,itemType:g,itemID:g,itemRef:g,property:null,unselectable:g},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};b.exports=o},{11:11,22:22}],25:[function(a,b,c){"use strict";var d=a(75),e=a(94),f={linkState:function(a){return new d(this.state[a],e.createStateKeySetter(this,a))}};b.exports=f},{75:75,94:94}],26:[function(a,b,c){"use strict";function d(a){j(null==a.props.checkedLink||null==a.props.valueLink,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa.")}function e(a){d(a),j(null==a.props.value&&null==a.props.onChange,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink.")}function f(a){d(a),j(null==a.props.checked&&null==a.props.onChange,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink")}function g(a){this.props.valueLink.requestChange(a.target.value)}function h(a){this.props.checkedLink.requestChange(a.target.checked)}var i=a(86),j=a(150),k={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},l={Mixin:{propTypes:{value:function(a,b,c){return!a[b]||k[a.type]||a.onChange||a.readOnly||a.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(a,b,c){return!a[b]||a.onChange||a.readOnly||a.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:i.func}},getValue:function(a){return a.props.valueLink?(e(a),a.props.valueLink.value):a.props.value},getChecked:function(a){return a.props.checkedLink?(f(a),a.props.checkedLink.value):a.props.checked},getOnChange:function(a){return a.props.valueLink?(e(a),g):a.props.checkedLink?(f(a),h):a.props.onChange}};b.exports=l},{150:150,86:86}],27:[function(a,b,c){"use strict";function d(a){a.remove()}var e=a(33),f=a(118),g=a(135),h=a(150),i={trapBubbledEvent:function(a,b){h(this.isMounted(),"Must be mounted to trap events");var c=this.getDOMNode();h(c,"LocalEventTrapMixin.trapBubbledEvent(...): Requires node to be rendered.");var d=e.trapBubbledEvent(a,b,c);this._localEventListeners=f(this._localEventListeners,d)},componentWillUnmount:function(){this._localEventListeners&&g(this._localEventListeners,d)}};b.exports=i},{118:118,135:135,150:150,33:33}],28:[function(a,b,c){"use strict";var d=a(16),e=a(129),f=d.topLevelTypes,g={eventTypes:null,extractEvents:function(a,b,c,d){if(a===f.topTouchStart){var g=d.target;g&&!g.onclick&&(g.onclick=e)}}};b.exports=g},{129:129,16:16}],29:[function(a,b,c){"use strict";function d(a,b){if(null==a)throw new TypeError("Object.assign target cannot be null or undefined");for(var c=Object(a),d=Object.prototype.hasOwnProperty,e=1;e<arguments.length;e++){var f=arguments[e];if(null!=f){var g=Object(f);for(var h in g)d.call(g,h)&&(c[h]=g[h])}}return c}b.exports=d},{}],30:[function(a,b,c){"use strict";var d=a(150),e=function(a){var b=this;if(b.instancePool.length){var c=b.instancePool.pop();return b.call(c,a),c}return new b(a)},f=function(a,b){var c=this;if(c.instancePool.length){var d=c.instancePool.pop();return c.call(d,a,b),d}return new c(a,b)},g=function(a,b,c){var d=this;if(d.instancePool.length){var e=d.instancePool.pop();return d.call(e,a,b,c),e}return new d(a,b,c)},h=function(a,b,c,d,e){var f=this;if(f.instancePool.length){var g=f.instancePool.pop();return f.call(g,a,b,c,d,e),g}return new f(a,b,c,d,e)},i=function(a){var b=this;d(a instanceof b,"Trying to release an instance into a pool of a different type."),a.destructor&&a.destructor(),b.instancePool.length<b.poolSize&&b.instancePool.push(a)},j=10,k=e,l=function(a,b){var c=a;return c.instancePool=[],c.getPooled=b||k,c.poolSize||(c.poolSize=j),c.release=i,c},m={addPoolingTo:l,oneArgumentPooler:e,twoArgumentPooler:f,threeArgumentPooler:g,fiveArgumentPooler:h};b.exports=m},{150:150}],31:[function(a,b,c){"use strict";var d=a(20),e=a(37),f=a(39),g=a(38),h=a(44),i=a(45),j=a(63),k=a(64),l=a(46),m=a(57),n=a(60),o=a(72),p=a(77),q=a(82),r=a(86),s=a(89),t=a(92),u=a(29),v=a(132),w=a(160);n.inject();var x=j.createElement,y=j.createFactory,z=j.cloneElement;x=k.createElement,y=k.createFactory,z=k.cloneElement;var A=q.measure("React","render",p.render),B={Children:{map:e.map,forEach:e.forEach,count:e.count,only:w},Component:f,DOM:l,PropTypes:r,initializeTouchEvents:function(a){d.useTouchEvents=a},createClass:g.createClass,createElement:x,cloneElement:z,createFactory:y,createMixin:function(a){return a},constructAndRenderComponent:p.constructAndRenderComponent,constructAndRenderComponentByID:p.constructAndRenderComponentByID,findDOMNode:v,render:A,renderToString:t.renderToString,renderToStaticMarkup:t.renderToStaticMarkup,unmountComponentAtNode:p.unmountComponentAtNode,isValidElement:j.isValidElement,withContext:h.withContext,__spread:u};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:i,InstanceHandles:o,Mount:p,Reconciler:s,TextComponent:m});var C=a(22);if(C.canUseDOM&&window.top===window.self){navigator.userAgent.indexOf("Chrome")>-1&&"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");for(var D=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],E=0;E<D.length;E++)if(!D[E]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}B.version="0.13.3",B.Injection=a(70),b.exports=B},{132:132,160:160,20:20,22:22,29:29,37:37,38:38,39:39,44:44,45:45,46:46,57:57,60:60,63:63,64:64,72:72,77:77,82:82,86:86,89:89,92:92}],32:[function(a,b,c){"use strict";var d=a(132),e={getDOMNode:function(){return d(this)}};b.exports=e},{132:132}],33:[function(a,b,c){"use strict";function d(a){return Object.prototype.hasOwnProperty.call(a,p)||(a[p]=n++,l[a[p]]={}),l[a[p]]}var e=a(16),f=a(18),g=a(19),h=a(67),i=a(117),j=a(29),k=a(151),l={},m=!1,n=0,o={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},p="_reactListenersID"+String(Math.random()).slice(2),q=j({},h,{ReactEventListener:null,injection:{injectReactEventListener:function(a){a.setHandleTopLevel(q.handleTopLevel),q.ReactEventListener=a}},setEnabled:function(a){q.ReactEventListener&&q.ReactEventListener.setEnabled(a)},isEnabled:function(){return!(!q.ReactEventListener||!q.ReactEventListener.isEnabled())},listenTo:function(a,b){for(var c=b,f=d(c),h=g.registrationNameDependencies[a],i=e.topLevelTypes,j=0,l=h.length;l>j;j++){var m=h[j];f.hasOwnProperty(m)&&f[m]||(m===i.topWheel?k("wheel")?q.ReactEventListener.trapBubbledEvent(i.topWheel,"wheel",c):k("mousewheel")?q.ReactEventListener.trapBubbledEvent(i.topWheel,"mousewheel",c):q.ReactEventListener.trapBubbledEvent(i.topWheel,"DOMMouseScroll",c):m===i.topScroll?k("scroll",!0)?q.ReactEventListener.trapCapturedEvent(i.topScroll,"scroll",c):q.ReactEventListener.trapBubbledEvent(i.topScroll,"scroll",q.ReactEventListener.WINDOW_HANDLE):m===i.topFocus||m===i.topBlur?(k("focus",!0)?(q.ReactEventListener.trapCapturedEvent(i.topFocus,"focus",c),q.ReactEventListener.trapCapturedEvent(i.topBlur,"blur",c)):k("focusin")&&(q.ReactEventListener.trapBubbledEvent(i.topFocus,"focusin",c),q.ReactEventListener.trapBubbledEvent(i.topBlur,"focusout",c)),f[i.topBlur]=!0,f[i.topFocus]=!0):o.hasOwnProperty(m)&&q.ReactEventListener.trapBubbledEvent(m,o[m],c),f[m]=!0)}},trapBubbledEvent:function(a,b,c){return q.ReactEventListener.trapBubbledEvent(a,b,c)},trapCapturedEvent:function(a,b,c){return q.ReactEventListener.trapCapturedEvent(a,b,c)},ensureScrollValueMonitoring:function(){if(!m){var a=i.refreshScrollValues;q.ReactEventListener.monitorScrollValue(a),m=!0}},eventNameDispatchConfigs:f.eventNameDispatchConfigs,registrationNameModules:f.registrationNameModules,putListener:f.putListener,getListener:f.getListener,deleteListener:f.deleteListener,deleteAllListeners:f.deleteAllListeners});b.exports=q},{117:117,151:151,16:16,18:18,19:19,29:29,67:67}],34:[function(a,b,c){"use strict";var d=a(31),e=a(29),f=d.createFactory(a(98)),g=d.createFactory(a(35)),h=d.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:d.PropTypes.string.isRequired,transitionAppear:d.PropTypes.bool,transitionEnter:d.PropTypes.bool,transitionLeave:d.PropTypes.bool},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(a){return g({name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave},a)},render:function(){return f(e({},this.props,{childFactory:this._wrapChild}))}});b.exports=h},{29:29,31:31,35:35,98:98}],35:[function(a,b,c){"use strict";var d=a(31),e=a(4),f=a(97),g=a(160),h=a(171),i=17,j=5e3,k=null;k=function(){h(!1,"transition(): tried to perform an animation without an animationend or transitionend event after timeout (%sms). You should either disable this transition in JS or add a CSS animation/transition.",j)};var l=d.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(a,b){var c=this.getDOMNode(),d=this.props.name+"-"+a,g=d+"-active",h=null,i=function(a){a&&a.target!==c||(clearTimeout(h),e.removeClass(c,d),e.removeClass(c,g),f.removeEndEventListener(c,i),b&&b())};f.addEndEventListener(c,i),e.addClass(c,d),this.queueClass(g),h=setTimeout(k,j)},queueClass:function(a){this.classNameQueue.push(a),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,i))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(e.addClass.bind(e,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillAppear:function(a){this.props.appear?this.transition("appear",a):a()},componentWillEnter:function(a){this.props.enter?this.transition("enter",a):a()},componentWillLeave:function(a){this.props.leave?this.transition("leave",a):a()},render:function(){return g(this.props.children)}});b.exports=l},{160:160,171:171,31:31,4:4,97:97}],36:[function(a,b,c){"use strict";var d=a(89),e=a(133),f=a(149),g=a(167),h={instantiateChildren:function(a,b,c){var d=e(a);for(var g in d)if(d.hasOwnProperty(g)){var h=d[g],i=f(h,null);d[g]=i}return d},updateChildren:function(a,b,c,h){
var i=e(b);if(!i&&!a)return null;var j;for(j in i)if(i.hasOwnProperty(j)){var k=a&&a[j],l=k&&k._currentElement,m=i[j];if(g(l,m))d.receiveComponent(k,m,c,h),i[j]=k;else{k&&d.unmountComponent(k,j);var n=f(m,null);i[j]=n}}for(j in a)!a.hasOwnProperty(j)||i&&i.hasOwnProperty(j)||d.unmountComponent(a[j]);return i},unmountChildren:function(a){for(var b in a){var c=a[b];d.unmountComponent(c)}}};b.exports=h},{133:133,149:149,167:167,89:89}],37:[function(a,b,c){"use strict";function d(a,b){this.forEachFunction=a,this.forEachContext=b}function e(a,b,c,d){var e=a;e.forEachFunction.call(e.forEachContext,b,d)}function f(a,b,c){if(null==a)return a;var f=d.getPooled(b,c);n(a,e,f),d.release(f)}function g(a,b,c){this.mapResult=a,this.mapFunction=b,this.mapContext=c}function h(a,b,c,d){var e=a,f=e.mapResult,g=!f.hasOwnProperty(c);if(o(g,"ReactChildren.map(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",c),g){var h=e.mapFunction.call(e.mapContext,b,d);f[c]=h}}function i(a,b,c){if(null==a)return a;var d={},e=g.getPooled(d,b,c);return n(a,h,e),g.release(e),m.create(d)}function j(a,b,c,d){return null}function k(a,b){return n(a,j,null)}var l=a(30),m=a(69),n=a(169),o=a(171),p=l.twoArgumentPooler,q=l.threeArgumentPooler;l.addPoolingTo(d,p),l.addPoolingTo(g,q);var r={forEach:f,map:i,count:k};b.exports=r},{169:169,171:171,30:30,69:69}],38:[function(a,b,c){"use strict";function d(a,b,c){for(var d in b)b.hasOwnProperty(d)&&z("function"==typeof b[d],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",a.displayName||"ReactClass",t[c],d)}function e(a,b){var c=D.hasOwnProperty(b)?D[b]:null;G.hasOwnProperty(b)&&w(c===B.OVERRIDE_BASE,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",b),a.hasOwnProperty(b)&&w(c===B.DEFINE_MANY||c===B.DEFINE_MANY_MERGED,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",b)}function f(a,b){if(b){w("function"!=typeof b,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."),w(!o.isValidElement(b),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var c=a.prototype;b.hasOwnProperty(A)&&E.mixins(a,b.mixins);for(var d in b)if(b.hasOwnProperty(d)&&d!==A){var f=b[d];if(e(c,d),E.hasOwnProperty(d))E[d](a,f);else{var g=D.hasOwnProperty(d),h=c.hasOwnProperty(d),k=f&&f.__reactDontBind,l="function"==typeof f,m=l&&!g&&!h&&!k;if(m)c.__reactAutoBindMap||(c.__reactAutoBindMap={}),c.__reactAutoBindMap[d]=f,c[d]=f;else if(h){var n=D[d];w(g&&(n===B.DEFINE_MANY_MERGED||n===B.DEFINE_MANY),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",n,d),n===B.DEFINE_MANY_MERGED?c[d]=i(c[d],f):n===B.DEFINE_MANY&&(c[d]=j(c[d],f))}else c[d]=f,"function"==typeof f&&b.displayName&&(c[d].displayName=b.displayName+"_"+d)}}}}function g(a,b){if(b)for(var c in b){var d=b[c];if(b.hasOwnProperty(c)){var e=c in E;w(!e,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',c);var f=c in a;w(!f,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",c),a[c]=d}}}function h(a,b){w(a&&b&&"object"==typeof a&&"object"==typeof b,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var c in b)b.hasOwnProperty(c)&&(w(void 0===a[c],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",c),a[c]=b[c]);return a}function i(a,b){return function(){var c=a.apply(this,arguments),d=b.apply(this,arguments);if(null==c)return d;if(null==d)return c;var e={};return h(e,c),h(e,d),e}}function j(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function k(a,b){var c=b.bind(a);c.__reactBoundContext=a,c.__reactBoundMethod=b,c.__reactBoundArguments=null;var d=a.constructor.displayName,e=c.bind;return c.bind=function(f){for(var g=[],h=1,i=arguments.length;i>h;h++)g.push(arguments[h]);if(f!==a&&null!==f)z(!1,"bind(): React component methods may only be bound to the component instance. See %s",d);else if(!g.length)return z(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",d),c;var j=e.apply(c,arguments);return j.__reactBoundContext=a,j.__reactBoundMethod=b,j.__reactBoundArguments=g,j},c}function l(a){for(var b in a.__reactAutoBindMap)if(a.__reactAutoBindMap.hasOwnProperty(b)){var c=a.__reactAutoBindMap[b];a[b]=k(a,p.guard(c,a.constructor.displayName+"."+b))}}var m=a(39),n=a(45),o=a(63),p=a(66),q=a(73),r=a(74),s=a(85),t=a(84),u=a(99),v=a(29),w=a(150),x=a(156),y=a(157),z=a(171),A=y({mixins:null}),B=x({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),C=[],D={mixins:B.DEFINE_MANY,statics:B.DEFINE_MANY,propTypes:B.DEFINE_MANY,contextTypes:B.DEFINE_MANY,childContextTypes:B.DEFINE_MANY,getDefaultProps:B.DEFINE_MANY_MERGED,getInitialState:B.DEFINE_MANY_MERGED,getChildContext:B.DEFINE_MANY_MERGED,render:B.DEFINE_ONCE,componentWillMount:B.DEFINE_MANY,componentDidMount:B.DEFINE_MANY,componentWillReceiveProps:B.DEFINE_MANY,shouldComponentUpdate:B.DEFINE_ONCE,componentWillUpdate:B.DEFINE_MANY,componentDidUpdate:B.DEFINE_MANY,componentWillUnmount:B.DEFINE_MANY,updateComponent:B.OVERRIDE_BASE},E={displayName:function(a,b){a.displayName=b},mixins:function(a,b){if(b)for(var c=0;c<b.length;c++)f(a,b[c])},childContextTypes:function(a,b){d(a,b,s.childContext),a.childContextTypes=v({},a.childContextTypes,b)},contextTypes:function(a,b){d(a,b,s.context),a.contextTypes=v({},a.contextTypes,b)},getDefaultProps:function(a,b){a.getDefaultProps?a.getDefaultProps=i(a.getDefaultProps,b):a.getDefaultProps=b},propTypes:function(a,b){d(a,b,s.prop),a.propTypes=v({},a.propTypes,b)},statics:function(a,b){g(a,b)}},F={enumerable:!1,get:function(){var a=this.displayName||this.name||"Component";return z(!1,"%s.type is deprecated. Use %s directly to access the class.",a,a),Object.defineProperty(this,"type",{value:this}),this}},G={replaceState:function(a,b){u.enqueueReplaceState(this,a),b&&u.enqueueCallback(this,b)},isMounted:function(){var a=n.current;null!==a&&(z(a._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",a.getName()||"A component"),a._warnedAboutRefsInRender=!0);var b=q.get(this);return b&&b!==r.currentlyMountingInstance},setProps:function(a,b){u.enqueueSetProps(this,a),b&&u.enqueueCallback(this,b)},replaceProps:function(a,b){u.enqueueReplaceProps(this,a),b&&u.enqueueCallback(this,b)}},H=function(){};v(H.prototype,m.prototype,G);var I={createClass:function(a){var b=function(a,c){z(this instanceof b,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindMap&&l(this),this.props=a,this.context=c,this.state=null;var d=this.getInitialState?this.getInitialState():null;"undefined"==typeof d&&this.getInitialState._isMockFunction&&(d=null),w("object"==typeof d&&!Array.isArray(d),"%s.getInitialState(): must return an object or null",b.displayName||"ReactCompositeComponent"),this.state=d};b.prototype=new H,b.prototype.constructor=b,C.forEach(f.bind(null,b)),f(b,a),b.getDefaultProps&&(b.defaultProps=b.getDefaultProps()),b.getDefaultProps&&(b.getDefaultProps.isReactClassApproved={}),b.prototype.getInitialState&&(b.prototype.getInitialState.isReactClassApproved={}),w(b.prototype.render,"createClass(...): Class specification must implement a `render` method."),z(!b.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",a.displayName||"A component");for(var c in D)b.prototype[c]||(b.prototype[c]=null);b.type=b;try{Object.defineProperty(b,"type",F)}catch(d){}return b},injection:{injectMixin:function(a){C.push(a)}}};b.exports=I},{150:150,156:156,157:157,171:171,29:29,39:39,45:45,63:63,66:66,73:73,74:74,84:84,85:85,99:99}],39:[function(a,b,c){"use strict";function d(a,b){this.props=a,this.context=b}var e=a(99),f=a(150),g=a(171);d.prototype.setState=function(a,b){f("object"==typeof a||"function"==typeof a||null==a,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."),g(null!=a,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),e.enqueueSetState(this,a),b&&e.enqueueCallback(this,b)},d.prototype.forceUpdate=function(a){e.enqueueForceUpdate(this),a&&e.enqueueCallback(this,a)};var h={getDOMNode:["getDOMNode","Use React.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead call React.render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead call React.render again at the top level."]},i=function(a,b){try{Object.defineProperty(d.prototype,a,{get:function(){return void g(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",b[0],b[1])}})}catch(c){}};for(var j in h)h.hasOwnProperty(j)&&i(j,h[j]);b.exports=d},{150:150,171:171,99:99}],40:[function(a,b,c){"use strict";var d=a(50),e=a(77),f={processChildrenUpdates:d.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:d.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(a){e.purgeID(a)}};b.exports=f},{50:50,77:77}],41:[function(a,b,c){"use strict";var d=a(150),e=!1,f={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(a){d(!e,"ReactCompositeComponent: injectEnvironment() can only be called once."),f.unmountIDFromEnvironment=a.unmountIDFromEnvironment,f.replaceNodeWithMarkupByID=a.replaceNodeWithMarkupByID,f.processChildrenUpdates=a.processChildrenUpdates,e=!0}}};b.exports=f},{150:150}],42:[function(a,b,c){"use strict";var d=a(166),e={shouldComponentUpdate:function(a,b){return!d(this.props,a)||!d(this.state,b)}};b.exports=e},{166:166}],43:[function(a,b,c){"use strict";function d(a){var b=a._currentElement._owner||null;if(b){var c=b.getName();if(c)return" Check the render method of `"+c+"`."}return""}var e=a(41),f=a(44),g=a(45),h=a(63),i=a(64),j=a(73),k=a(74),l=a(80),m=a(82),n=a(85),o=a(84),p=a(89),q=a(100),r=a(29),s=a(130),t=a(150),u=a(167),v=a(171),w=1,x={construct:function(a){this._currentElement=a,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(a,b,c){this._context=c,this._mountOrder=w++,this._rootNodeID=a;var d=this._processProps(this._currentElement.props),e=this._processContext(this._currentElement._context),f=l.getComponentClassForElement(this._currentElement),g=new f(d,e);v(null!=g.render,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render` in your component or you may have accidentally tried to render an element whose type is a function that isn't a React component.",f.displayName||f.name||"Component"),g.props=d,g.context=e,g.refs=s,this._instance=g,j.set(g,this),this._warnIfContextsDiffer(this._currentElement._context,c),v(!g.getInitialState||g.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"),v(!g.getDefaultProps||g.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"),v(!g.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"),v(!g.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"),v("function"!=typeof g.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component");var h=g.state;void 0===h&&(g.state=h=null),t("object"==typeof h&&!Array.isArray(h),"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var i,m,n=k.currentlyMountingInstance;k.currentlyMountingInstance=this;try{g.componentWillMount&&(g.componentWillMount(),this._pendingStateQueue&&(g.state=this._processPendingState(g.props,g.context))),i=this._getValidatedChildContext(c),m=this._renderValidatedComponent(i)}finally{k.currentlyMountingInstance=n}this._renderedComponent=this._instantiateReactComponent(m,this._currentElement.type);var o=p.mountComponent(this._renderedComponent,a,b,this._mergeChildContext(c,i));return g.componentDidMount&&b.getReactMountReady().enqueue(g.componentDidMount,g),o},unmountComponent:function(){var a=this._instance;if(a.componentWillUnmount){var b=k.currentlyUnmountingInstance;k.currentlyUnmountingInstance=this;try{a.componentWillUnmount()}finally{k.currentlyUnmountingInstance=b}}p.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,j.remove(a)},_setPropsInternal:function(a,b){var c=this._pendingElement||this._currentElement;this._pendingElement=h.cloneAndReplaceProps(c,r({},c.props,a)),q.enqueueUpdate(this,b)},_maskContext:function(a){var b=null;if("string"==typeof this._currentElement.type)return s;var c=this._currentElement.type.contextTypes;if(!c)return s;b={};for(var d in c)b[d]=a[d];return b},_processContext:function(a){var b=this._maskContext(a),c=l.getComponentClassForElement(this._currentElement);return c.contextTypes&&this._checkPropTypes(c.contextTypes,b,n.context),b},_getValidatedChildContext:function(a){var b=this._instance,c=b.getChildContext&&b.getChildContext();if(c){t("object"==typeof b.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"),this._checkPropTypes(b.constructor.childContextTypes,c,n.childContext);for(var d in c)t(d in b.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",d);return c}return null},_mergeChildContext:function(a,b){return b?r({},a,b):a},_processProps:function(a){var b=l.getComponentClassForElement(this._currentElement);return b.propTypes&&this._checkPropTypes(b.propTypes,a,n.prop),a},_checkPropTypes:function(a,b,c){var e=this.getName();for(var f in a)if(a.hasOwnProperty(f)){var g;try{t("function"==typeof a[f],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e||"React class",o[c],f),g=a[f](b,f,e,c)}catch(h){g=h}if(g instanceof Error){var i=d(this);c===n.prop?v(!1,"Failed Composite propType: %s%s",g.message,i):v(!1,"Failed Context Types: %s%s",g.message,i)}}},receiveComponent:function(a,b,c){var d=this._currentElement,e=this._context;this._pendingElement=null,this.updateComponent(b,d,a,e,c)},performUpdateIfNecessary:function(a){null!=this._pendingElement&&p.receiveComponent(this,this._pendingElement||this._currentElement,a,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&(i.checkAndWarnForMutatedProps(this._currentElement),this.updateComponent(a,this._currentElement,this._currentElement,this._context,this._context))},_warnIfContextsDiffer:function(a,b){a=this._maskContext(a),b=this._maskContext(b);for(var c=Object.keys(b).sort(),d=this.getName()||"ReactCompositeComponent",e=0;e<c.length;e++){var f=c[e];v(a[f]===b[f],"owner-based and parent-based contexts differ (values: `%s` vs `%s`) for key (%s) while mounting %s (see: http://fb.me/react-context-by-parent)",a[f],b[f],f,d)}},updateComponent:function(a,b,c,d,e){var f=this._instance,g=f.context,h=f.props;b!==c&&(g=this._processContext(c._context),h=this._processProps(c.props),null!=e&&this._warnIfContextsDiffer(c._context,e),f.componentWillReceiveProps&&f.componentWillReceiveProps(h,g));var i=this._processPendingState(h,g),j=this._pendingForceUpdate||!f.shouldComponentUpdate||f.shouldComponentUpdate(h,i,g);v("undefined"!=typeof j,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"),j?(this._pendingForceUpdate=!1,this._performComponentUpdate(c,h,i,g,a,e)):(this._currentElement=c,this._context=e,f.props=h,f.state=i,f.context=g)},_processPendingState:function(a,b){var c=this._instance,d=this._pendingStateQueue,e=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!d)return c.state;if(e&&1===d.length)return d[0];for(var f=r({},e?d[0]:c.state),g=e?1:0;g<d.length;g++){var h=d[g];r(f,"function"==typeof h?h.call(c,f,a,b):h)}return f},_performComponentUpdate:function(a,b,c,d,e,f){var g=this._instance,h=g.props,i=g.state,j=g.context;g.componentWillUpdate&&g.componentWillUpdate(b,c,d),this._currentElement=a,this._context=f,g.props=b,g.state=c,g.context=d,this._updateRenderedComponent(e,f),g.componentDidUpdate&&e.getReactMountReady().enqueue(g.componentDidUpdate.bind(g,h,i,j),g)},_updateRenderedComponent:function(a,b){var c=this._renderedComponent,d=c._currentElement,e=this._getValidatedChildContext(),f=this._renderValidatedComponent(e);if(u(d,f))p.receiveComponent(c,f,a,this._mergeChildContext(b,e));else{var g=this._rootNodeID,h=c._rootNodeID;p.unmountComponent(c),this._renderedComponent=this._instantiateReactComponent(f,this._currentElement.type);var i=p.mountComponent(this._renderedComponent,g,a,this._mergeChildContext(b,e));this._replaceNodeWithMarkupByID(h,i)}},_replaceNodeWithMarkupByID:function(a,b){e.replaceNodeWithMarkupByID(a,b)},_renderValidatedComponentWithoutOwnerOrContext:function(){var a=this._instance,b=a.render();return"undefined"==typeof b&&a.render._isMockFunction&&(b=null),b},_renderValidatedComponent:function(a){var b,c=f.current;f.current=this._mergeChildContext(this._currentElement._context,a),g.current=this;try{b=this._renderValidatedComponentWithoutOwnerOrContext()}finally{f.current=c,g.current=null}return t(null===b||b===!1||h.isValidElement(b),"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"),b},attachRef:function(a,b){var c=this.getPublicInstance(),d=c.refs===s?c.refs={}:c.refs;d[a]=b.getPublicInstance()},detachRef:function(a){var b=this.getPublicInstance().refs;delete b[a]},getName:function(){var a=this._currentElement.type,b=this._instance&&this._instance.constructor;return a.displayName||b&&b.displayName||a.name||b&&b.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};m.measureMethods(x,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var y={Mixin:x};b.exports=y},{100:100,130:130,150:150,167:167,171:171,29:29,41:41,44:44,45:45,63:63,64:64,73:73,74:74,80:80,82:82,84:84,85:85,89:89}],44:[function(a,b,c){"use strict";var d=a(29),e=a(130),f=a(171),g=!1,h={current:e,withContext:function(a,b){f(g,"withContext is deprecated and will be removed in a future version. Use a wrapper component with getChildContext instead."),g=!0;var c,e=h.current;h.current=d({},e,a);try{c=b()}finally{h.current=e}return c}};b.exports=h},{130:130,171:171,29:29}],45:[function(a,b,c){"use strict";var d={current:null};b.exports=d},{}],46:[function(a,b,c){"use strict";function d(a){return e.createFactory(a)}var e=(a(63),a(64)),f=a(158),g=f({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},d);b.exports=g},{158:158,63:63,64:64}],47:[function(a,b,c){"use strict";var d=a(2),e=a(32),f=a(38),g=a(63),h=a(156),i=g.createFactory("button"),j=h({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),k=f.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[d,e],render:function(){var a={};for(var b in this.props)!this.props.hasOwnProperty(b)||this.props.disabled&&j[b]||(a[b]=this.props[b]);return i(a,this.props.children)}});b.exports=k},{156:156,2:2,32:32,38:38,63:63}],48:[function(a,b,c){"use strict";function d(a){a&&(null!=a.dangerouslySetInnerHTML&&(r(null==a.children,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."),r("object"==typeof a.dangerouslySetInnerHTML&&"__html"in a.dangerouslySetInnerHTML,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),u(null==a.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),u(!a.contentEditable||null==a.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),r(null==a.style||"object"==typeof a.style,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX."))}function e(a,b,c,d){u("onScroll"!==b||s("scroll",!0),"This browser doesn't support the `onScroll` event");var e=m.findReactContainerForID(a);if(e){var f=e.nodeType===A?e.ownerDocument:e;w(b,f)}d.getPutListenerQueue().enqueuePutListener(a,b,c)}function f(a){F.call(E,a)||(r(D.test(a),"Invalid tag: %s",a),E[a]=!0)}function g(a){f(a),this._tag=a,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var h=a(6),i=a(11),j=a(12),k=a(33),l=a(40),m=a(77),n=a(78),o=a(82),p=a(29),q=a(131),r=a(150),s=a(151),t=a(157),u=a(171),v=k.deleteListener,w=k.listenTo,x=k.registrationNameModules,y={string:!0,number:!0},z=t({style:null}),A=1,B=null,C={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},D=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,E={},F={}.hasOwnProperty;g.displayName="ReactDOMComponent",g.Mixin={construct:function(a){this._currentElement=a},mountComponent:function(a,b,c){this._rootNodeID=a,d(this._currentElement.props);var e=C[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(b)+this._createContentMarkup(b,c)+e},_createOpenTagMarkupAndPutListeners:function(a){var b=this._currentElement.props,c="<"+this._tag;for(var d in b)if(b.hasOwnProperty(d)){var f=b[d];if(null!=f)if(x.hasOwnProperty(d))e(this._rootNodeID,d,f,a);else{d===z&&(f&&(f=this._previousStyleCopy=p({},b.style)),f=h.createMarkupForStyles(f));var g=j.createMarkupForProperty(d,f);g&&(c+=" "+g)}}if(a.renderToStaticMarkup)return c+">";var i=j.createMarkupForID(this._rootNodeID);return c+" "+i+">"},_createContentMarkup:function(a,b){var c="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(c="\n");var d=this._currentElement.props,e=d.dangerouslySetInnerHTML;if(null!=e){if(null!=e.__html)return c+e.__html}else{var f=y[typeof d.children]?d.children:null,g=null!=f?null:d.children;if(null!=f)return c+q(f);if(null!=g){var h=this.mountChildren(g,a,b);return c+h.join("")}}return c},receiveComponent:function(a,b,c){var d=this._currentElement;this._currentElement=a,this.updateComponent(b,d,a,c)},updateComponent:function(a,b,c,e){d(this._currentElement.props),this._updateDOMProperties(b.props,a),this._updateDOMChildren(b.props,a,e)},_updateDOMProperties:function(a,b){var c,d,f,g=this._currentElement.props;for(c in a)if(!g.hasOwnProperty(c)&&a.hasOwnProperty(c))if(c===z){var h=this._previousStyleCopy;for(d in h)h.hasOwnProperty(d)&&(f=f||{},f[d]="");this._previousStyleCopy=null}else x.hasOwnProperty(c)?v(this._rootNodeID,c):(i.isStandardName[c]||i.isCustomAttribute(c))&&B.deletePropertyByID(this._rootNodeID,c);for(c in g){var j=g[c],k=c===z?this._previousStyleCopy:a[c];if(g.hasOwnProperty(c)&&j!==k)if(c===z)if(j?j=this._previousStyleCopy=p({},j):this._previousStyleCopy=null,k){for(d in k)!k.hasOwnProperty(d)||j&&j.hasOwnProperty(d)||(f=f||{},f[d]="");for(d in j)j.hasOwnProperty(d)&&k[d]!==j[d]&&(f=f||{},f[d]=j[d])}else f=j;else x.hasOwnProperty(c)?e(this._rootNodeID,c,j,b):(i.isStandardName[c]||i.isCustomAttribute(c))&&B.updatePropertyByID(this._rootNodeID,c,j)}f&&B.updateStylesByID(this._rootNodeID,f)},_updateDOMChildren:function(a,b,c){var d=this._currentElement.props,e=y[typeof a.children]?a.children:null,f=y[typeof d.children]?d.children:null,g=a.dangerouslySetInnerHTML&&a.dangerouslySetInnerHTML.__html,h=d.dangerouslySetInnerHTML&&d.dangerouslySetInnerHTML.__html,i=null!=e?null:a.children,j=null!=f?null:d.children,k=null!=e||null!=g,l=null!=f||null!=h;null!=i&&null==j?this.updateChildren(null,b,c):k&&!l&&this.updateTextContent(""),null!=f?e!==f&&this.updateTextContent(""+f):null!=h?g!==h&&B.updateInnerHTMLByID(this._rootNodeID,h):null!=j&&this.updateChildren(j,b,c)},unmountComponent:function(){this.unmountChildren(),k.deleteAllListeners(this._rootNodeID),l.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},o.measureMethods(g,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),p(g.prototype,g.Mixin,n.Mixin),g.injection={injectIDOperations:function(a){g.BackendIDOperations=B=a}},b.exports=g},{11:11,12:12,131:131,150:150,151:151,157:157,171:171,29:29,33:33,40:40,6:6,77:77,78:78,82:82}],49:[function(a,b,c){"use strict";var d=a(16),e=a(27),f=a(32),g=a(38),h=a(63),i=h.createFactory("form"),j=g.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[f,e],render:function(){return i(this.props)},componentDidMount:function(){this.trapBubbledEvent(d.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(d.topLevelTypes.topSubmit,"submit")}});b.exports=j},{16:16,27:27,32:32,38:38,63:63}],50:[function(a,b,c){"use strict";var d=a(6),e=a(10),f=a(12),g=a(77),h=a(82),i=a(150),j=a(164),k={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},l={updatePropertyByID:function(a,b,c){var d=g.getNode(a);i(!k.hasOwnProperty(b),"updatePropertyByID(...): %s",k[b]),null!=c?f.setValueForProperty(d,b,c):f.deleteValueForProperty(d,b)},deletePropertyByID:function(a,b,c){var d=g.getNode(a);i(!k.hasOwnProperty(b),"updatePropertyByID(...): %s",k[b]),f.deleteValueForProperty(d,b,c)},updateStylesByID:function(a,b){var c=g.getNode(a);d.setValueForStyles(c,b)},updateInnerHTMLByID:function(a,b){var c=g.getNode(a);j(c,b)},updateTextContentByID:function(a,b){var c=g.getNode(a);e.updateTextContent(c,b)},dangerouslyReplaceNodeWithMarkupByID:function(a,b){var c=g.getNode(a);e.dangerouslyReplaceNodeWithMarkup(c,b)},dangerouslyProcessChildrenUpdates:function(a,b){for(var c=0;c<a.length;c++)a[c].parentNode=g.getNode(a[c].parentID);e.processUpdates(a,b)}};h.measureMethods(l,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),b.exports=l},{10:10,12:12,150:150,164:164,6:6,77:77,82:82}],51:[function(a,b,c){"use strict";var d=a(16),e=a(27),f=a(32),g=a(38),h=a(63),i=h.createFactory("iframe"),j=g.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[f,e],render:function(){return i(this.props)},componentDidMount:function(){this.trapBubbledEvent(d.topLevelTypes.topLoad,"load")}});b.exports=j},{16:16,27:27,32:32,38:38,63:63}],52:[function(a,b,c){"use strict";var d=a(16),e=a(27),f=a(32),g=a(38),h=a(63),i=h.createFactory("img"),j=g.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[f,e],render:function(){return i(this.props)},componentDidMount:function(){this.trapBubbledEvent(d.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(d.topLevelTypes.topError,"error")}});b.exports=j},{16:16,27:27,32:32,38:38,63:63}],53:[function(a,b,c){"use strict";function d(){this.isMounted()&&this.forceUpdate()}var e=a(2),f=a(12),g=a(26),h=a(32),i=a(38),j=a(63),k=a(77),l=a(100),m=a(29),n=a(150),o=j.createFactory("input"),p={},q=i.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[e,g.Mixin,h],getInitialState:function(){var a=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=a?a:null}},render:function(){var a=m({},this.props);a.defaultChecked=null,a.defaultValue=null;var b=g.getValue(this);a.value=null!=b?b:this.state.initialValue;var c=g.getChecked(this);return a.checked=null!=c?c:this.state.initialChecked,a.onChange=this._handleChange,
o(a,this.props.children)},componentDidMount:function(){var a=k.getID(this.getDOMNode());p[a]=this},componentWillUnmount:function(){var a=this.getDOMNode(),b=k.getID(a);delete p[b]},componentDidUpdate:function(a,b,c){var d=this.getDOMNode();null!=this.props.checked&&f.setValueForProperty(d,"checked",this.props.checked||!1);var e=g.getValue(this);null!=e&&f.setValueForProperty(d,"value",""+e)},_handleChange:function(a){var b,c=g.getOnChange(this);c&&(b=c.call(this,a)),l.asap(d,this);var e=this.props.name;if("radio"===this.props.type&&null!=e){for(var f=this.getDOMNode(),h=f;h.parentNode;)h=h.parentNode;for(var i=h.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),j=0,m=i.length;m>j;j++){var o=i[j];if(o!==f&&o.form===f.form){var q=k.getID(o);n(q,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");var r=p[q];n(r,"ReactDOMInput: Unknown radio button ID %s.",q),l.asap(d,r)}}}return b}});b.exports=q},{100:100,12:12,150:150,2:2,26:26,29:29,32:32,38:38,63:63,77:77}],54:[function(a,b,c){"use strict";var d=a(32),e=a(38),f=a(63),g=a(171),h=f.createFactory("option"),i=e.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[d],componentWillMount:function(){g(null==this.props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.")},render:function(){return h(this.props,this.props.children)}});b.exports=i},{171:171,32:32,38:38,63:63}],55:[function(a,b,c){"use strict";function d(){if(this._pendingUpdate){this._pendingUpdate=!1;var a=h.getValue(this);null!=a&&this.isMounted()&&f(this,a)}}function e(a,b,c){if(null==a[b])return null;if(a.multiple){if(!Array.isArray(a[b]))return new Error("The `"+b+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(a[b]))return new Error("The `"+b+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function f(a,b){var c,d,e,f=a.getDOMNode().options;if(a.props.multiple){for(c={},d=0,e=b.length;e>d;d++)c[""+b[d]]=!0;for(d=0,e=f.length;e>d;d++){var g=c.hasOwnProperty(f[d].value);f[d].selected!==g&&(f[d].selected=g)}}else{for(c=""+b,d=0,e=f.length;e>d;d++)if(f[d].value===c)return void(f[d].selected=!0);f.length&&(f[0].selected=!0)}}var g=a(2),h=a(26),i=a(32),j=a(38),k=a(63),l=a(100),m=a(29),n=k.createFactory("select"),o=j.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[g,h.Mixin,i],propTypes:{defaultValue:e,value:e},render:function(){var a=m({},this.props);return a.onChange=this._handleChange,a.value=null,n(a,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var a=h.getValue(this);null!=a?f(this,a):null!=this.props.defaultValue&&f(this,this.props.defaultValue)},componentDidUpdate:function(a){var b=h.getValue(this);null!=b?(this._pendingUpdate=!1,f(this,b)):!a.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?f(this,this.props.defaultValue):f(this,this.props.multiple?[]:""))},_handleChange:function(a){var b,c=h.getOnChange(this);return c&&(b=c.call(this,a)),this._pendingUpdate=!0,l.asap(d,this),b}});b.exports=o},{100:100,2:2,26:26,29:29,32:32,38:38,63:63}],56:[function(a,b,c){"use strict";function d(a,b,c,d){return a===c&&b===d}function e(a){var b=document.selection,c=b.createRange(),d=c.text.length,e=c.duplicate();e.moveToElementText(a),e.setEndPoint("EndToStart",c);var f=e.text.length,g=f+d;return{start:f,end:g}}function f(a){var b=window.getSelection&&window.getSelection();if(!b||0===b.rangeCount)return null;var c=b.anchorNode,e=b.anchorOffset,f=b.focusNode,g=b.focusOffset,h=b.getRangeAt(0),i=d(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),j=i?0:h.toString().length,k=h.cloneRange();k.selectNodeContents(a),k.setEnd(h.startContainer,h.startOffset);var l=d(k.startContainer,k.startOffset,k.endContainer,k.endOffset),m=l?0:k.toString().length,n=m+j,o=document.createRange();o.setStart(c,e),o.setEnd(f,g);var p=o.collapsed;return{start:p?n:m,end:p?m:n}}function g(a,b){var c,d,e=document.selection.createRange().duplicate();"undefined"==typeof b.end?(c=b.start,d=c):b.start>b.end?(c=b.end,d=b.start):(c=b.start,d=b.end),e.moveToElementText(a),e.moveStart("character",c),e.setEndPoint("EndToStart",e),e.moveEnd("character",d-c),e.select()}function h(a,b){if(window.getSelection){var c=window.getSelection(),d=a[k()].length,e=Math.min(b.start,d),f="undefined"==typeof b.end?e:Math.min(b.end,d);if(!c.extend&&e>f){var g=f;f=e,e=g}var h=j(a,e),i=j(a,f);if(h&&i){var l=document.createRange();l.setStart(h.node,h.offset),c.removeAllRanges(),e>f?(c.addRange(l),c.extend(i.node,i.offset)):(l.setEnd(i.node,i.offset),c.addRange(l))}}}var i=a(22),j=a(143),k=a(145),l=i.canUseDOM&&"selection"in document&&!("getSelection"in window),m={getOffsets:l?e:f,setOffsets:l?g:h};b.exports=m},{143:143,145:145,22:22}],57:[function(a,b,c){"use strict";var d=a(12),e=a(40),f=a(48),g=a(29),h=a(131),i=function(a){};g(i.prototype,{construct:function(a){this._currentElement=a,this._stringText=""+a,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(a,b,c){this._rootNodeID=a;var e=h(this._stringText);return b.renderToStaticMarkup?e:"<span "+d.createMarkupForID(a)+">"+e+"</span>"},receiveComponent:function(a,b){if(a!==this._currentElement){this._currentElement=a;var c=""+a;c!==this._stringText&&(this._stringText=c,f.BackendIDOperations.updateTextContentByID(this._rootNodeID,c))}},unmountComponent:function(){e.unmountIDFromEnvironment(this._rootNodeID)}}),b.exports=i},{12:12,131:131,29:29,40:40,48:48}],58:[function(a,b,c){"use strict";function d(){this.isMounted()&&this.forceUpdate()}var e=a(2),f=a(12),g=a(26),h=a(32),i=a(38),j=a(63),k=a(100),l=a(29),m=a(150),n=a(171),o=j.createFactory("textarea"),p=i.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[e,g.Mixin,h],getInitialState:function(){var a=this.props.defaultValue,b=this.props.children;null!=b&&(n(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),m(null==a,"If you supply `defaultValue` on a <textarea>, do not pass children."),Array.isArray(b)&&(m(b.length<=1,"<textarea> can only have at most one child."),b=b[0]),a=""+b),null==a&&(a="");var c=g.getValue(this);return{initialValue:""+(null!=c?c:a)}},render:function(){var a=l({},this.props);return m(null==a.dangerouslySetInnerHTML,"`dangerouslySetInnerHTML` does not make sense on <textarea>."),a.defaultValue=null,a.value=null,a.onChange=this._handleChange,o(a,this.state.initialValue)},componentDidUpdate:function(a,b,c){var d=g.getValue(this);if(null!=d){var e=this.getDOMNode();f.setValueForProperty(e,"value",""+d)}},_handleChange:function(a){var b,c=g.getOnChange(this);return c&&(b=c.call(this,a)),k.asap(d,this),b}});b.exports=p},{100:100,12:12,150:150,171:171,2:2,26:26,29:29,32:32,38:38,63:63}],59:[function(a,b,c){"use strict";function d(){this.reinitializeTransaction()}var e=a(100),f=a(116),g=a(29),h=a(129),i={initialize:h,close:function(){m.isBatchingUpdates=!1}},j={initialize:h,close:e.flushBatchedUpdates.bind(e)},k=[j,i];g(d.prototype,f.Mixin,{getTransactionWrappers:function(){return k}});var l=new d,m={isBatchingUpdates:!1,batchedUpdates:function(a,b,c,d,e){var f=m.isBatchingUpdates;m.isBatchingUpdates=!0,f?a(b,c,d,e):l.perform(a,null,b,c,d,e)}};b.exports=m},{100:100,116:116,129:129,29:29}],60:[function(a,b,c){"use strict";function d(a){return o.createClass({tagName:a.toUpperCase(),render:function(){return new C(a,null,null,null,null,this.props)}})}function e(){E.EventEmitter.injectReactEventListener(D),E.EventPluginHub.injectEventPluginOrder(i),E.EventPluginHub.injectInstanceHandle(F),E.EventPluginHub.injectMount(G),E.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:K,EnterLeaveEventPlugin:j,ChangeEventPlugin:g,MobileSafariClickEventPlugin:m,SelectEventPlugin:I,BeforeInputEventPlugin:f}),E.NativeComponent.injectGenericComponentClass(r),E.NativeComponent.injectTextComponentClass(B),E.NativeComponent.injectAutoWrapper(d),E.Class.injectMixin(n),E.NativeComponent.injectComponentClasses({button:s,form:t,iframe:w,img:u,input:x,option:y,select:z,textarea:A,html:M("html"),head:M("head"),body:M("body")}),E.DOMProperty.injectDOMPropertyConfig(l),E.DOMProperty.injectDOMPropertyConfig(L),E.EmptyComponent.injectEmptyComponent("noscript"),E.Updates.injectReconcileTransaction(H),E.Updates.injectBatchingStrategy(q),E.RootIndex.injectCreateReactRootIndex(k.canUseDOM?h.createReactRootIndex:J.createReactRootIndex),E.Component.injectEnvironment(p),E.DOMComponent.injectIDOperations(v);var b=k.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(b)){var c=a(61);c.start()}}var f=a(3),g=a(8),h=a(9),i=a(14),j=a(15),k=a(22),l=a(24),m=a(28),n=a(32),o=a(38),p=a(40),q=a(59),r=a(48),s=a(47),t=a(49),u=a(52),v=a(50),w=a(51),x=a(53),y=a(54),z=a(55),A=a(58),B=a(57),C=a(63),D=a(68),E=a(70),F=a(72),G=a(77),H=a(88),I=a(102),J=a(103),K=a(104),L=a(101),M=a(125);b.exports={inject:e}},{101:101,102:102,103:103,104:104,125:125,14:14,15:15,22:22,24:24,28:28,3:3,32:32,38:38,40:40,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,57:57,58:58,59:59,61:61,63:63,68:68,70:70,72:72,77:77,8:8,88:88,9:9}],61:[function(a,b,c){"use strict";function d(a){return Math.floor(100*a)/100}function e(a,b,c){a[b]=(a[b]||0)+c}var f=a(11),g=a(62),h=a(77),i=a(82),j=a(162),k={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){k._injected||i.injection.injectMeasure(k.measure),k._allMeasurements.length=0,i.enableMeasure=!0},stop:function(){i.enableMeasure=!1},getLastMeasurements:function(){return k._allMeasurements},printExclusive:function(a){a=a||k._allMeasurements;var b=g.getExclusiveSummary(a);console.table(b.map(function(a){return{"Component class name":a.componentName,"Total inclusive time (ms)":d(a.inclusive),"Exclusive mount time (ms)":d(a.exclusive),"Exclusive render time (ms)":d(a.render),"Mount time per instance (ms)":d(a.exclusive/a.count),"Render time per instance (ms)":d(a.render/a.count),Instances:a.count}}))},printInclusive:function(a){a=a||k._allMeasurements;var b=g.getInclusiveSummary(a);console.table(b.map(function(a){return{"Owner > component":a.componentName,"Inclusive time (ms)":d(a.time),Instances:a.count}})),console.log("Total time:",g.getTotalTime(a).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(a){var b=g.getInclusiveSummary(a,!0);return b.map(function(a){return{"Owner > component":a.componentName,"Wasted time (ms)":a.time,Instances:a.count}})},printWasted:function(a){a=a||k._allMeasurements,console.table(k.getMeasurementsSummaryMap(a)),console.log("Total time:",g.getTotalTime(a).toFixed(2)+" ms")},printDOM:function(a){a=a||k._allMeasurements;var b=g.getDOMSummary(a);console.table(b.map(function(a){var b={};return b[f.ID_ATTRIBUTE_NAME]=a.id,b.type=a.type,b.args=JSON.stringify(a.args),b})),console.log("Total time:",g.getTotalTime(a).toFixed(2)+" ms")},_recordWrite:function(a,b,c,d){var e=k._allMeasurements[k._allMeasurements.length-1].writes;e[a]=e[a]||[],e[a].push({type:b,time:c,args:d})},measure:function(a,b,c){return function(){for(var d=[],f=0,g=arguments.length;g>f;f++)d.push(arguments[f]);var i,l,m;if("_renderNewRootComponent"===b||"flushBatchedUpdates"===b)return k._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),m=j(),l=c.apply(this,d),k._allMeasurements[k._allMeasurements.length-1].totalTime=j()-m,l;if("_mountImageIntoNode"===b||"ReactDOMIDOperations"===a){if(m=j(),l=c.apply(this,d),i=j()-m,"_mountImageIntoNode"===b){var n=h.getID(d[1]);k._recordWrite(n,b,i,d[0])}else"dangerouslyProcessChildrenUpdates"===b?d[0].forEach(function(a){var b={};null!==a.fromIndex&&(b.fromIndex=a.fromIndex),null!==a.toIndex&&(b.toIndex=a.toIndex),null!==a.textContent&&(b.textContent=a.textContent),null!==a.markupIndex&&(b.markup=d[1][a.markupIndex]),k._recordWrite(a.parentID,a.type,i,b)}):k._recordWrite(d[0],b,i,Array.prototype.slice.call(d,1));return l}if("ReactCompositeComponent"!==a||"mountComponent"!==b&&"updateComponent"!==b&&"_renderValidatedComponent"!==b)return c.apply(this,d);if("string"==typeof this._currentElement.type)return c.apply(this,d);var o="mountComponent"===b?d[0]:this._rootNodeID,p="_renderValidatedComponent"===b,q="mountComponent"===b,r=k._mountStack,s=k._allMeasurements[k._allMeasurements.length-1];if(p?e(s.counts,o,1):q&&r.push(0),m=j(),l=c.apply(this,d),i=j()-m,p)e(s.render,o,i);else if(q){var t=r.pop();r[r.length-1]+=i,e(s.exclusive,o,i-t),e(s.inclusive,o,i)}else e(s.inclusive,o,i);return s.displayNames[o]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},l}}};b.exports=k},{11:11,162:162,62:62,77:77,82:82}],62:[function(a,b,c){function d(a){for(var b=0,c=0;c<a.length;c++){var d=a[c];b+=d.totalTime}return b}function e(a){for(var b=[],c=0;c<a.length;c++){var d,e=a[c];for(d in e.writes)e.writes[d].forEach(function(a){b.push({id:d,type:k[a.type]||a.type,args:a.args})})}return b}function f(a){for(var b,c={},d=0;d<a.length;d++){var e=a[d],f=i({},e.exclusive,e.inclusive);for(var g in f)b=e.displayNames[g].current,c[b]=c[b]||{componentName:b,inclusive:0,exclusive:0,render:0,count:0},e.render[g]&&(c[b].render+=e.render[g]),e.exclusive[g]&&(c[b].exclusive+=e.exclusive[g]),e.inclusive[g]&&(c[b].inclusive+=e.inclusive[g]),e.counts[g]&&(c[b].count+=e.counts[g])}var h=[];for(b in c)c[b].exclusive>=j&&h.push(c[b]);return h.sort(function(a,b){return b.exclusive-a.exclusive}),h}function g(a,b){for(var c,d={},e=0;e<a.length;e++){var f,g=a[e],k=i({},g.exclusive,g.inclusive);b&&(f=h(g));for(var l in k)if(!b||f[l]){var m=g.displayNames[l];c=m.owner+" > "+m.current,d[c]=d[c]||{componentName:c,time:0,count:0},g.inclusive[l]&&(d[c].time+=g.inclusive[l]),g.counts[l]&&(d[c].count+=g.counts[l])}}var n=[];for(c in d)d[c].time>=j&&n.push(d[c]);return n.sort(function(a,b){return b.time-a.time}),n}function h(a){var b={},c=Object.keys(a.writes),d=i({},a.exclusive,a.inclusive);for(var e in d){for(var f=!1,g=0;g<c.length;g++)if(0===c[g].indexOf(e)){f=!0;break}!f&&a.counts[e]>0&&(b[e]=!0)}return b}var i=a(29),j=1.2,k={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},l={getExclusiveSummary:f,getInclusiveSummary:g,getDOMSummary:e,getTotalTime:d};b.exports=l},{29:29}],63:[function(a,b,c){"use strict";function d(a,b){Object.defineProperty(a,b,{configurable:!1,enumerable:!0,get:function(){return this._store?this._store[b]:null},set:function(a){i(!1,"Don't set the %s property of the React element. Instead, specify the correct value when initially creating the element.",b),this._store[b]=a}})}function e(a){try{var b={props:!0};for(var c in b)d(a,c);k=!0}catch(e){}}var f=a(44),g=a(45),h=a(29),i=a(171),j={key:!0,ref:!0},k=!1,l=function(a,b,c,d,e,f){this.type=a,this.key=b,this.ref=c,this._owner=d,this._context=e,this._store={props:f,originalProps:h({},f)};try{Object.defineProperty(this._store,"validated",{configurable:!1,enumerable:!1,writable:!0})}catch(g){}return this._store.validated=!1,k?void Object.freeze(this):void(this.props=f)};l.prototype={_isReactElement:!0},e(l.prototype),l.createElement=function(a,b,c){var d,e={},h=null,i=null;if(null!=b){i=void 0===b.ref?null:b.ref,h=void 0===b.key?null:""+b.key;for(d in b)b.hasOwnProperty(d)&&!j.hasOwnProperty(d)&&(e[d]=b[d])}var k=arguments.length-2;if(1===k)e.children=c;else if(k>1){for(var m=Array(k),n=0;k>n;n++)m[n]=arguments[n+2];e.children=m}if(a&&a.defaultProps){var o=a.defaultProps;for(d in o)"undefined"==typeof e[d]&&(e[d]=o[d])}return new l(a,h,i,g.current,f.current,e)},l.createFactory=function(a){var b=l.createElement.bind(null,a);return b.type=a,b},l.cloneAndReplaceProps=function(a,b){var c=new l(a.type,a.key,a.ref,a._owner,a._context,b);return c._store.validated=a._store.validated,c},l.cloneElement=function(a,b,c){var d,e=h({},a.props),f=a.key,i=a.ref,k=a._owner;if(null!=b){void 0!==b.ref&&(i=b.ref,k=g.current),void 0!==b.key&&(f=""+b.key);for(d in b)b.hasOwnProperty(d)&&!j.hasOwnProperty(d)&&(e[d]=b[d])}var m=arguments.length-2;if(1===m)e.children=c;else if(m>1){for(var n=Array(m),o=0;m>o;o++)n[o]=arguments[o+2];e.children=n}return new l(a.type,f,i,k,a._context,e)},l.isValidElement=function(a){var b=!(!a||!a._isReactElement);return b},b.exports=l},{171:171,29:29,44:44,45:45}],64:[function(a,b,c){"use strict";function d(){if(t.current){var a=t.current.getName();if(a)return" Check the render method of `"+a+"`."}return""}function e(a){var b=a&&a.getPublicInstance();if(!b)return void 0;var c=b.constructor;return c?c.displayName||c.name||void 0:void 0}function f(){var a=t.current;return a&&e(a)||void 0}function g(a,b){a._store.validated||null!=a.key||(a._store.validated=!0,i('Each child in an array or iterator should have a unique "key" prop.',a,b))}function h(a,b,c){A.test(a)&&i("Child objects should have non-numeric keys so ordering is preserved.",b,c)}function i(a,b,c){var d=f(),g="string"==typeof c?c:c.displayName||c.name,h=d||g,i=y[a]||(y[a]={});if(!i.hasOwnProperty(h)){i[h]=!0;var j=d?" Check the render method of "+d+".":g?" Check the React.render call using <"+g+">.":"",k="";if(b&&b._owner&&b._owner!==t.current){var l=e(b._owner);k=" It was passed a child from "+l+"."}x(!1,a+"%s%s See https://fb.me/react-warning-keys for more information.",j,k)}}function j(a,b){if(Array.isArray(a))for(var c=0;c<a.length;c++){var d=a[c];p.isValidElement(d)&&g(d,b)}else if(p.isValidElement(a))a._store.validated=!0;else if(a){var e=v(a);if(e){if(e!==a.entries)for(var f,i=e.call(a);!(f=i.next()).done;)p.isValidElement(f.value)&&g(f.value,b)}else if("object"==typeof a){var j=q.extractIfFragment(a);for(var k in j)j.hasOwnProperty(k)&&h(k,j[k],b)}}}function k(a,b,c,e){for(var f in b)if(b.hasOwnProperty(f)){var g;try{w("function"==typeof b[f],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",a||"React class",s[e],f),g=b[f](c,f,a,e)}catch(h){g=h}if(g instanceof Error&&!(g.message in z)){z[g.message]=!0;var i=d(this);x(!1,"Failed propType: %s%s",g.message,i)}}}function l(a,b){var c=b.type,d="string"==typeof c?c:c.displayName,e=b._owner?b._owner.getPublicInstance().constructor.displayName:null,f=a+"|"+d+"|"+e;if(!B.hasOwnProperty(f)){B[f]=!0;var g="";d&&(g=" <"+d+" />");var h="";e&&(h=" The element was created by "+e+"."),x(!1,"Don't set .props.%s of the React component%s. Instead, specify the correct value when initially creating the element or use React.cloneElement to make a new element with updated props.%s",a,g,h)}}function m(a,b){return a!==a?b!==b:0===a&&0===b?1/a===1/b:a===b}function n(a){if(a._store){var b=a._store.originalProps,c=a.props;for(var d in c)c.hasOwnProperty(d)&&(b.hasOwnProperty(d)&&m(b[d],c[d])||(l(d,a),b[d]=c[d]))}}function o(a){if(null!=a.type){var b=u.getComponentClassForElement(a),c=b.displayName||b.name;b.propTypes&&k(c,b.propTypes,a.props,r.prop),"function"==typeof b.getDefaultProps&&x(b.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var p=a(63),q=a(69),r=a(85),s=a(84),t=a(45),u=a(80),v=a(141),w=a(150),x=a(171),y={},z={},A=/^\d+$/,B={},C={checkAndWarnForMutatedProps:n,createElement:function(a,b,c){x(null!=a,"React.createElement: type should not be null or undefined. It should be a string (for DOM elements) or a ReactClass (for composite components).");var d=p.createElement.apply(this,arguments);if(null==d)return d;for(var e=2;e<arguments.length;e++)j(arguments[e],a);return o(d),d},createFactory:function(a){var b=C.createElement.bind(null,a);b.type=a;try{Object.defineProperty(b,"type",{enumerable:!1,get:function(){return x(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:a}),a}})}catch(c){}return b},cloneElement:function(a,b,c){for(var d=p.cloneElement.apply(this,arguments),e=2;e<arguments.length;e++)j(arguments[e],d.type);return o(d),d}};b.exports=C},{141:141,150:150,171:171,45:45,63:63,69:69,80:80,84:84,85:85}],65:[function(a,b,c){"use strict";function d(a){k[a]=!0}function e(a){delete k[a]}function f(a){return!!k[a]}var g,h=a(63),i=a(73),j=a(150),k={},l={injectEmptyComponent:function(a){g=h.createFactory(a)}},m=function(){};m.prototype.componentDidMount=function(){var a=i.get(this);a&&d(a._rootNodeID)},m.prototype.componentWillUnmount=function(){var a=i.get(this);a&&e(a._rootNodeID)},m.prototype.render=function(){return j(g,"Trying to return null from a render, but no null placeholder component was injected."),g()};var n=h.createElement(m),o={emptyElement:n,injection:l,isNullComponentID:f};b.exports=o},{150:150,63:63,73:73}],66:[function(a,b,c){"use strict";var d={guard:function(a,b){return a}};b.exports=d},{}],67:[function(a,b,c){"use strict";function d(a){e.enqueueEvents(a),e.processEventQueue()}var e=a(18),f={handleTopLevel:function(a,b,c,f){var g=e.extractEvents(a,b,c,f);d(g)}};b.exports=f},{18:18}],68:[function(a,b,c){"use strict";function d(a){var b=l.getID(a),c=k.getReactRootIDFromNodeID(b),d=l.findReactContainerForID(c),e=l.getFirstReactDOM(d);return e}function e(a,b){this.topLevelType=a,this.nativeEvent=b,this.ancestors=[]}function f(a){for(var b=l.getFirstReactDOM(o(a.nativeEvent))||window,c=b;c;)a.ancestors.push(c),c=d(c);for(var e=0,f=a.ancestors.length;f>e;e++){b=a.ancestors[e];var g=l.getID(b)||"";q._handleTopLevel(a.topLevelType,b,g,a.nativeEvent)}}function g(a){var b=p(window);a(b)}var h=a(17),i=a(22),j=a(30),k=a(72),l=a(77),m=a(100),n=a(29),o=a(140),p=a(146);n(e.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),j.addPoolingTo(e,j.twoArgumentPooler);var q={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:i.canUseDOM?window:null,setHandleTopLevel:function(a){q._handleTopLevel=a},setEnabled:function(a){q._enabled=!!a},isEnabled:function(){return q._enabled},trapBubbledEvent:function(a,b,c){var d=c;return d?h.listen(d,b,q.dispatchEvent.bind(null,a)):null},trapCapturedEvent:function(a,b,c){var d=c;return d?h.capture(d,b,q.dispatchEvent.bind(null,a)):null},monitorScrollValue:function(a){var b=g.bind(null,a);h.listen(window,"scroll",b)},dispatchEvent:function(a,b){if(q._enabled){var c=e.getPooled(a,b);try{m.batchedUpdates(f,c)}finally{e.release(c)}}}};b.exports=q},{100:100,140:140,146:146,17:17,22:22,29:29,30:30,72:72,77:77}],69:[function(a,b,c){"use strict";var d=a(63),e=a(171),f="_reactFragment",g="_reactDidWarn",h=!1;try{var i=function(){return 1};Object.defineProperty({},f,{enumerable:!1,value:!0}),Object.defineProperty({},"key",{enumerable:!0,get:i}),h=!0}catch(j){}var k=function(a,b){Object.defineProperty(a,b,{enumerable:!0,get:function(){return e(this[g],"A ReactFragment is an opaque type. Accessing any of its properties is deprecated. Pass it to one of the React.Children helpers."),this[g]=!0,this[f][b]},set:function(a){e(this[g],"A ReactFragment is an immutable opaque type. Mutating its properties is deprecated."),this[g]=!0,this[f][b]=a}})},l={},m=function(a){var b="";for(var c in a)b+=c+":"+typeof a[c]+",";var d=!!l[b];return l[b]=!0,d},n={create:function(a){if("object"!=typeof a||!a||Array.isArray(a))return e(!1,"React.addons.createFragment only accepts a single object.",a),a;if(d.isValidElement(a))return e(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),a;if(h){var b={};Object.defineProperty(b,f,{enumerable:!1,value:a}),Object.defineProperty(b,g,{writable:!0,enumerable:!1,value:!1});for(var c in a)k(b,c);return Object.preventExtensions(b),b}return a},extract:function(a){return h?a[f]?a[f]:(e(m(a),"Any use of a keyed object should be wrapped in React.addons.createFragment(object) before being passed as a child."),a):a},extractIfFragment:function(a){if(h){if(a[f])return a[f];for(var b in a)if(a.hasOwnProperty(b)&&d.isValidElement(a[b]))return n.extract(a)}return a}};b.exports=n},{171:171,63:63}],70:[function(a,b,c){"use strict";var d=a(11),e=a(18),f=a(41),g=a(38),h=a(65),i=a(33),j=a(80),k=a(48),l=a(82),m=a(91),n=a(100),o={Component:f.injection,Class:g.injection,DOMComponent:k.injection,DOMProperty:d.injection,EmptyComponent:h.injection,EventPluginHub:e.injection,EventEmitter:i.injection,NativeComponent:j.injection,Perf:l.injection,RootIndex:m.injection,Updates:n.injection};b.exports=o},{100:100,11:11,18:18,33:33,38:38,41:41,48:48,65:65,80:80,82:82,91:91}],71:[function(a,b,c){"use strict";function d(a){return f(document.documentElement,a)}var e=a(56),f=a(123),g=a(134),h=a(136),i={hasSelectionCapabilities:function(a){return a&&("INPUT"===a.nodeName&&"text"===a.type||"TEXTAREA"===a.nodeName||"true"===a.contentEditable)},getSelectionInformation:function(){var a=h();return{focusedElem:a,selectionRange:i.hasSelectionCapabilities(a)?i.getSelection(a):null}},restoreSelection:function(a){var b=h(),c=a.focusedElem,e=a.selectionRange;b!==c&&d(c)&&(i.hasSelectionCapabilities(c)&&i.setSelection(c,e),g(c))},getSelection:function(a){var b;if("selectionStart"in a)b={start:a.selectionStart,end:a.selectionEnd};else if(document.selection&&"INPUT"===a.nodeName){var c=document.selection.createRange();c.parentElement()===a&&(b={start:-c.moveStart("character",-a.value.length),end:-c.moveEnd("character",-a.value.length)})}else b=e.getOffsets(a);return b||{start:0,end:0}},setSelection:function(a,b){var c=b.start,d=b.end;if("undefined"==typeof d&&(d=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(d,a.value.length);else if(document.selection&&"INPUT"===a.nodeName){var f=a.createTextRange();f.collapse(!0),f.moveStart("character",c),f.moveEnd("character",d-c),f.select()}else e.setOffsets(a,b)}};b.exports=i},{123:123,134:134,136:136,56:56}],72:[function(a,b,c){"use strict";function d(a){return n+a.toString(36)}function e(a,b){return a.charAt(b)===n||b===a.length}function f(a){return""===a||a.charAt(0)===n&&a.charAt(a.length-1)!==n}function g(a,b){return 0===b.indexOf(a)&&e(b,a.length)}function h(a){return a?a.substr(0,a.lastIndexOf(n)):""}function i(a,b){if(m(f(a)&&f(b),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",a,b),m(g(a,b),"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",a,b),a===b)return a;var c,d=a.length+o;for(c=d;c<b.length&&!e(b,c);c++);return b.substr(0,c)}function j(a,b){var c=Math.min(a.length,b.length);if(0===c)return"";for(var d=0,g=0;c>=g;g++)if(e(a,g)&&e(b,g))d=g;else if(a.charAt(g)!==b.charAt(g))break;var h=a.substr(0,d);return m(f(h),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",a,b,h),h}function k(a,b,c,d,e,f){a=a||"",b=b||"",m(a!==b,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",a);var j=g(b,a);m(j||g(a,b),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",a,b);for(var k=0,l=j?h:i,n=a;;n=l(n,b)){var o;if(e&&n===a||f&&n===b||(o=c(n,j,d)),o===!1||n===b)break;m(k++<p,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",a,b)}}var l=a(91),m=a(150),n=".",o=n.length,p=100,q={createReactRootID:function(){return d(l.createReactRootIndex())},createReactID:function(a,b){return a+b},getReactRootIDFromNodeID:function(a){if(a&&a.charAt(0)===n&&a.length>1){var b=a.indexOf(n,1);return b>-1?a.substr(0,b):a}return null},traverseEnterLeave:function(a,b,c,d,e){var f=j(a,b);f!==a&&k(a,f,c,d,!1,!0),f!==b&&k(f,b,c,e,!0,!1)},traverseTwoPhase:function(a,b,c){a&&(k("",a,b,c,!0,!1),k(a,"",b,c,!1,!0))},traverseAncestors:function(a,b,c){k("",a,b,c,!0,!1)},_getFirstCommonAncestorID:j,_getNextDescendantID:i,isAncestorIDOf:g,SEPARATOR:n};b.exports=q},{150:150,91:91}],73:[function(a,b,c){"use strict";var d={remove:function(a){a._reactInternalInstance=void 0},get:function(a){return a._reactInternalInstance},has:function(a){return void 0!==a._reactInternalInstance},set:function(a,b){a._reactInternalInstance=b}};b.exports=d},{}],74:[function(a,b,c){"use strict";var d={currentlyMountingInstance:null,currentlyUnmountingInstance:null};b.exports=d},{}],75:[function(a,b,c){"use strict";function d(a,b){this.value=a,this.requestChange=b}function e(a){var b={value:"undefined"==typeof a?f.PropTypes.any.isRequired:a.isRequired,requestChange:f.PropTypes.func.isRequired};return f.PropTypes.shape(b)}var f=a(31);d.PropTypes={link:e},b.exports=d},{31:31}],76:[function(a,b,c){"use strict";var d=a(119),e={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(a){var b=d(a);return a.replace(">"," "+e.CHECKSUM_ATTR_NAME+'="'+b+'">')},canReuseMarkup:function(a,b){var c=b.getAttribute(e.CHECKSUM_ATTR_NAME);c=c&&parseInt(c,10);var f=d(a);return f===c}};b.exports=e},{119:119}],77:[function(a,b,c){"use strict";function d(a,b){for(var c=Math.min(a.length,b.length),d=0;c>d;d++)if(a.charAt(d)!==b.charAt(d))return d;return a.length===b.length?-1:c}function e(a){var b=F(a);return b&&V.getID(b)}function f(a){var b=g(a);if(b)if(N.hasOwnProperty(b)){var c=N[b];c!==a&&(H(!k(c,b),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",M,b),N[b]=a)}else N[b]=a;return b}function g(a){return a&&a.getAttribute&&a.getAttribute(M)||""}function h(a,b){var c=g(a);c!==b&&delete N[c],a.setAttribute(M,b),N[b]=a}function i(a){return N.hasOwnProperty(a)&&k(N[a],a)||(N[a]=V.findReactNodeByID(a)),N[a]}function j(a){var b=x.get(a)._rootNodeID;return v.isNullComponentID(b)?null:(N.hasOwnProperty(b)&&k(N[b],b)||(N[b]=V.findReactNodeByID(b)),N[b])}function k(a,b){if(a){H(g(a)===b,"ReactMount: Unexpected modification of `%s`",M);var c=V.findReactContainerForID(b);if(c&&E(c,a))return!0}return!1}function l(a){delete N[a]}function m(a){var b=N[a];return b&&k(b,a)?void(U=b):!1}function n(a){U=null,w.traverseAncestors(a,m);var b=U;return U=null,b}function o(a,b,c,d,e){var f=A.mountComponent(a,b,d,D);a._isTopLevel=!0,V._mountImageIntoNode(f,c,e)}function p(a,b,c,d){var e=C.ReactReconcileTransaction.getPooled();e.perform(o,null,a,b,c,e,d),C.ReactReconcileTransaction.release(e)}var q=a(11),r=a(33),s=a(45),t=a(63),u=a(64),v=a(65),w=a(72),x=a(73),y=a(76),z=a(82),A=a(89),B=a(99),C=a(100),D=a(130),E=a(123),F=a(144),G=a(149),H=a(150),I=a(164),J=a(167),K=a(171),L=w.SEPARATOR,M=q.ID_ATTRIBUTE_NAME,N={},O=1,P=9,Q={},R={},S={},T=[],U=null,V={_instancesByReactRootID:Q,scrollMonitor:function(a,b){b()},_updateRootComponent:function(a,b,c,d){return u.checkAndWarnForMutatedProps(b),V.scrollMonitor(c,function(){B.enqueueElementInternal(a,b),d&&B.enqueueCallbackInternal(a,d)}),S[e(c)]=F(c),a},_registerComponent:function(a,b){H(b&&(b.nodeType===O||b.nodeType===P),"_registerComponent(...): Target container is not a DOM element."),r.ensureScrollValueMonitoring();var c=V.registerContainer(b);return Q[c]=a,c},_renderNewRootComponent:function(a,b,c){K(null==s.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.");var d=G(a,null),e=V._registerComponent(d,b);return C.batchedUpdates(p,d,e,b,c),S[e]=F(b),d},render:function(a,b,c){H(t.isValidElement(a),"React.render(): Invalid component element.%s","string"==typeof a?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof a?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=a&&void 0!==a.props?" This may be caused by unintentionally loading two independent copies of React.":"");var d=Q[e(b)];if(d){var f=d._currentElement;if(J(f,a))return V._updateRootComponent(d,a,b,c).getPublicInstance();V.unmountComponentAtNode(b)}var g=F(b),h=g&&V.isRenderedByReact(g);
if(!h||g.nextSibling)for(var i=g;i;){if(V.isRenderedByReact(i)){K(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.");break}i=i.nextSibling}var j=h&&!d,k=V._renderNewRootComponent(a,b,j).getPublicInstance();return c&&c.call(k),k},constructAndRenderComponent:function(a,b,c){var d=t.createElement(a,b);return V.render(d,c)},constructAndRenderComponentByID:function(a,b,c){var d=document.getElementById(c);return H(d,'Tried to get element with id of "%s" but it is not present on the page.',c),V.constructAndRenderComponent(a,b,d)},registerContainer:function(a){var b=e(a);return b&&(b=w.getReactRootIDFromNodeID(b)),b||(b=w.createReactRootID()),R[b]=a,b},unmountComponentAtNode:function(a){K(null==s.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."),H(a&&(a.nodeType===O||a.nodeType===P),"unmountComponentAtNode(...): Target container is not a DOM element.");var b=e(a),c=Q[b];return c?(V.unmountComponentFromNode(c,a),delete Q[b],delete R[b],delete S[b],!0):!1},unmountComponentFromNode:function(a,b){for(A.unmountComponent(a),b.nodeType===P&&(b=b.documentElement);b.lastChild;)b.removeChild(b.lastChild)},findReactContainerForID:function(a){var b=w.getReactRootIDFromNodeID(a),c=R[b],d=S[b];if(d&&d.parentNode!==c){H(g(d)===b,"ReactMount: Root element ID differed from reactRootID.");var e=c.firstChild;e&&b===g(e)?S[b]=e:K(!1,"ReactMount: Root element has been removed from its original container. New container:",d.parentNode)}return c},findReactNodeByID:function(a){var b=V.findReactContainerForID(a);return V.findComponentRoot(b,a)},isRenderedByReact:function(a){if(1!==a.nodeType)return!1;var b=V.getID(a);return b?b.charAt(0)===L:!1},getFirstReactDOM:function(a){for(var b=a;b&&b.parentNode!==b;){if(V.isRenderedByReact(b))return b;b=b.parentNode}return null},findComponentRoot:function(a,b){var c=T,d=0,e=n(b)||a;for(c[0]=e.firstChild,c.length=1;d<c.length;){for(var f,g=c[d++];g;){var h=V.getID(g);h?b===h?f=g:w.isAncestorIDOf(h,b)&&(c.length=d=0,c.push(g.firstChild)):c.push(g.firstChild),g=g.nextSibling}if(f)return c.length=0,f}c.length=0,H(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",b,V.getID(a))},_mountImageIntoNode:function(a,b,c){if(H(b&&(b.nodeType===O||b.nodeType===P),"mountComponentIntoNode(...): Target container is not valid."),c){var e=F(b);if(y.canReuseMarkup(a,e))return;var f=e.getAttribute(y.CHECKSUM_ATTR_NAME);e.removeAttribute(y.CHECKSUM_ATTR_NAME);var g=e.outerHTML;e.setAttribute(y.CHECKSUM_ATTR_NAME,f);var h=d(a,g),i=" (client) "+a.substring(h-20,h+20)+"\n (server) "+g.substring(h-20,h+20);H(b.nodeType!==P,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",i),K(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",i)}H(b.nodeType!==P,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See React.renderToString() for server rendering."),I(b,a)},getReactRootID:e,getID:f,setID:h,getNode:i,getNodeFromInstance:j,purgeID:l};z.measureMethods(V,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),b.exports=V},{100:100,11:11,123:123,130:130,144:144,149:149,150:150,164:164,167:167,171:171,33:33,45:45,63:63,64:64,65:65,72:72,73:73,76:76,82:82,89:89,99:99}],78:[function(a,b,c){"use strict";function d(a,b,c){o.push({parentID:a,parentNode:null,type:k.INSERT_MARKUP,markupIndex:p.push(b)-1,textContent:null,fromIndex:null,toIndex:c})}function e(a,b,c){o.push({parentID:a,parentNode:null,type:k.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:b,toIndex:c})}function f(a,b){o.push({parentID:a,parentNode:null,type:k.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:b,toIndex:null})}function g(a,b){o.push({parentID:a,parentNode:null,type:k.TEXT_CONTENT,markupIndex:null,textContent:b,fromIndex:null,toIndex:null})}function h(){o.length&&(j.processChildrenUpdates(o,p),i())}function i(){o.length=0,p.length=0}var j=a(41),k=a(79),l=a(89),m=a(36),n=0,o=[],p=[],q={Mixin:{mountChildren:function(a,b,c){var d=m.instantiateChildren(a,b,c);this._renderedChildren=d;var e=[],f=0;for(var g in d)if(d.hasOwnProperty(g)){var h=d[g],i=this._rootNodeID+g,j=l.mountComponent(h,i,b,c);h._mountIndex=f,e.push(j),f++}return e},updateTextContent:function(a){n++;var b=!0;try{var c=this._renderedChildren;m.unmountChildren(c);for(var d in c)c.hasOwnProperty(d)&&this._unmountChildByName(c[d],d);this.setTextContent(a),b=!1}finally{n--,n||(b?i():h())}},updateChildren:function(a,b,c){n++;var d=!0;try{this._updateChildren(a,b,c),d=!1}finally{n--,n||(d?i():h())}},_updateChildren:function(a,b,c){var d=this._renderedChildren,e=m.updateChildren(d,a,b,c);if(this._renderedChildren=e,e||d){var f,g=0,h=0;for(f in e)if(e.hasOwnProperty(f)){var i=d&&d[f],j=e[f];i===j?(this.moveChild(i,h,g),g=Math.max(i._mountIndex,g),i._mountIndex=h):(i&&(g=Math.max(i._mountIndex,g),this._unmountChildByName(i,f)),this._mountChildByNameAtIndex(j,f,h,b,c)),h++}for(f in d)!d.hasOwnProperty(f)||e&&e.hasOwnProperty(f)||this._unmountChildByName(d[f],f)}},unmountChildren:function(){var a=this._renderedChildren;m.unmountChildren(a),this._renderedChildren=null},moveChild:function(a,b,c){a._mountIndex<c&&e(this._rootNodeID,a._mountIndex,b)},createChild:function(a,b){d(this._rootNodeID,b,a._mountIndex)},removeChild:function(a){f(this._rootNodeID,a._mountIndex)},setTextContent:function(a){g(this._rootNodeID,a)},_mountChildByNameAtIndex:function(a,b,c,d,e){var f=this._rootNodeID+b,g=l.mountComponent(a,f,d,e);a._mountIndex=c,this.createChild(a,g)},_unmountChildByName:function(a,b){this.removeChild(a),a._mountIndex=null}}};b.exports=q},{36:36,41:41,79:79,89:89}],79:[function(a,b,c){"use strict";var d=a(156),e=d({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});b.exports=e},{156:156}],80:[function(a,b,c){"use strict";function d(a){if("function"==typeof a.type)return a.type;var b=a.type,c=l[b];return null==c&&(l[b]=c=j(b)),c}function e(a){return i(k,"There is no registered component for the tag %s",a.type),new k(a.type,a.props)}function f(a){return new m(a)}function g(a){return a instanceof m}var h=a(29),i=a(150),j=null,k=null,l={},m=null,n={injectGenericComponentClass:function(a){k=a},injectTextComponentClass:function(a){m=a},injectComponentClasses:function(a){h(l,a)},injectAutoWrapper:function(a){j=a}},o={getComponentClassForElement:d,createInternalComponent:e,createInstanceForText:f,isTextComponent:g,injection:n};b.exports=o},{150:150,29:29}],81:[function(a,b,c){"use strict";var d=a(150),e={isValidOwner:function(a){return!(!a||"function"!=typeof a.attachRef||"function"!=typeof a.detachRef)},addComponentAsRefTo:function(a,b,c){d(e.isValidOwner(c),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you're trying to add a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."),c.attachRef(b,a)},removeComponentAsRefFrom:function(a,b,c){d(e.isValidOwner(c),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This usually means that you're trying to remove a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."),c.getPublicInstance().refs[b]===a.getPublicInstance()&&c.detachRef(b)}};b.exports=e},{150:150}],82:[function(a,b,c){"use strict";function d(a,b,c){return c}var e={enableMeasure:!1,storedMeasure:d,measureMethods:function(a,b,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=e.measure(b,c[d],a[d]))},measure:function(a,b,c){var d=null,f=function(){return e.enableMeasure?(d||(d=e.storedMeasure(a,b,c)),d.apply(this,arguments)):c.apply(this,arguments)};return f.displayName=a+"_"+b,f},injection:{injectMeasure:function(a){e.storedMeasure=a}}};b.exports=e},{}],83:[function(a,b,c){"use strict";function d(a){return function(b,c,d){b.hasOwnProperty(c)?b[c]=a(b[c],d):b[c]=d}}function e(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d=j[c];d&&j.hasOwnProperty(c)?d(a,c,b[c]):a.hasOwnProperty(c)||(a[c]=b[c])}return a}var f=a(29),g=a(129),h=a(155),i=d(function(a,b){return f({},b,a)}),j={children:g,className:d(h),style:i},k={mergeProps:function(a,b){return e(f({},a),b)}};b.exports=k},{129:129,155:155,29:29}],84:[function(a,b,c){"use strict";var d={};d={prop:"prop",context:"context",childContext:"child context"},b.exports=d},{}],85:[function(a,b,c){"use strict";var d=a(156),e=d({prop:null,context:null,childContext:null});b.exports=e},{156:156}],86:[function(a,b,c){"use strict";function d(a){function b(b,c,d,e,f){if(e=e||v,null==c[d]){var g=t[f];return b?new Error("Required "+g+" `"+d+"` was not specified in "+("`"+e+"`.")):null}return a(c,d,e,f)}var c=b.bind(null,!1);return c.isRequired=b.bind(null,!0),c}function e(a){function b(b,c,d,e){var f=b[c],g=p(f);if(g!==a){var h=t[e],i=q(f);return new Error("Invalid "+h+" `"+c+"` of type `"+i+"` "+("supplied to `"+d+"`, expected `"+a+"`."))}return null}return d(b)}function f(){return d(u.thatReturns(null))}function g(a){function b(b,c,d,e){var f=b[c];if(!Array.isArray(f)){var g=t[e],h=p(f);return new Error("Invalid "+g+" `"+c+"` of type "+("`"+h+"` supplied to `"+d+"`, expected an array."))}for(var i=0;i<f.length;i++){var j=a(f,i,d,e);if(j instanceof Error)return j}return null}return d(b)}function h(){function a(a,b,c,d){if(!r.isValidElement(a[b])){var e=t[d];return new Error("Invalid "+e+" `"+b+"` supplied to "+("`"+c+"`, expected a ReactElement."))}return null}return d(a)}function i(a){function b(b,c,d,e){if(!(b[c]instanceof a)){var f=t[e],g=a.name||v;return new Error("Invalid "+f+" `"+c+"` supplied to "+("`"+d+"`, expected instance of `"+g+"`."))}return null}return d(b)}function j(a){function b(b,c,d,e){for(var f=b[c],g=0;g<a.length;g++)if(f===a[g])return null;var h=t[e],i=JSON.stringify(a);return new Error("Invalid "+h+" `"+c+"` of value `"+f+"` "+("supplied to `"+d+"`, expected one of "+i+"."))}return d(b)}function k(a){function b(b,c,d,e){var f=b[c],g=p(f);if("object"!==g){var h=t[e];return new Error("Invalid "+h+" `"+c+"` of type "+("`"+g+"` supplied to `"+d+"`, expected an object."))}for(var i in f)if(f.hasOwnProperty(i)){var j=a(f,i,d,e);if(j instanceof Error)return j}return null}return d(b)}function l(a){function b(b,c,d,e){for(var f=0;f<a.length;f++){var g=a[f];if(null==g(b,c,d,e))return null}var h=t[e];return new Error("Invalid "+h+" `"+c+"` supplied to "+("`"+d+"`."))}return d(b)}function m(){function a(a,b,c,d){if(!o(a[b])){var e=t[d];return new Error("Invalid "+e+" `"+b+"` supplied to "+("`"+c+"`, expected a ReactNode."))}return null}return d(a)}function n(a){function b(b,c,d,e){var f=b[c],g=p(f);if("object"!==g){var h=t[e];return new Error("Invalid "+h+" `"+c+"` of type `"+g+"` "+("supplied to `"+d+"`, expected `object`."))}for(var i in a){var j=a[i];if(j){var k=j(f,i,d,e);if(k)return k}}return null}return d(b)}function o(a){switch(typeof a){case"number":case"string":case"undefined":return!0;case"boolean":return!a;case"object":if(Array.isArray(a))return a.every(o);if(null===a||r.isValidElement(a))return!0;a=s.extractIfFragment(a);for(var b in a)if(!o(a[b]))return!1;return!0;default:return!1}}function p(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":b}function q(a){var b=p(a);if("object"===b){if(a instanceof Date)return"date";if(a instanceof RegExp)return"regexp"}return b}var r=a(63),s=a(69),t=a(84),u=a(129),v="<<anonymous>>",w=h(),x=m(),y={array:e("array"),bool:e("boolean"),func:e("function"),number:e("number"),object:e("object"),string:e("string"),any:f(),arrayOf:g,element:w,instanceOf:i,node:x,objectOf:k,oneOf:j,oneOfType:l,shape:n};b.exports=y},{129:129,63:63,69:69,84:84}],87:[function(a,b,c){"use strict";function d(){this.listenersToPut=[]}var e=a(30),f=a(33),g=a(29);g(d.prototype,{enqueuePutListener:function(a,b,c){this.listenersToPut.push({rootNodeID:a,propKey:b,propValue:c})},putListeners:function(){for(var a=0;a<this.listenersToPut.length;a++){var b=this.listenersToPut[a];f.putListener(b.rootNodeID,b.propKey,b.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),e.addPoolingTo(d),b.exports=d},{29:29,30:30,33:33}],88:[function(a,b,c){"use strict";function d(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=e.getPooled(null),this.putListenerQueue=i.getPooled()}var e=a(7),f=a(30),g=a(33),h=a(71),i=a(87),j=a(116),k=a(29),l={initialize:h.getSelectionInformation,close:h.restoreSelection},m={initialize:function(){var a=g.isEnabled();return g.setEnabled(!1),a},close:function(a){g.setEnabled(a)}},n={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},o={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},p=[o,l,m,n],q={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){e.release(this.reactMountReady),this.reactMountReady=null,i.release(this.putListenerQueue),this.putListenerQueue=null}};k(d.prototype,j.Mixin,q),f.addPoolingTo(d),b.exports=d},{116:116,29:29,30:30,33:33,7:7,71:71,87:87}],89:[function(a,b,c){"use strict";function d(){e.attachRefs(this,this._currentElement)}var e=a(90),f=a(64),g={mountComponent:function(a,b,c,e){var g=a.mountComponent(b,c,e);return f.checkAndWarnForMutatedProps(a._currentElement),c.getReactMountReady().enqueue(d,a),g},unmountComponent:function(a){e.detachRefs(a,a._currentElement),a.unmountComponent()},receiveComponent:function(a,b,c,g){var h=a._currentElement;if(b!==h||null==b._owner){f.checkAndWarnForMutatedProps(b);var i=e.shouldUpdateRefs(h,b);i&&e.detachRefs(a,h),a.receiveComponent(b,c,g),i&&c.getReactMountReady().enqueue(d,a)}},performUpdateIfNecessary:function(a,b){a.performUpdateIfNecessary(b)}};b.exports=g},{64:64,90:90}],90:[function(a,b,c){"use strict";function d(a,b,c){"function"==typeof a?a(b.getPublicInstance()):f.addComponentAsRefTo(b,a,c)}function e(a,b,c){"function"==typeof a?a(null):f.removeComponentAsRefFrom(b,a,c)}var f=a(81),g={};g.attachRefs=function(a,b){var c=b.ref;null!=c&&d(c,a,b._owner)},g.shouldUpdateRefs=function(a,b){return b._owner!==a._owner||b.ref!==a.ref},g.detachRefs=function(a,b){var c=b.ref;null!=c&&e(c,a,b._owner)},b.exports=g},{81:81}],91:[function(a,b,c){"use strict";var d={injectCreateReactRootIndex:function(a){e.createReactRootIndex=a}},e={createReactRootIndex:null,injection:d};b.exports=e},{}],92:[function(a,b,c){"use strict";function d(a){l(f.isValidElement(a),"renderToString(): You must pass a valid ReactElement.");var b;try{var c=g.createReactRootID();return b=i.getPooled(!1),b.perform(function(){var d=k(a,null),e=d.mountComponent(c,b,j);return h.addChecksumToMarkup(e)},null)}finally{i.release(b)}}function e(a){l(f.isValidElement(a),"renderToStaticMarkup(): You must pass a valid ReactElement.");var b;try{var c=g.createReactRootID();return b=i.getPooled(!0),b.perform(function(){var d=k(a,null);return d.mountComponent(c,b,j)},null)}finally{i.release(b)}}var f=a(63),g=a(72),h=a(76),i=a(93),j=a(130),k=a(149),l=a(150);b.exports={renderToString:d,renderToStaticMarkup:e}},{130:130,149:149,150:150,63:63,72:72,76:76,93:93}],93:[function(a,b,c){"use strict";function d(a){this.reinitializeTransaction(),this.renderToStaticMarkup=a,this.reactMountReady=f.getPooled(null),this.putListenerQueue=g.getPooled()}var e=a(30),f=a(7),g=a(87),h=a(116),i=a(29),j=a(129),k={initialize:function(){this.reactMountReady.reset()},close:j},l={initialize:function(){this.putListenerQueue.reset()},close:j},m=[l,k],n={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){f.release(this.reactMountReady),this.reactMountReady=null,g.release(this.putListenerQueue),this.putListenerQueue=null}};i(d.prototype,h.Mixin,n),e.addPoolingTo(d),b.exports=d},{116:116,129:129,29:29,30:30,7:7,87:87}],94:[function(a,b,c){"use strict";function d(a,b){var c={};return function(d){c[b]=d,a.setState(c)}}var e={createStateSetter:function(a,b){return function(c,d,e,f,g,h){var i=b.call(a,c,d,e,f,g,h);i&&a.setState(i)}},createStateKeySetter:function(a,b){var c=a.__keySetters||(a.__keySetters={});return c[b]||(c[b]=d(a,b))}};e.Mixin={createStateSetter:function(a){return e.createStateSetter(this,a)},createStateKeySetter:function(a){return e.createStateKeySetter(this,a)}},b.exports=e},{}],95:[function(a,b,c){"use strict";function d(a){}function e(a){return function(b,c){var e;x.isDOMComponent(b)?e=b.getDOMNode():b.tagName&&(e=b);var f=new d;f.target=e;var g=new t(n.eventNameDispatchConfigs[a],r.getID(e),f);u(g,c),j.accumulateTwoPhaseDispatches(g),s.batchedUpdates(function(){i.enqueueEvents(g),i.processEventQueue()})}}function f(){x.Simulate={};var a;for(a in n.eventNameDispatchConfigs)x.Simulate[a]=e(a)}function g(a){return function(b,c){var e=new d(a);u(e,c),x.isDOMComponent(b)?x.simulateNativeEventOnDOMComponent(a,b,e):b.tagName&&x.simulateNativeEventOnNode(a,b,e)}}var h=a(16),i=a(18),j=a(21),k=a(31),l=a(63),m=a(65),n=a(33),o=a(43),p=a(72),q=a(73),r=a(77),s=a(100),t=a(108),u=a(29),v=a(130),w=h.topLevelTypes,x={renderIntoDocument:function(a){var b=document.createElement("div");return k.render(a,b)},isElement:function(a){return l.isValidElement(a)},isElementOfType:function(a,b){return l.isValidElement(a)&&a.type===b},isDOMComponent:function(a){return!!(a&&a.tagName&&a.getDOMNode)},isDOMComponentElement:function(a){return!!(a&&l.isValidElement(a)&&a.tagName)},isCompositeComponent:function(a){return"function"==typeof a.render&&"function"==typeof a.setState},isCompositeComponentWithType:function(a,b){return!(!x.isCompositeComponent(a)||a.constructor!==b)},isCompositeComponentElement:function(a){if(!l.isValidElement(a))return!1;var b=a.type.prototype;return"function"==typeof b.render&&"function"==typeof b.setState},isCompositeComponentElementWithType:function(a,b){return!(!x.isCompositeComponentElement(a)||a.constructor!==b)},getRenderedChildOfCompositeComponent:function(a){if(!x.isCompositeComponent(a))return null;var b=q.get(a);return b._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(a,b){if(!a)return[];var c=b(a)?[a]:[];if(x.isDOMComponent(a)){var d,e=q.get(a),f=e._renderedComponent._renderedChildren;for(d in f)f.hasOwnProperty(d)&&f[d].getPublicInstance&&(c=c.concat(x.findAllInRenderedTree(f[d].getPublicInstance(),b)))}else x.isCompositeComponent(a)&&(c=c.concat(x.findAllInRenderedTree(x.getRenderedChildOfCompositeComponent(a),b)));return c},scryRenderedDOMComponentsWithClass:function(a,b){return x.findAllInRenderedTree(a,function(a){var c=a.props.className;return x.isDOMComponent(a)&&c&&-1!==(" "+c+" ").indexOf(" "+b+" ")})},findRenderedDOMComponentWithClass:function(a,b){var c=x.scryRenderedDOMComponentsWithClass(a,b);if(1!==c.length)throw new Error("Did not find exactly one match (found: "+c.length+") for class:"+b);return c[0]},scryRenderedDOMComponentsWithTag:function(a,b){return x.findAllInRenderedTree(a,function(a){return x.isDOMComponent(a)&&a.tagName===b.toUpperCase()})},findRenderedDOMComponentWithTag:function(a,b){var c=x.scryRenderedDOMComponentsWithTag(a,b);if(1!==c.length)throw new Error("Did not find exactly one match for tag:"+b);return c[0]},scryRenderedComponentsWithType:function(a,b){return x.findAllInRenderedTree(a,function(a){return x.isCompositeComponentWithType(a,b)})},findRenderedComponentWithType:function(a,b){var c=x.scryRenderedComponentsWithType(a,b);if(1!==c.length)throw new Error("Did not find exactly one match for componentType:"+b);return c[0]},mockComponent:function(a,b){return b=b||a.mockTagName||"div",a.prototype.render.mockImplementation(function(){return k.createElement(b,null,this.props.children)}),this},simulateNativeEventOnNode:function(a,b,c){c.target=b,n.ReactEventListener.dispatchEvent(a,c)},simulateNativeEventOnDOMComponent:function(a,b,c){x.simulateNativeEventOnNode(a,b.getDOMNode(),c)},nativeTouchData:function(a,b){return{touches:[{pageX:a,pageY:b}]}},createRenderer:function(){return new y},Simulate:null,SimulateNative:{}},y=function(){this._instance=null};y.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var z=function(a){this._renderedOutput=a,this._currentElement=null===a||a===!1?m.emptyElement:a};z.prototype={mountComponent:function(){},receiveComponent:function(a){this._renderedOutput=a,this._currentElement=null===a||a===!1?m.emptyElement:a},unmountComponent:function(){}};var A=function(){};u(A.prototype,o.Mixin,{_instantiateReactComponent:function(a){return new z(a)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:o.Mixin._renderValidatedComponentWithoutOwnerOrContext}),y.prototype.render=function(a,b){b||(b=v);var c=s.ReactReconcileTransaction.getPooled();this._render(a,c,b),s.ReactReconcileTransaction.release(c)},y.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},y.prototype._render=function(a,b,c){if(this._instance)this._instance.receiveComponent(a,b,c);else{var d=p.createReactRootID(),e=new A(a.type);e.construct(a),e.mountComponent(d,b,c),this._instance=e}};var B=i.injection.injectEventPluginOrder;i.injection.injectEventPluginOrder=function(){B.apply(this,arguments),f()};var C=i.injection.injectEventPluginsByName;i.injection.injectEventPluginsByName=function(){C.apply(this,arguments),f()},f();var D;for(D in w){var E=0===D.indexOf("top")?D.charAt(3).toLowerCase()+D.substr(4):D;x.SimulateNative[E]=g(D)}b.exports=x},{100:100,108:108,130:130,16:16,18:18,21:21,29:29,31:31,33:33,43:43,63:63,65:65,72:72,73:73,77:77}],96:[function(a,b,c){"use strict";var d=a(37),e=a(69),f={getChildMapping:function(a){return a?e.extract(d.map(a,function(a){return a})):a},mergeChildMappings:function(a,b){function c(c){return b.hasOwnProperty(c)?b[c]:a[c]}a=a||{},b=b||{};var d={},e=[];for(var f in a)b.hasOwnProperty(f)?e.length&&(d[f]=e,e=[]):e.push(f);var g,h={};for(var i in b){if(d.hasOwnProperty(i))for(g=0;g<d[i].length;g++){var j=d[i][g];h[d[i][g]]=c(j)}h[i]=c(i)}for(g=0;g<e.length;g++)h[e[g]]=c(e[g]);return h}};b.exports=f},{37:37,69:69}],97:[function(a,b,c){"use strict";function d(){var a=document.createElement("div"),b=a.style;"AnimationEvent"in window||delete h.animationend.animation,"TransitionEvent"in window||delete h.transitionend.transition;for(var c in h){var d=h[c];for(var e in d)if(e in b){i.push(d[e]);break}}}function e(a,b,c){a.addEventListener(b,c,!1)}function f(a,b,c){a.removeEventListener(b,c,!1)}var g=a(22),h={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},i=[];g.canUseDOM&&d();var j={addEndEventListener:function(a,b){return 0===i.length?void window.setTimeout(b,0):void i.forEach(function(c){e(a,c,b)})},removeEndEventListener:function(a,b){0!==i.length&&i.forEach(function(c){f(a,c,b)})}};b.exports=j},{22:22}],98:[function(a,b,c){"use strict";var d=a(31),e=a(96),f=a(29),g=a(122),h=a(129),i=d.createClass({displayName:"ReactTransitionGroup",propTypes:{component:d.PropTypes.any,childFactory:d.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:h.thatReturnsArgument}},getInitialState:function(){return{children:e.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var a=this.state.children;for(var b in a)a[b]&&this.performAppear(b)},componentWillReceiveProps:function(a){var b=e.getChildMapping(a.children),c=this.state.children;this.setState({children:e.mergeChildMappings(c,b)});var d;for(d in b){var f=c&&c.hasOwnProperty(d);!b[d]||f||this.currentlyTransitioningKeys[d]||this.keysToEnter.push(d)}for(d in c){var g=b&&b.hasOwnProperty(d);!c[d]||g||this.currentlyTransitioningKeys[d]||this.keysToLeave.push(d)}},componentDidUpdate:function(){var a=this.keysToEnter;this.keysToEnter=[],a.forEach(this.performEnter);var b=this.keysToLeave;this.keysToLeave=[],b.forEach(this.performLeave)},performAppear:function(a){this.currentlyTransitioningKeys[a]=!0;var b=this.refs[a];b.componentWillAppear?b.componentWillAppear(this._handleDoneAppearing.bind(this,a)):this._handleDoneAppearing(a)},_handleDoneAppearing:function(a){var b=this.refs[a];b.componentDidAppear&&b.componentDidAppear(),delete this.currentlyTransitioningKeys[a];var c=e.getChildMapping(this.props.children);c&&c.hasOwnProperty(a)||this.performLeave(a)},performEnter:function(a){this.currentlyTransitioningKeys[a]=!0;var b=this.refs[a];b.componentWillEnter?b.componentWillEnter(this._handleDoneEntering.bind(this,a)):this._handleDoneEntering(a)},_handleDoneEntering:function(a){var b=this.refs[a];b.componentDidEnter&&b.componentDidEnter(),delete this.currentlyTransitioningKeys[a];var c=e.getChildMapping(this.props.children);c&&c.hasOwnProperty(a)||this.performLeave(a)},performLeave:function(a){this.currentlyTransitioningKeys[a]=!0;var b=this.refs[a];b.componentWillLeave?b.componentWillLeave(this._handleDoneLeaving.bind(this,a)):this._handleDoneLeaving(a)},_handleDoneLeaving:function(a){var b=this.refs[a];b.componentDidLeave&&b.componentDidLeave(),delete this.currentlyTransitioningKeys[a];var c=e.getChildMapping(this.props.children);if(c&&c.hasOwnProperty(a))this.performEnter(a);else{var d=f({},this.state.children);delete d[a],this.setState({children:d})}},render:function(){var a=[];for(var b in this.state.children){var c=this.state.children[b];c&&a.push(g(this.props.childFactory(c),{ref:b,key:b}))}return d.createElement(this.props.component,this.props,a)}});b.exports=i},{122:122,129:129,29:29,31:31,96:96}],99:[function(a,b,c){"use strict";function d(a){a!==f.currentlyMountingInstance&&j.enqueueUpdate(a)}function e(a,b){l(null==g.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",b);var c=i.get(a);return c?c===f.currentlyUnmountingInstance?null:c:(m(!b,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op.",b,b),null)}var f=a(74),g=a(45),h=a(63),i=a(73),j=a(100),k=a(29),l=a(150),m=a(171),n={enqueueCallback:function(a,b){l("function"==typeof b,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable.");var c=e(a);return c&&c!==f.currentlyMountingInstance?(c._pendingCallbacks?c._pendingCallbacks.push(b):c._pendingCallbacks=[b],void d(c)):null},enqueueCallbackInternal:function(a,b){l("function"==typeof b,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."),a._pendingCallbacks?a._pendingCallbacks.push(b):a._pendingCallbacks=[b],d(a)},enqueueForceUpdate:function(a){var b=e(a,"forceUpdate");b&&(b._pendingForceUpdate=!0,d(b))},enqueueReplaceState:function(a,b){var c=e(a,"replaceState");c&&(c._pendingStateQueue=[b],c._pendingReplaceState=!0,d(c))},enqueueSetState:function(a,b){var c=e(a,"setState");if(c){var f=c._pendingStateQueue||(c._pendingStateQueue=[]);f.push(b),d(c)}},enqueueSetProps:function(a,b){var c=e(a,"setProps");if(c){l(c._isTopLevel,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var f=c._pendingElement||c._currentElement,g=k({},f.props,b);c._pendingElement=h.cloneAndReplaceProps(f,g),d(c)}},enqueueReplaceProps:function(a,b){var c=e(a,"replaceProps");if(c){l(c._isTopLevel,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var f=c._pendingElement||c._currentElement;c._pendingElement=h.cloneAndReplaceProps(f,b),d(c)}},enqueueElementInternal:function(a,b){a._pendingElement=b,d(a)}};b.exports=n},{100:100,150:150,171:171,29:29,45:45,63:63,73:73,74:74}],100:[function(a,b,c){"use strict";function d(){r(C.ReactReconcileTransaction&&w,"ReactUpdates: must inject a reconcile transaction class and batching strategy")}function e(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=k.getPooled(),this.reconcileTransaction=C.ReactReconcileTransaction.getPooled()}function f(a,b,c,e,f){d(),w.batchedUpdates(a,b,c,e,f)}function g(a,b){return a._mountOrder-b._mountOrder}function h(a){var b=a.dirtyComponentsLength;r(b===t.length,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",b,t.length),t.sort(g);for(var c=0;b>c;c++){var d=t[c],e=d._pendingCallbacks;if(d._pendingCallbacks=null,o.performUpdateIfNecessary(d,a.reconcileTransaction),e)for(var f=0;f<e.length;f++)a.callbackQueue.enqueue(e[f],d.getPublicInstance())}}function i(a){return d(),s(null==m.current,"enqueueUpdate(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."),w.isBatchingUpdates?void t.push(a):void w.batchedUpdates(i,a)}function j(a,b){r(w.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),u.enqueue(a,b),v=!0}var k=a(7),l=a(30),m=a(45),n=a(82),o=a(89),p=a(116),q=a(29),r=a(150),s=a(171),t=[],u=k.getPooled(),v=!1,w=null,x={initialize:function(){this.dirtyComponentsLength=t.length},close:function(){this.dirtyComponentsLength!==t.length?(t.splice(0,this.dirtyComponentsLength),A()):t.length=0}},y={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},z=[x,y];q(e.prototype,p.Mixin,{getTransactionWrappers:function(){return z},destructor:function(){this.dirtyComponentsLength=null,k.release(this.callbackQueue),
this.callbackQueue=null,C.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(a,b,c){return p.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,a,b,c)}}),l.addPoolingTo(e);var A=function(){for(;t.length||v;){if(t.length){var a=e.getPooled();a.perform(h,null,a),e.release(a)}if(v){v=!1;var b=u;u=k.getPooled(),b.notifyAll(),k.release(b)}}};A=n.measure("ReactUpdates","flushBatchedUpdates",A);var B={injectReconcileTransaction:function(a){r(a,"ReactUpdates: must provide a reconcile transaction class"),C.ReactReconcileTransaction=a},injectBatchingStrategy:function(a){r(a,"ReactUpdates: must provide a batching strategy"),r("function"==typeof a.batchedUpdates,"ReactUpdates: must provide a batchedUpdates() function"),r("boolean"==typeof a.isBatchingUpdates,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"),w=a}},C={ReactReconcileTransaction:null,batchedUpdates:f,enqueueUpdate:i,flushBatchedUpdates:A,injection:B,asap:j};b.exports=C},{116:116,150:150,171:171,29:29,30:30,45:45,7:7,82:82,89:89}],101:[function(a,b,c){"use strict";var d=a(11),e=d.injection.MUST_USE_ATTRIBUTE,f={Properties:{clipPath:e,cx:e,cy:e,d:e,dx:e,dy:e,fill:e,fillOpacity:e,fontFamily:e,fontSize:e,fx:e,fy:e,gradientTransform:e,gradientUnits:e,markerEnd:e,markerMid:e,markerStart:e,offset:e,opacity:e,patternContentUnits:e,patternUnits:e,points:e,preserveAspectRatio:e,r:e,rx:e,ry:e,spreadMethod:e,stopColor:e,stopOpacity:e,stroke:e,strokeDasharray:e,strokeLinecap:e,strokeOpacity:e,strokeWidth:e,textAnchor:e,transform:e,version:e,viewBox:e,x1:e,x2:e,x:e,y1:e,y2:e,y:e},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};b.exports=f},{11:11}],102:[function(a,b,c){"use strict";function d(a){if("selectionStart"in a&&h.hasSelectionCapabilities(a))return{start:a.selectionStart,end:a.selectionEnd};if(window.getSelection){var b=window.getSelection();return{anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}}if(document.selection){var c=document.selection.createRange();return{parentElement:c.parentElement(),text:c.text,top:c.boundingTop,left:c.boundingLeft}}}function e(a){if(s||null==p||p!==j())return null;var b=d(p);if(!r||!m(r,b)){r=b;var c=i.getPooled(o.select,q,a);return c.type="select",c.target=p,g.accumulateTwoPhaseDispatches(c),c}}var f=a(16),g=a(21),h=a(71),i=a(108),j=a(136),k=a(153),l=a(157),m=a(166),n=f.topLevelTypes,o={select:{phasedRegistrationNames:{bubbled:l({onSelect:null}),captured:l({onSelectCapture:null})},dependencies:[n.topBlur,n.topContextMenu,n.topFocus,n.topKeyDown,n.topMouseDown,n.topMouseUp,n.topSelectionChange]}},p=null,q=null,r=null,s=!1,t={eventTypes:o,extractEvents:function(a,b,c,d){switch(a){case n.topFocus:(k(b)||"true"===b.contentEditable)&&(p=b,q=c,r=null);break;case n.topBlur:p=null,q=null,r=null;break;case n.topMouseDown:s=!0;break;case n.topContextMenu:case n.topMouseUp:return s=!1,e(d);case n.topSelectionChange:case n.topKeyDown:case n.topKeyUp:return e(d)}}};b.exports=t},{108:108,136:136,153:153,157:157,16:16,166:166,21:21,71:71}],103:[function(a,b,c){"use strict";var d=Math.pow(2,53),e={createReactRootIndex:function(){return Math.ceil(Math.random()*d)}};b.exports=e},{}],104:[function(a,b,c){"use strict";var d=a(16),e=a(20),f=a(21),g=a(105),h=a(108),i=a(109),j=a(111),k=a(112),l=a(107),m=a(113),n=a(114),o=a(115),p=a(137),q=a(150),r=a(157),s=a(171),t=d.topLevelTypes,u={blur:{phasedRegistrationNames:{bubbled:r({onBlur:!0}),captured:r({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:r({onClick:!0}),captured:r({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:r({onContextMenu:!0}),captured:r({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:r({onCopy:!0}),captured:r({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:r({onCut:!0}),captured:r({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:r({onDoubleClick:!0}),captured:r({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:r({onDrag:!0}),captured:r({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:r({onDragEnd:!0}),captured:r({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:r({onDragEnter:!0}),captured:r({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:r({onDragExit:!0}),captured:r({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:r({onDragLeave:!0}),captured:r({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:r({onDragOver:!0}),captured:r({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:r({onDragStart:!0}),captured:r({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:r({onDrop:!0}),captured:r({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:r({onFocus:!0}),captured:r({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:r({onInput:!0}),captured:r({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:r({onKeyDown:!0}),captured:r({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:r({onKeyPress:!0}),captured:r({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:r({onKeyUp:!0}),captured:r({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:r({onLoad:!0}),captured:r({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:r({onError:!0}),captured:r({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:r({onMouseDown:!0}),captured:r({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:r({onMouseMove:!0}),captured:r({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:r({onMouseOut:!0}),captured:r({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:r({onMouseOver:!0}),captured:r({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:r({onMouseUp:!0}),captured:r({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:r({onPaste:!0}),captured:r({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:r({onReset:!0}),captured:r({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:r({onScroll:!0}),captured:r({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:r({onSubmit:!0}),captured:r({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:r({onTouchCancel:!0}),captured:r({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:r({onTouchEnd:!0}),captured:r({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:r({onTouchMove:!0}),captured:r({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:r({onTouchStart:!0}),captured:r({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:r({onWheel:!0}),captured:r({onWheelCapture:!0})}}},v={topBlur:u.blur,topClick:u.click,topContextMenu:u.contextMenu,topCopy:u.copy,topCut:u.cut,topDoubleClick:u.doubleClick,topDrag:u.drag,topDragEnd:u.dragEnd,topDragEnter:u.dragEnter,topDragExit:u.dragExit,topDragLeave:u.dragLeave,topDragOver:u.dragOver,topDragStart:u.dragStart,topDrop:u.drop,topError:u.error,topFocus:u.focus,topInput:u.input,topKeyDown:u.keyDown,topKeyPress:u.keyPress,topKeyUp:u.keyUp,topLoad:u.load,topMouseDown:u.mouseDown,topMouseMove:u.mouseMove,topMouseOut:u.mouseOut,topMouseOver:u.mouseOver,topMouseUp:u.mouseUp,topPaste:u.paste,topReset:u.reset,topScroll:u.scroll,topSubmit:u.submit,topTouchCancel:u.touchCancel,topTouchEnd:u.touchEnd,topTouchMove:u.touchMove,topTouchStart:u.touchStart,topWheel:u.wheel};for(var w in v)v[w].dependencies=[w];var x={eventTypes:u,executeDispatch:function(a,b,c){var d=e.executeDispatch(a,b,c);s("boolean"!=typeof d,"Returning `false` from an event handler is deprecated and will be ignored in a future release. Instead, manually call e.stopPropagation() or e.preventDefault(), as appropriate."),d===!1&&(a.stopPropagation(),a.preventDefault())},extractEvents:function(a,b,c,d){var e=v[a];if(!e)return null;var r;switch(a){case t.topInput:case t.topLoad:case t.topError:case t.topReset:case t.topSubmit:r=h;break;case t.topKeyPress:if(0===p(d))return null;case t.topKeyDown:case t.topKeyUp:r=j;break;case t.topBlur:case t.topFocus:r=i;break;case t.topClick:if(2===d.button)return null;case t.topContextMenu:case t.topDoubleClick:case t.topMouseDown:case t.topMouseMove:case t.topMouseOut:case t.topMouseOver:case t.topMouseUp:r=k;break;case t.topDrag:case t.topDragEnd:case t.topDragEnter:case t.topDragExit:case t.topDragLeave:case t.topDragOver:case t.topDragStart:case t.topDrop:r=l;break;case t.topTouchCancel:case t.topTouchEnd:case t.topTouchMove:case t.topTouchStart:r=m;break;case t.topScroll:r=n;break;case t.topWheel:r=o;break;case t.topCopy:case t.topCut:case t.topPaste:r=g}q(r,"SimpleEventPlugin: Unhandled event type, `%s`.",a);var s=r.getPooled(e,c,d);return f.accumulateTwoPhaseDispatches(s),s}};b.exports=x},{105:105,107:107,108:108,109:109,111:111,112:112,113:113,114:114,115:115,137:137,150:150,157:157,16:16,171:171,20:20,21:21}],105:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a(108),f={clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}};e.augmentClass(d,f),b.exports=d},{108:108}],106:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a(108),f={data:null};e.augmentClass(d,f),b.exports=d},{108:108}],107:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a(112),f={dataTransfer:null};e.augmentClass(d,f),b.exports=d},{112:112}],108:[function(a,b,c){"use strict";function d(a,b,c){this.dispatchConfig=a,this.dispatchMarker=b,this.nativeEvent=c;var d=this.constructor.Interface;for(var e in d)if(d.hasOwnProperty(e)){var f=d[e];f?this[e]=f(c):this[e]=c[e]}var h=null!=c.defaultPrevented?c.defaultPrevented:c.returnValue===!1;h?this.isDefaultPrevented=g.thatReturnsTrue:this.isDefaultPrevented=g.thatReturnsFalse,this.isPropagationStopped=g.thatReturnsFalse}var e=a(30),f=a(29),g=a(129),h=a(140),i={type:null,target:h,currentTarget:g.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};f(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a.preventDefault?a.preventDefault():a.returnValue=!1,this.isDefaultPrevented=g.thatReturnsTrue},stopPropagation:function(){var a=this.nativeEvent;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,this.isPropagationStopped=g.thatReturnsTrue},persist:function(){this.isPersistent=g.thatReturnsTrue},isPersistent:g.thatReturnsFalse,destructor:function(){var a=this.constructor.Interface;for(var b in a)this[b]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),d.Interface=i,d.augmentClass=function(a,b){var c=this,d=Object.create(c.prototype);f(d,a.prototype),a.prototype=d,a.prototype.constructor=a,a.Interface=f({},c.Interface,b),a.augmentClass=c.augmentClass,e.addPoolingTo(a,e.threeArgumentPooler)},e.addPoolingTo(d,e.threeArgumentPooler),b.exports=d},{129:129,140:140,29:29,30:30}],109:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a(114),f={relatedTarget:null};e.augmentClass(d,f),b.exports=d},{114:114}],110:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a(108),f={data:null};e.augmentClass(d,f),b.exports=d},{108:108}],111:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a(114),f=a(137),g=a(138),h=a(139),i={key:g,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:h,charCode:function(a){return"keypress"===a.type?f(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?f(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}};e.augmentClass(d,i),b.exports=d},{114:114,137:137,138:138,139:139}],112:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a(114),f=a(117),g=a(139),h={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:g,button:function(a){var b=a.button;return"which"in a?b:2===b?2:4===b?1:0},buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},pageX:function(a){return"pageX"in a?a.pageX:a.clientX+f.currentScrollLeft},pageY:function(a){return"pageY"in a?a.pageY:a.clientY+f.currentScrollTop}};e.augmentClass(d,h),b.exports=d},{114:114,117:117,139:139}],113:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a(114),f=a(139),g={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:f};e.augmentClass(d,g),b.exports=d},{114:114,139:139}],114:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a(108),f=a(140),g={view:function(a){if(a.view)return a.view;var b=f(a);if(null!=b&&b.window===b)return b;var c=b.ownerDocument;return c?c.defaultView||c.parentWindow:window},detail:function(a){return a.detail||0}};e.augmentClass(d,g),b.exports=d},{108:108,140:140}],115:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a(112),f={deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null};e.augmentClass(d,f),b.exports=d},{112:112}],116:[function(a,b,c){"use strict";var d=a(150),e={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(a,b,c,e,f,g,h,i){d(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction.");var j,k;try{this._isInTransaction=!0,j=!0,this.initializeAll(0),k=a.call(b,c,e,f,g,h,i),j=!1}finally{try{if(j)try{this.closeAll(0)}catch(l){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return k},initializeAll:function(a){for(var b=this.transactionWrappers,c=a;c<b.length;c++){var d=b[c];try{this.wrapperInitData[c]=f.OBSERVED_ERROR,this.wrapperInitData[c]=d.initialize?d.initialize.call(this):null}finally{if(this.wrapperInitData[c]===f.OBSERVED_ERROR)try{this.initializeAll(c+1)}catch(e){}}}},closeAll:function(a){d(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open.");for(var b=this.transactionWrappers,c=a;c<b.length;c++){var e,g=b[c],h=this.wrapperInitData[c];try{e=!0,h!==f.OBSERVED_ERROR&&g.close&&g.close.call(this,h),e=!1}finally{if(e)try{this.closeAll(c+1)}catch(i){}}}this.wrapperInitData.length=0}},f={Mixin:e,OBSERVED_ERROR:{}};b.exports=f},{150:150}],117:[function(a,b,c){"use strict";var d={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(a){d.currentScrollLeft=a.x,d.currentScrollTop=a.y}};b.exports=d},{}],118:[function(a,b,c){"use strict";function d(a,b){if(e(null!=b,"accumulateInto(...): Accumulated items must not be null or undefined."),null==a)return b;var c=Array.isArray(a),d=Array.isArray(b);return c&&d?(a.push.apply(a,b),a):c?(a.push(b),a):d?[a].concat(b):[a,b]}var e=a(150);b.exports=d},{150:150}],119:[function(a,b,c){"use strict";function d(a){for(var b=1,c=0,d=0;d<a.length;d++)b=(b+a.charCodeAt(d))%e,c=(c+b)%e;return b|c<<16}var e=65521;b.exports=d},{}],120:[function(a,b,c){function d(a){return a.replace(e,function(a,b){return b.toUpperCase()})}var e=/-(.)/g;b.exports=d},{}],121:[function(a,b,c){"use strict";function d(a){return e(a.replace(f,"ms-"))}var e=a(120),f=/^-ms-/;b.exports=d},{120:120}],122:[function(a,b,c){"use strict";function d(a,b){h(!a.ref,"You are calling cloneWithProps() on a child with a ref. This is dangerous because you're creating a new child which will not be added as a ref to its parent.");var c=f.mergeProps(b,a.props);return!c.hasOwnProperty(i)&&a.props.hasOwnProperty(i)&&(c.children=a.props.children),e.createElement(a.type,c)}var e=a(63),f=a(83),g=a(157),h=a(171),i=g({children:null});b.exports=d},{157:157,171:171,63:63,83:83}],123:[function(a,b,c){function d(a,b){return a&&b?a===b?!0:e(a)?!1:e(b)?d(a,b.parentNode):a.contains?a.contains(b):a.compareDocumentPosition?!!(16&a.compareDocumentPosition(b)):!1:!1}var e=a(154);b.exports=d},{154:154}],124:[function(a,b,c){function d(a){return!!a&&("object"==typeof a||"function"==typeof a)&&"length"in a&&!("setInterval"in a)&&"number"!=typeof a.nodeType&&(Array.isArray(a)||"callee"in a||"item"in a)}function e(a){return d(a)?Array.isArray(a)?a.slice():f(a):[a]}var f=a(168);b.exports=e},{168:168}],125:[function(a,b,c){"use strict";function d(a){var b=f.createFactory(a),c=e.createClass({tagName:a.toUpperCase(),displayName:"ReactFullPageComponent"+a,componentWillUnmount:function(){g(!1,"%s tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this.constructor.displayName)},render:function(){return b(this.props)}});return c}var e=a(38),f=a(63),g=a(150);b.exports=d},{150:150,38:38,63:63}],126:[function(a,b,c){function d(a){var b=a.match(k);return b&&b[1].toLowerCase()}function e(a,b){var c=j;i(!!j,"createNodesFromMarkup dummy not initialized");var e=d(a),f=e&&h(e);if(f){c.innerHTML=f[1]+a+f[2];for(var k=f[0];k--;)c=c.lastChild}else c.innerHTML=a;var l=c.getElementsByTagName("script");l.length&&(i(b,"createNodesFromMarkup(...): Unexpected <script> element rendered."),g(l).forEach(b));for(var m=g(c.childNodes);c.lastChild;)c.removeChild(c.lastChild);return m}var f=a(22),g=a(124),h=a(142),i=a(150),j=f.canUseDOM?document.createElement("div"):null,k=/^\s*<(\w+)/;b.exports=e},{124:124,142:142,150:150,22:22}],127:[function(a,b,c){"use strict";function d(a){return e(f,"React.addons.classSet will be deprecated in a future version. See http://fb.me/react-addons-classset"),f=!0,"object"==typeof a?Object.keys(a).filter(function(b){return a[b]}).join(" "):Array.prototype.join.call(arguments," ")}var e=a(171),f=!1;b.exports=d},{171:171}],128:[function(a,b,c){"use strict";function d(a,b){var c=null==b||"boolean"==typeof b||""===b;if(c)return"";var d=isNaN(b);return d||0===b||f.hasOwnProperty(a)&&f[a]?""+b:("string"==typeof b&&(b=b.trim()),b+"px")}var e=a(5),f=e.isUnitlessNumber;b.exports=d},{5:5}],129:[function(a,b,c){function d(a){return function(){return a}}function e(){}e.thatReturns=d,e.thatReturnsFalse=d(!1),e.thatReturnsTrue=d(!0),e.thatReturnsNull=d(null),e.thatReturnsThis=function(){return this},e.thatReturnsArgument=function(a){return a},b.exports=e},{}],130:[function(a,b,c){"use strict";var d={};Object.freeze(d),b.exports=d},{}],131:[function(a,b,c){"use strict";function d(a){return f[a]}function e(a){return(""+a).replace(g,d)}var f={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},g=/[&><"']/g;b.exports=e},{}],132:[function(a,b,c){"use strict";function d(a){var b=e.current;return null!==b&&(j(b._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",b.getName()||"A component"),b._warnedAboutRefsInRender=!0),null==a?null:i(a)?a:f.has(a)?g.getNodeFromInstance(a):(h(null==a.render||"function"!=typeof a.render,"Component (with keys: %s) contains `render` method but is not mounted in the DOM",Object.keys(a)),void h(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(a)))}var e=a(45),f=a(73),g=a(77),h=a(150),i=a(152),j=a(171);b.exports=d},{150:150,152:152,171:171,45:45,73:73,77:77}],133:[function(a,b,c){"use strict";function d(a,b,c){var d=a,e=!d.hasOwnProperty(c);g(e,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",c),e&&null!=b&&(d[c]=b)}function e(a){if(null==a)return a;var b={};return f(a,d,b),b}var f=a(169),g=a(171);b.exports=e},{169:169,171:171}],134:[function(a,b,c){"use strict";function d(a){try{a.focus()}catch(b){}}b.exports=d},{}],135:[function(a,b,c){"use strict";var d=function(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)};b.exports=d},{}],136:[function(a,b,c){function d(){try{return document.activeElement||document.body}catch(a){return document.body}}b.exports=d},{}],137:[function(a,b,c){"use strict";function d(a){var b,c=a.keyCode;return"charCode"in a?(b=a.charCode,0===b&&13===c&&(b=13)):b=c,b>=32||13===b?b:0}b.exports=d},{}],138:[function(a,b,c){"use strict";function d(a){if(a.key){var b=f[a.key]||a.key;if("Unidentified"!==b)return b}if("keypress"===a.type){var c=e(a);return 13===c?"Enter":String.fromCharCode(c)}return"keydown"===a.type||"keyup"===a.type?g[a.keyCode]||"Unidentified":""}var e=a(137),f={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};b.exports=d},{137:137}],139:[function(a,b,c){"use strict";function d(a){var b=this,c=b.nativeEvent;if(c.getModifierState)return c.getModifierState(a);var d=f[a];return d?!!c[d]:!1}function e(a){return d}var f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};b.exports=e},{}],140:[function(a,b,c){"use strict";function d(a){var b=a.target||a.srcElement||window;return 3===b.nodeType?b.parentNode:b}b.exports=d},{}],141:[function(a,b,c){"use strict";function d(a){var b=a&&(e&&a[e]||a[f]);return"function"==typeof b?b:void 0}var e="function"==typeof Symbol&&Symbol.iterator,f="@@iterator";b.exports=d},{}],142:[function(a,b,c){function d(a){return f(!!g,"Markup wrapping node not initialized"),m.hasOwnProperty(a)||(a="*"),h.hasOwnProperty(a)||("*"===a?g.innerHTML="<link />":g.innerHTML="<"+a+"></"+a+">",h[a]=!g.firstChild),h[a]?m[a]:null}var e=a(22),f=a(150),g=e.canUseDOM?document.createElement("div"):null,h={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},i=[1,'<select multiple="true">',"</select>"],j=[1,"<table>","</table>"],k=[3,"<table><tbody><tr>","</tr></tbody></table>"],l=[1,"<svg>","</svg>"],m={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:i,option:i,caption:j,colgroup:j,tbody:j,tfoot:j,thead:j,td:k,th:k,circle:l,clipPath:l,defs:l,ellipse:l,g:l,line:l,linearGradient:l,path:l,polygon:l,polyline:l,radialGradient:l,rect:l,stop:l,text:l};b.exports=d},{150:150,22:22}],143:[function(a,b,c){"use strict";function d(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function e(a){for(;a;){if(a.nextSibling)return a.nextSibling;a=a.parentNode}}function f(a,b){for(var c=d(a),f=0,g=0;c;){if(3===c.nodeType){if(g=f+c.textContent.length,b>=f&&g>=b)return{node:c,offset:b-f};f=g}c=d(e(c))}}b.exports=f},{}],144:[function(a,b,c){"use strict";function d(a){return a?a.nodeType===e?a.documentElement:a.firstChild:null}var e=9;b.exports=d},{}],145:[function(a,b,c){"use strict";function d(){return!f&&e.canUseDOM&&(f="textContent"in document.documentElement?"textContent":"innerText"),f}var e=a(22),f=null;b.exports=d},{22:22}],146:[function(a,b,c){"use strict";function d(a){return a===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:a.scrollLeft,y:a.scrollTop}}b.exports=d},{}],147:[function(a,b,c){function d(a){return a.replace(e,"-$1").toLowerCase()}var e=/([A-Z])/g;b.exports=d},{}],148:[function(a,b,c){"use strict";function d(a){return e(a).replace(f,"-ms-")}var e=a(147),f=/^ms-/;b.exports=d},{147:147}],149:[function(a,b,c){"use strict";function d(a){return"function"==typeof a&&"undefined"!=typeof a.prototype&&"function"==typeof a.prototype.mountComponent&&"function"==typeof a.prototype.receiveComponent}function e(a,b){var c;if((null===a||a===!1)&&(a=g.emptyElement),"object"==typeof a){var e=a;k(e&&("function"==typeof e.type||"string"==typeof e.type),"Only functions or strings can be mounted as React components."),c=b===e.type&&"string"==typeof e.type?h.createInternalComponent(e):d(e.type)?new e.type(e):new l}else"string"==typeof a||"number"==typeof a?c=h.createInstanceForText(a):j(!1,"Encountered invalid React node of type %s",typeof a);return k("function"==typeof c.construct&&"function"==typeof c.mountComponent&&"function"==typeof c.receiveComponent&&"function"==typeof c.unmountComponent,"Only React Components can be mounted."),c.construct(a),c._mountIndex=0,c._mountImage=null,c._isOwnerNecessary=!1,c._warnedAboutRefsInRender=!1,Object.preventExtensions&&Object.preventExtensions(c),c}var f=a(43),g=a(65),h=a(80),i=a(29),j=a(150),k=a(171),l=function(){};i(l.prototype,f.Mixin,{_instantiateReactComponent:e}),b.exports=e},{150:150,171:171,29:29,43:43,65:65,80:80}],150:[function(a,b,c){"use strict";var d=function(a,b,c,d,e,f,g,h){if(void 0===b)throw new Error("invariant requires an error message argument");if(!a){var i;if(void 0===b)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var j=[c,d,e,f,g,h],k=0;i=new Error("Invariant Violation: "+b.replace(/%s/g,function(){return j[k++]}))}throw i.framesToPop=1,i}};b.exports=d},{}],151:[function(a,b,c){"use strict";function d(a,b){if(!f.canUseDOM||b&&!("addEventListener"in document))return!1;var c="on"+a,d=c in document;if(!d){var g=document.createElement("div");g.setAttribute(c,"return;"),d="function"==typeof g[c]}return!d&&e&&"wheel"===a&&(d=document.implementation.hasFeature("Events.wheel","3.0")),d}var e,f=a(22);f.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),b.exports=d},{22:22}],152:[function(a,b,c){function d(a){return!(!a||!("function"==typeof Node?a instanceof Node:"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName))}b.exports=d},{}],153:[function(a,b,c){"use strict";function d(a){return a&&("INPUT"===a.nodeName&&e[a.type]||"TEXTAREA"===a.nodeName)}var e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};b.exports=d},{}],154:[function(a,b,c){function d(a){return e(a)&&3==a.nodeType}var e=a(152);b.exports=d},{152:152}],155:[function(a,b,c){"use strict";function d(a){a||(a="");var b,c=arguments.length;if(c>1)for(var d=1;c>d;d++)b=arguments[d],b&&(a=(a?a+" ":"")+b);return a}b.exports=d},{}],156:[function(a,b,c){"use strict";var d=a(150),e=function(a){var b,c={};d(a instanceof Object&&!Array.isArray(a),"keyMirror(...): Argument must be an object.");for(b in a)a.hasOwnProperty(b)&&(c[b]=b);return c};b.exports=e},{150:150}],157:[function(a,b,c){var d=function(a){var b;for(b in a)if(a.hasOwnProperty(b))return b;return null};b.exports=d},{}],158:[function(a,b,c){"use strict";function d(a,b,c){if(!a)return null;var d={};for(var f in a)e.call(a,f)&&(d[f]=b.call(c,a[f],f,a));return d}var e=Object.prototype.hasOwnProperty;b.exports=d},{}],159:[function(a,b,c){"use strict";function d(a){var b={};return function(c){return b.hasOwnProperty(c)||(b[c]=a.call(this,c)),b[c]}}b.exports=d},{}],160:[function(a,b,c){"use strict";function d(a){return f(e.isValidElement(a),"onlyChild must be passed a children with exactly one child."),a}var e=a(63),f=a(150);b.exports=d},{150:150,63:63}],161:[function(a,b,c){"use strict";var d,e=a(22);e.canUseDOM&&(d=window.performance||window.msPerformance||window.webkitPerformance),b.exports=d||{}},{22:22}],162:[function(a,b,c){var d=a(161);d&&d.now||(d=Date);var e=d.now.bind(d);b.exports=e},{161:161}],163:[function(a,b,c){"use strict";function d(a){return'"'+e(a)+'"'}var e=a(131);b.exports=d},{131:131}],164:[function(a,b,c){"use strict";var d=a(22),e=/^[ \r\n\t\f]/,f=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,g=function(a,b){a.innerHTML=b};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(g=function(a,b){MSApp.execUnsafeLocalFunction(function(){a.innerHTML=b})}),d.canUseDOM){var h=document.createElement("div");h.innerHTML=" ",""===h.innerHTML&&(g=function(a,b){if(a.parentNode&&a.parentNode.replaceChild(a,a),e.test(b)||"<"===b[0]&&f.test(b)){a.innerHTML="\ufeff"+b;var c=a.firstChild;1===c.data.length?a.removeChild(c):c.deleteData(0,1)}else a.innerHTML=b})}b.exports=g},{22:22}],165:[function(a,b,c){"use strict";var d=a(22),e=a(131),f=a(164),g=function(a,b){a.textContent=b};d.canUseDOM&&("textContent"in document.documentElement||(g=function(a,b){f(a,e(b))})),b.exports=g},{131:131,164:164,22:22}],166:[function(a,b,c){"use strict";function d(a,b){if(a===b)return!0;var c;for(c in a)if(a.hasOwnProperty(c)&&(!b.hasOwnProperty(c)||a[c]!==b[c]))return!1;for(c in b)if(b.hasOwnProperty(c)&&!a.hasOwnProperty(c))return!1;return!0}b.exports=d},{}],167:[function(a,b,c){"use strict";function d(a,b){if(null!=a&&null!=b){var c=typeof a,d=typeof b;if("string"===c||"number"===c)return"string"===d||"number"===d;if("object"===d&&a.type===b.type&&a.key===b.key){var f=a._owner===b._owner,g=null,h=null,i=null;return f||(null!=a._owner&&null!=a._owner.getPublicInstance()&&null!=a._owner.getPublicInstance().constructor&&(g=a._owner.getPublicInstance().constructor.displayName),null!=b._owner&&null!=b._owner.getPublicInstance()&&null!=b._owner.getPublicInstance().constructor&&(h=b._owner.getPublicInstance().constructor.displayName),null!=b.type&&null!=b.type.displayName&&(i=b.type.displayName),null!=b.type&&"string"==typeof b.type&&(i=b.type),("string"!=typeof b.type||"input"===b.type||"textarea"===b.type)&&(null!=a._owner&&a._owner._isOwnerNecessary===!1||null!=b._owner&&b._owner._isOwnerNecessary===!1)&&(null!=a._owner&&(a._owner._isOwnerNecessary=!0),null!=b._owner&&(b._owner._isOwnerNecessary=!0),e(!1,"<%s /> is being rendered by both %s and %s using the same key (%s) in the same place. Currently, this means that they don't preserve state. This behavior should be very rare so we're considering deprecating it. Please contact the React team and explain your use case so that we can take that into consideration.",i||"Unknown Component",g||"[Unknown]",h||"[Unknown]",a.key))),f}}return!1}var e=a(171);b.exports=d},{171:171}],168:[function(a,b,c){function d(a){var b=a.length;if(e(!Array.isArray(a)&&("object"==typeof a||"function"==typeof a),"toArray: Array-like object expected"),e("number"==typeof b,"toArray: Object needs a length property"),
e(0===b||b-1 in a,"toArray: Object should have keys for indices"),a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(c){}for(var d=Array(b),f=0;b>f;f++)d[f]=a[f];return d}var e=a(150);b.exports=d},{150:150}],169:[function(a,b,c){"use strict";function d(a){return r[a]}function e(a,b){return a&&null!=a.key?g(a.key):b.toString(36)}function f(a){return(""+a).replace(s,d)}function g(a){return"$"+f(a)}function h(a,b,c,d,f){var i=typeof a;if(("undefined"===i||"boolean"===i)&&(a=null),null===a||"string"===i||"number"===i||j.isValidElement(a))return d(f,a,""===b?p+e(a,0):b,c),1;var l,r,s,u=0;if(Array.isArray(a))for(var v=0;v<a.length;v++)l=a[v],r=(""!==b?b+q:p)+e(l,v),s=c+u,u+=h(l,r,s,d,f);else{var w=m(a);if(w){var x,y=w.call(a);if(w!==a.entries)for(var z=0;!(x=y.next()).done;)l=x.value,r=(""!==b?b+q:p)+e(l,z++),s=c+u,u+=h(l,r,s,d,f);else for(o(t,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."),t=!0;!(x=y.next()).done;){var A=x.value;A&&(l=A[1],r=(""!==b?b+q:p)+g(A[0])+q+e(l,0),s=c+u,u+=h(l,r,s,d,f))}}else if("object"===i){n(1!==a.nodeType,"traverseAllChildren(...): Encountered an invalid child; DOM elements are not valid children of React components.");var B=k.extract(a);for(var C in B)B.hasOwnProperty(C)&&(l=B[C],r=(""!==b?b+q:p)+g(C)+q+e(l,0),s=c+u,u+=h(l,r,s,d,f))}}return u}function i(a,b,c){return null==a?0:h(a,"",0,b,c)}var j=a(63),k=a(69),l=a(72),m=a(141),n=a(150),o=a(171),p=l.SEPARATOR,q=":",r={"=":"=0",".":"=1",":":"=2"},s=/[=.:]/g,t=!1;b.exports=i},{141:141,150:150,171:171,63:63,69:69,72:72}],170:[function(a,b,c){"use strict";function d(a){return Array.isArray(a)?a.concat():a&&"object"==typeof a?g(new a.constructor,a):a}function e(a,b,c){i(Array.isArray(a),"update(): expected target of %s to be an array; got %s.",c,a);var d=b[c];i(Array.isArray(d),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",c,d)}function f(a,b){if(i("object"==typeof b,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",q.join(", "),n),j.call(b,n))return i(1===Object.keys(b).length,"Cannot have more than one key in an object with %s",n),b[n];var c=d(a);if(j.call(b,o)){var h=b[o];i(h&&"object"==typeof h,"update(): %s expects a spec of type 'object'; got %s",o,h),i(c&&"object"==typeof c,"update(): %s expects a target of type 'object'; got %s",o,c),g(c,b[o])}j.call(b,k)&&(e(a,b,k),b[k].forEach(function(a){c.push(a)})),j.call(b,l)&&(e(a,b,l),b[l].forEach(function(a){c.unshift(a)})),j.call(b,m)&&(i(Array.isArray(a),"Expected %s target to be an array; got %s",m,a),i(Array.isArray(b[m]),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",m,b[m]),b[m].forEach(function(a){i(Array.isArray(a),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",m,b[m]),c.splice.apply(c,a)})),j.call(b,p)&&(i("function"==typeof b[p],"update(): expected spec of %s to be a function; got %s.",p,b[p]),c=b[p](c));for(var s in b)r.hasOwnProperty(s)&&r[s]||(c[s]=f(a[s],b[s]));return c}var g=a(29),h=a(157),i=a(150),j={}.hasOwnProperty,k=h({$push:null}),l=h({$unshift:null}),m=h({$splice:null}),n=h({$set:null}),o=h({$merge:null}),p=h({$apply:null}),q=[k,l,m,n,o,p],r={};q.forEach(function(a){r[a]=!0}),b.exports=f},{150:150,157:157,29:29}],171:[function(a,b,c){"use strict";var d=a(129),e=d;e=function(a,b){for(var c=[],d=2,e=arguments.length;e>d;d++)c.push(arguments[d]);if(void 0===b)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(b.length<10||/^[s\W]*$/.test(b))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+b);if(0!==b.indexOf("Failed Composite propType: ")&&!a){var f=0,g="Warning: "+b.replace(/%s/g,function(){return c[f++]});console.warn(g);try{throw new Error(g)}catch(h){}}},b.exports=e},{129:129}]},{},[1])(1)}),function(a,b){function c(a){var b=a.length,c=fa.type(a);return fa.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a){var b=oa[a]={};return fa.each(a.match(ha)||[],function(a,c){b[c]=!0}),b}function e(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=fa.expando+Math.random()}function f(a,c,d){var e;if(d===b&&1===a.nodeType)if(e="data-"+c.replace(sa,"-$1").toLowerCase(),d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:ra.test(d)?JSON.parse(d):d}catch(f){}pa.set(a,c,d)}else d=b;return d}function g(){return!0}function h(){return!1}function i(){try{return T.activeElement}catch(a){}}function j(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function k(a,b,c){if(fa.isFunction(b))return fa.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return fa.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(Ca.test(b))return fa.filter(b,a,c);b=fa.filter(b,a)}return fa.grep(a,function(a){return ba.call(b,a)>=0!==c})}function l(a,b){return fa.nodeName(a,"table")&&fa.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function m(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function n(a){var b=Na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function o(a,b){for(var c=a.length,d=0;c>d;d++)qa.set(a[d],"globalEval",!b||qa.get(b[d],"globalEval"))}function p(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(qa.hasData(a)&&(f=qa.access(a),g=qa.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)fa.event.add(b,e,j[e][c])}pa.hasData(a)&&(h=pa.access(a),i=fa.extend({},h),pa.set(b,i))}}function q(a,c){var d=a.getElementsByTagName?a.getElementsByTagName(c||"*"):a.querySelectorAll?a.querySelectorAll(c||"*"):[];return c===b||c&&fa.nodeName(a,c)?fa.merge([a],d):d}function r(a,b){var c=b.nodeName.toLowerCase();"input"===c&&Ka.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function s(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=_a.length;e--;)if(b=_a[e]+c,b in a)return b;return d}function t(a,b){return a=b||a,"none"===fa.css(a,"display")||!fa.contains(a.ownerDocument,a)}function u(b){return a.getComputedStyle(b,null)}function v(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=qa.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&t(d)&&(f[g]=qa.access(d,"olddisplay",z(d.nodeName)))):f[g]||(e=t(d),(c&&"none"!==c||!e)&&qa.set(d,"olddisplay",e?c:fa.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function w(a,b,c){var d=Ua.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function x(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=fa.css(a,c+$a[f],!0,e)),d?("content"===c&&(g-=fa.css(a,"padding"+$a[f],!0,e)),"margin"!==c&&(g-=fa.css(a,"border"+$a[f]+"Width",!0,e))):(g+=fa.css(a,"padding"+$a[f],!0,e),"padding"!==c&&(g+=fa.css(a,"border"+$a[f]+"Width",!0,e)));return g}function y(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=u(a),g=fa.support.boxSizing&&"border-box"===fa.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Qa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Va.test(e))return e;d=g&&(fa.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+x(a,b,c||(g?"border":"content"),d,f)+"px"}function z(a){var b=T,c=Xa[a];return c||(c=A(a,b),"none"!==c&&c||(Ra=(Ra||fa("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(Ra[0].contentWindow||Ra[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=A(a,b),Ra.detach()),Xa[a]=c),c}function A(a,b){var c=fa(b.createElement(a)).appendTo(b.body),d=fa.css(c[0],"display");return c.remove(),d}function B(a,b,c,d){var e;if(fa.isArray(b))fa.each(b,function(b,e){c||bb.test(a)?d(a,e):B(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==fa.type(b))d(a,b);else for(e in b)B(a+"["+e+"]",b[e],c,d)}function C(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ha)||[];if(fa.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function D(a,b,c,d){function e(h){var i;return f[h]=!0,fa.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===sb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function E(a,c){var d,e,f=fa.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);return e&&fa.extend(!0,a,e),a}function F(a,c,d){for(var e,f,g,h,i=a.contents,j=a.dataTypes;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("Content-Type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function G(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function H(){return setTimeout(function(){Bb=b}),Bb=fa.now()}function I(a,b,c){for(var d,e=(Hb[b]||[]).concat(Hb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function J(a,b,c){var d,e,f=0,g=Gb.length,h=fa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Bb||H(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:fa.extend({},b),opts:fa.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Bb||H(),duration:c.duration,tweens:[],createTween:function(b,c){var d=fa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(K(k,j.opts.specialEasing);g>f;f++)if(d=Gb[f].call(j,a,k,j.opts))return d;return fa.map(k,I,j),fa.isFunction(j.opts.start)&&j.opts.start.call(a,j),fa.fx.timer(fa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function K(a,b){var c,d,e,f,g;for(c in a)if(d=fa.camelCase(c),e=b[d],f=a[c],fa.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=fa.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function L(a,c,d){var e,f,g,h,i,j,k=this,l={},m=a.style,n=a.nodeType&&t(a),o=qa.get(a,"fxshow");d.queue||(i=fa._queueHooks(a,"fx"),null==i.unqueued&&(i.unqueued=0,j=i.empty.fire,i.empty.fire=function(){i.unqueued||j()}),i.unqueued++,k.always(function(){k.always(function(){i.unqueued--,fa.queue(a,"fx").length||i.empty.fire()})})),1===a.nodeType&&("height"in c||"width"in c)&&(d.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===fa.css(a,"display")&&"none"===fa.css(a,"float")&&(m.display="inline-block")),d.overflow&&(m.overflow="hidden",k.always(function(){m.overflow=d.overflow[0],m.overflowX=d.overflow[1],m.overflowY=d.overflow[2]}));for(e in c)if(f=c[e],Db.exec(f)){if(delete c[e],g=g||"toggle"===f,f===(n?"hide":"show")){if("show"!==f||!o||o[e]===b)continue;n=!0}l[e]=o&&o[e]||fa.style(a,e)}if(!fa.isEmptyObject(l)){o?"hidden"in o&&(n=o.hidden):o=qa.access(a,"fxshow",{}),g&&(o.hidden=!n),n?fa(a).show():k.done(function(){fa(a).hide()}),k.done(function(){var b;qa.remove(a,"fxshow");for(b in l)fa.style(a,b,l[b])});for(e in l)h=I(n?o[e]:0,e,k),e in o||(o[e]=h.start,n&&(h.end=h.start,h.start="width"===e||"height"===e?1:0))}}function M(a,b,c,d,e){return new M.prototype.init(a,b,c,d,e)}function N(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=$a[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function O(a){return fa.isWindow(a)?a:9===a.nodeType&&a.defaultView}var P,Q,R=typeof b,S=a.location,T=a.document,U=T.documentElement,V=a.jQuery,W=a.$,X={},Y=[],Z="2.0.3",$=Y.concat,_=Y.push,aa=Y.slice,ba=Y.indexOf,ca=X.toString,da=X.hasOwnProperty,ea=Z.trim,fa=function(a,b){return new fa.fn.init(a,b,P)},ga=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ha=/\S+/g,ia=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ja=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ka=/^-ms-/,la=/-([\da-z])/gi,ma=function(a,b){return b.toUpperCase()},na=function(){T.removeEventListener("DOMContentLoaded",na,!1),a.removeEventListener("load",na,!1),fa.ready()};fa.fn=fa.prototype={jquery:Z,constructor:fa,init:function(a,c,d){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:ia.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1]){if(c=c instanceof fa?c[0]:c,fa.merge(this,fa.parseHTML(e[1],c&&c.nodeType?c.ownerDocument||c:T,!0)),ja.test(e[1])&&fa.isPlainObject(c))for(e in c)fa.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}return f=T.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=T,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):fa.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),fa.makeArray(a,this))},selector:"",length:0,toArray:function(){return aa.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){var b=fa.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return fa.each(this,a,b)},ready:function(a){return fa.ready.promise().done(a),this},slice:function(){return this.pushStack(aa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},map:function(a){return this.pushStack(fa.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:_,sort:[].sort,splice:[].splice},fa.fn.init.prototype=fa.fn,fa.extend=fa.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||fa.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(k&&e&&(fa.isPlainObject(e)||(f=fa.isArray(e)))?(f?(f=!1,g=d&&fa.isArray(d)?d:[]):g=d&&fa.isPlainObject(d)?d:{},h[c]=fa.extend(k,g,e)):e!==b&&(h[c]=e));return h},fa.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),noConflict:function(b){return a.$===fa&&(a.$=W),b&&a.jQuery===fa&&(a.jQuery=V),fa},isReady:!1,readyWait:1,holdReady:function(a){a?fa.readyWait++:fa.ready(!0)},ready:function(a){(a===!0?--fa.readyWait:fa.isReady)||(fa.isReady=!0,a!==!0&&--fa.readyWait>0||(Q.resolveWith(T,[fa]),fa.fn.trigger&&fa(T).trigger("ready").off("ready")))},isFunction:function(a){return"function"===fa.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"==typeof a||"function"==typeof a?X[ca.call(a)]||"object":typeof a},isPlainObject:function(a){if("object"!==fa.type(a)||a.nodeType||fa.isWindow(a))return!1;try{if(a.constructor&&!da.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}return!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||T;var d=ja.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=fa.buildFragment([a],b,e),e&&fa(e).remove(),fa.merge([],d.childNodes))},parseJSON:JSON.parse,parseXML:function(a){var c,d;if(!a||"string"!=typeof a)return null;try{d=new DOMParser,c=d.parseFromString(a,"text/xml")}catch(e){c=b}return(!c||c.getElementsByTagName("parsererror").length)&&fa.error("Invalid XML: "+a),c},noop:function(){},globalEval:function(a){var b,c=eval;a=fa.trim(a),a&&(1===a.indexOf("use strict")?(b=T.createElement("script"),b.text=a,T.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ka,"ms-").replace(la,ma)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":ea.call(a)},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?fa.merge(d,"string"==typeof a?[a]:a):_.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:ba.call(b,a,c)},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&(i[i.length]=e);else for(f in a)e=b(a[f],f,d),null!=e&&(i[i.length]=e);return $.apply([],i)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(d=a[c],c=a,a=d),fa.isFunction(a)?(e=aa.call(arguments,2),f=function(){return a.apply(c||this,e.concat(aa.call(arguments)))},f.guid=a.guid=a.guid||fa.guid++,f):b},access:function(a,c,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===fa.type(d)){f=!0;for(i in d)fa.access(a,c,i,d[i],!0,g,h)}else if(e!==b&&(f=!0,fa.isFunction(e)||(h=!0),k&&(h?(c.call(a,e),c=null):(k=c,c=function(a,b,c){return k.call(fa(a),c)})),c))for(;j>i;i++)c(a[i],d,h?e:e.call(a[i],i,c(a[i],d)));return f?a:k?c.call(a):j?c(a[0],d):g},now:Date.now,swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),fa.ready.promise=function(b){return Q||(Q=fa.Deferred(),"complete"===T.readyState?setTimeout(fa.ready):(T.addEventListener("DOMContentLoaded",na,!1),a.addEventListener("load",na,!1))),Q.promise(b)},fa.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){X["[object "+b+"]"]=b.toLowerCase()}),P=fa(T),function(a,b){function c(a,b,c,d){var e,f,g,h,i,j,k,l,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=ta.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return aa.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return aa.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(l=k=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(k=b.getAttribute("id"))?l=k.replace(wa,"\\$&"):b.setAttribute("id",l),l="[id='"+l+"'] ",i=j.length;i--;)j[i]=l+n(j[i]);o=na.test(a)&&b.parentNode||b,p=j.join(",")}if(p)try{return aa.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{k||b.removeAttribute("id")}}}return v(a.replace(ka,"$1"),b,c,d)}function d(){function a(c,d){return b.push(c+=" ")>z.cacheLength&&delete a[b.shift()],a[c]=d}var b=[];return a}function e(a){return a[N]=!0,a}function f(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function g(a,b){for(var c=a.split("|"),d=a.length;d--;)z.attrHandle[c[d]]=b}function h(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||X)-(~a.sourceIndex||X);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function i(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function j(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){return b=+b,e(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(){}function m(a,b){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=z.preFilter;h;){(!d||(e=la.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ma.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ka," ")}),h=h.slice(d.length));for(g in z.filter)!(e=ra[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return b?h.length:h?c.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=P+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[N]||(b[N]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===y)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||y,i[1]===!0)return!0}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,d,f,g){return d&&!d[N]&&(d=r(d)),f&&!f[N]&&(f=r(f,g)),e(function(e,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=e||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!e&&b?p:q(p,m,a,h,i),s=c?f||(e?a:o||d)?[]:g:r;if(c&&c(r,s,h,i),d)for(j=q(s,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(e){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?ca.call(e,l):m[k])>-1&&(e[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):aa.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=z.relative[a[0].type],g=f||z.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return ca.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=z.relative[a[h].type])k=[o(p(k),c)];else{if(c=z.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!z.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ka,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function t(a,b){var d=0,f=b.length>0,g=a.length>0,h=function(e,h,i,j,k){var l,m,n,o=[],p=0,r="0",s=e&&[],t=null!=k,u=D,v=e||g&&z.find.TAG("*",k&&h.parentNode||h),w=P+=null==u?1:Math.random()||.1;for(t&&(D=h!==G&&h,y=d);null!=(l=v[r]);r++){if(g&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}t&&(P=w,y=++d)}f&&((l=!n&&l)&&p--,e&&s.push(l))}if(p+=r,f&&r!==p){for(m=0;n=b[m++];)n(s,o,h,i);if(e){if(p>0)for(;r--;)s[r]||o[r]||(o[r]=$.call(j));o=q(o)}aa.apply(j,o),t&&!e&&o.length>0&&p+b.length>1&&c.uniqueSort(j)}return t&&(P=w,D=u),s};return f?e(h):h}function u(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&z.relative[f[1].type]){if(b=(z.find.ID(g.matches[0].replace(xa,ya),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=ra.needsContext.test(a)?0:f.length;e--&&(g=f[e],!z.relative[h=g.type]);)if((i=z.find[h])&&(d=i(g.matches[0].replace(xa,ya),na.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return aa.apply(c,d),c;break}}return C(a,j)(d,b,!I,c,na.test(a)),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=d(),S=d(),T=d(),U=!1,V=function(a,b){return a===b?(U=!0,0):0},W=typeof b,X=1<<31,Y={}.hasOwnProperty,Z=[],$=Z.pop,_=Z.push,aa=Z.push,ba=Z.slice,ca=Z.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},da="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ea="[\\x20\\t\\r\\n\\f]",ga="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ha=ga.replace("w","w#"),ia="\\["+ea+"*("+ga+")"+ea+"*(?:([*^$|!~]?=)"+ea+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ha+")|)|)"+ea+"*\\]",ja=":("+ga+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ia.replace(3,8)+")*)|.*)\\)|)",ka=new RegExp("^"+ea+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ea+"+$","g"),la=new RegExp("^"+ea+"*,"+ea+"*"),ma=new RegExp("^"+ea+"*([>+~]|"+ea+")"+ea+"*"),na=new RegExp(ea+"*[+~]"),oa=new RegExp("="+ea+"*([^\\]'\"]*)"+ea+"*\\]","g"),pa=new RegExp(ja),qa=new RegExp("^"+ha+"$"),ra={ID:new RegExp("^#("+ga+")"),CLASS:new RegExp("^\\.("+ga+")"),TAG:new RegExp("^("+ga.replace("w","w*")+")"),ATTR:new RegExp("^"+ia),PSEUDO:new RegExp("^"+ja),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ea+"*(even|odd|(([+-]|)(\\d*)n|)"+ea+"*(?:([+-]|)"+ea+"*(\\d+)|))"+ea+"*\\)|)","i"),bool:new RegExp("^(?:"+da+")$","i"),needsContext:new RegExp("^"+ea+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ea+"*((?:-\\d)?\\d*)"+ea+"*\\)|)(?=[^-]|$)","i")},sa=/^[^{]+\{\s*\[native \w/,ta=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ua=/^(?:input|select|textarea|button)$/i,va=/^h\d$/i,wa=/'|\\/g,xa=new RegExp("\\\\([\\da-f]{1,6}"+ea+"?|("+ea+")|.)","ig"),ya=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{aa.apply(Z=ba.call(O.childNodes),O.childNodes),Z[O.childNodes.length].nodeType}catch(za){aa={apply:Z.length?function(a,b){_.apply(a,ba.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}B=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},x=c.support={},F=c.setDocument=function(a){var b=a?a.ownerDocument||a:O,c=b.defaultView;return b!==G&&9===b.nodeType&&b.documentElement?(G=b,H=b.documentElement,I=!B(b),c&&c.attachEvent&&c!==c.top&&c.attachEvent("onbeforeunload",function(){F()}),x.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=f(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=f(function(a){return H.appendChild(a).id=N,!b.getElementsByName||!b.getElementsByName(N).length}),x.getById?(z.find.ID=function(a,b){if(typeof b.getElementById!==W&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},z.filter.ID=function(a){var b=a.replace(xa,ya);return function(a){return a.getAttribute("id")===b}}):(delete z.find.ID,z.filter.ID=function(a){var b=a.replace(xa,ya);return function(a){var c=typeof a.getAttributeNode!==W&&a.getAttributeNode("id");return c&&c.value===b}}),z.find.TAG=x.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==W?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},z.find.CLASS=x.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==W&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(x.qsa=sa.test(b.querySelectorAll))&&(f(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||J.push("\\["+ea+"*(?:value|"+da+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),f(function(a){var c=b.createElement("input");c.setAttribute("type","hidden"),a.appendChild(c).setAttribute("t",""),a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+ea+"*(?:''|\"\")"),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=sa.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&f(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ja)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),M=sa.test(H.contains)||H.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=H.compareDocumentPosition?function(a,c){if(a===c)return U=!0,0;var d=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return d?1&d||!x.sortDetached&&c.compareDocumentPosition(a)===d?a===b||M(O,a)?-1:c===b||M(O,c)?1:E?ca.call(E,a)-ca.call(E,c):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,c){var d,e=0,f=a.parentNode,g=c.parentNode,i=[a],j=[c];if(a===c)return U=!0,0;if(!f||!g)return a===b?-1:c===b?1:f?-1:g?1:E?ca.call(E,a)-ca.call(E,c):0;if(f===g)return h(a,c);for(d=a;d=d.parentNode;)i.unshift(d);for(d=c;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?h(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},b):G},c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){if((a.ownerDocument||a)!==G&&F(a),b=b.replace(oa,"='$1']"),x.matchesSelector&&I&&(!K||!K.test(b))&&(!J||!J.test(b)))try{var d=L.call(a,b);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return c(b,G,null,[a]).length>0},c.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},c.attr=function(a,c){(a.ownerDocument||a)!==G&&F(a);var d=z.attrHandle[c.toLowerCase()],e=d&&Y.call(z.attrHandle,c.toLowerCase())?d(a,c,!I):b;return e===b?x.attributes||!I?a.getAttribute(c):(e=a.getAttributeNode(c))&&e.specified?e.value:null:e},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},c.uniqueSort=function(a){var b,c=[],d=0,e=0;if(U=!x.detectDuplicates,E=!x.sortStable&&a.slice(0),a.sort(V),U){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a},A=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=A(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=A(b);return c},z=c.selectors={cacheLength:50,createPseudo:e,match:ra,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(xa,ya),a[3]=(a[4]||a[5]||"").replace(xa,ya),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var c,d=!a[5]&&a[2];return ra.CHILD.test(a[0])?null:(a[3]&&a[4]!==b?a[2]=a[4]:d&&pa.test(d)&&(c=m(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(a[0]=a[0].slice(0,c),
a[2]=d.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(xa,ya).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ea+")"+a+"("+ea+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==W&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:b?(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.slice(-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var d,f=z.pseudos[a]||z.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[N]?f(b):f.length>1?(d=[a,a,"",b],z.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var d,e=f(a,b),g=e.length;g--;)d=ca.call(a,e[g]),a[d]=!(c[d]=e[g])}):function(a){return f(a,0,d)}):f}},pseudos:{not:e(function(a){var b=[],c=[],d=C(a.replace(ka,"$1"));return d[N]?e(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:e(function(a){return function(b){return c(a,b).length>0}}),contains:e(function(a){return function(b){return(b.textContent||b.innerText||A(b)).indexOf(a)>-1}}),lang:e(function(a){return qa.test(a||"")||c.error("unsupported lang: "+a),a=a.replace(xa,ya).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!z.pseudos.empty(a)},header:function(a){return va.test(a.nodeName)},input:function(a){return ua.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},z.pseudos.nth=z.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[w]=i(w);for(w in{submit:!0,reset:!0})z.pseudos[w]=j(w);l.prototype=z.filters=z.pseudos,z.setFilters=new l,C=c.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(V).join("")===N,x.detectDuplicates=U,F(),x.sortDetached=f(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),x.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||g("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||g(da,function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&d.specified?d.value:a[b]===!0?b.toLowerCase():null}),fa.find=c,fa.expr=c.selectors,fa.expr[":"]=fa.expr.pseudos,fa.unique=c.uniqueSort,fa.text=c.getText,fa.isXMLDoc=c.isXML,fa.contains=c.contains}(a);var oa={};fa.Callbacks=function(a){a="string"==typeof a?oa[a]||d(a):fa.extend({},a);var c,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(c=a.memory&&b,e=!0,i=g||0,g=0,h=j.length,f=!0;j&&h>i;i++)if(j[i].apply(b[0],b[1])===!1&&a.stopOnFalse){c=!1;break}f=!1,j&&(k?k.length&&l(k.shift()):c?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function d(b){fa.each(b,function(b,c){var e=fa.type(c);"function"===e?a.unique&&m.has(c)||j.push(c):c&&c.length&&"string"!==e&&d(c)})}(arguments),f?h=j.length:c&&(g=b,l(c))}return this},remove:function(){return j&&fa.each(arguments,function(a,b){for(var c;(c=fa.inArray(b,j,c))>-1;)j.splice(c,1),f&&(h>=c&&h--,i>=c&&i--)}),this},has:function(a){return a?fa.inArray(a,j)>-1:!(!j||!j.length)},empty:function(){return j=[],h=0,this},disable:function(){return j=k=c=b,this},disabled:function(){return!j},lock:function(){return k=b,c||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return!j||e&&!k||(b=b||[],b=[a,b.slice?b.slice():b],f?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!e}};return m},fa.extend({Deferred:function(a){var b=[["resolve","done",fa.Callbacks("once memory"),"resolved"],["reject","fail",fa.Callbacks("once memory"),"rejected"],["notify","progress",fa.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return fa.Deferred(function(c){fa.each(b,function(b,f){var g=f[0],h=fa.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&fa.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?fa.extend(a,d):d}},e={};return d.pipe=d.then,fa.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=aa.call(arguments),g=f.length,h=1!==g||a&&fa.isFunction(a.promise)?g:0,i=1===h?a:fa.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?aa.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&fa.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),fa.support=function(b){var c=T.createElement("input"),d=T.createDocumentFragment(),e=T.createElement("div"),f=T.createElement("select"),g=f.appendChild(T.createElement("option"));return c.type?(c.type="checkbox",b.checkOn=""!==c.value,b.optSelected=g.selected,b.reliableMarginRight=!0,b.boxSizingReliable=!0,b.pixelPosition=!1,c.checked=!0,b.noCloneChecked=c.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!g.disabled,c=T.createElement("input"),c.value="t",c.type="radio",b.radioValue="t"===c.value,c.setAttribute("checked","t"),c.setAttribute("name","t"),d.appendChild(c),b.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,b.focusinBubbles="onfocusin"in a,e.style.backgroundClip="content-box",e.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===e.style.backgroundClip,fa(function(){var c,d,f="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",g=T.getElementsByTagName("body")[0];g&&(c=T.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(e),e.innerHTML="",e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",fa.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){b.boxSizing=4===e.offsetWidth}),a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(e,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(e,null)||{width:"4px"}).width,d=e.appendChild(T.createElement("div")),d.style.cssText=e.style.cssText=f,d.style.marginRight=d.style.width="0",e.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),g.removeChild(c))}),b):b}({});var pa,qa,ra=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,sa=/([A-Z])/g;e.uid=1,e.accepts=function(a){return a.nodeType?1===a.nodeType||9===a.nodeType:!0},e.prototype={key:function(a){if(!e.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=e.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,fa.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(fa.isEmptyObject(f))fa.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,c){var d=this.cache[this.key(a)];return c===b?d:d[c]},access:function(a,c,d){var e;return c===b||c&&"string"==typeof c&&d===b?(e=this.get(a,c),e!==b?e:this.get(a,fa.camelCase(c))):(this.set(a,c,d),d!==b?d:c)},remove:function(a,c){var d,e,f,g=this.key(a),h=this.cache[g];if(c===b)this.cache[g]={};else{fa.isArray(c)?e=c.concat(c.map(fa.camelCase)):(f=fa.camelCase(c),c in h?e=[c,f]:(e=f,e=e in h?[e]:e.match(ha)||[])),d=e.length;for(;d--;)delete h[e[d]]}},hasData:function(a){return!fa.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}},pa=new e,qa=new e,fa.extend({acceptData:e.accepts,hasData:function(a){return pa.hasData(a)||qa.hasData(a)},data:function(a,b,c){return pa.access(a,b,c)},removeData:function(a,b){pa.remove(a,b)},_data:function(a,b,c){return qa.access(a,b,c)},_removeData:function(a,b){qa.remove(a,b)}}),fa.fn.extend({data:function(a,c){var d,e,g=this[0],h=0,i=null;if(a===b){if(this.length&&(i=pa.get(g),1===g.nodeType&&!qa.get(g,"hasDataAttrs"))){for(d=g.attributes;h<d.length;h++)e=d[h].name,0===e.indexOf("data-")&&(e=fa.camelCase(e.slice(5)),f(g,e,i[e]));qa.set(g,"hasDataAttrs",!0)}return i}return"object"==typeof a?this.each(function(){pa.set(this,a)}):fa.access(this,function(c){var d,e=fa.camelCase(a);if(g&&c===b){if(d=pa.get(g,a),d!==b)return d;if(d=pa.get(g,e),d!==b)return d;if(d=f(g,e,b),d!==b)return d}else this.each(function(){var d=pa.get(this,e);pa.set(this,e,c),-1!==a.indexOf("-")&&d!==b&&pa.set(this,a,c)})},null,c,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){pa.remove(this,a)})}}),fa.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=qa.get(a,b),c&&(!d||fa.isArray(c)?d=qa.access(a,b,fa.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=fa.queue(a,b),d=c.length,e=c.shift(),f=fa._queueHooks(a,b),g=function(){fa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return qa.get(a,c)||qa.access(a,c,{empty:fa.Callbacks("once memory").add(function(){qa.remove(a,[b+"queue",c])})})}}),fa.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?fa.queue(this[0],a):c===b?this:this.each(function(){var b=fa.queue(this,a,c);fa._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&fa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){fa.dequeue(this,a)})},delay:function(a,b){return a=fa.fx?fa.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=fa.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=qa.get(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var ta,ua,va=/[\t\r\n\f]/g,wa=/\r/g,xa=/^(?:input|select|textarea|button)$/i;fa.fn.extend({attr:function(a,b){return fa.access(this,fa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){fa.removeAttr(this,a)})},prop:function(a,b){return fa.access(this,fa.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[fa.propFix[a]||a]})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(fa.isFunction(a))return this.each(function(b){fa(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ha)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(va," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");c.className=fa.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(fa.isFunction(a))return this.each(function(b){fa(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ha)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(va," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?fa.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):fa.isFunction(a)?this.each(function(c){fa(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=fa(this),f=a.match(ha)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===R||"boolean"===c)&&(this.className&&qa.set(this,"__className__",this.className),this.className=this.className||a===!1?"":qa.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(va," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=fa.isFunction(a),this.each(function(d){var f;1===this.nodeType&&(f=e?a.call(this,d,fa(this).val()):a,null==f?f="":"number"==typeof f?f+="":fa.isArray(f)&&(f=fa.map(f,function(a){return null==a?"":a+""})),c=fa.valHooks[this.type]||fa.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))});if(f)return c=fa.valHooks[f.type]||fa.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(wa,""):null==d?"":d)}}}),fa.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(fa.support.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!fa.nodeName(c.parentNode,"optgroup"))){if(b=fa(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=fa.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=fa.inArray(fa(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}},attr:function(a,c,d){var e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return typeof a.getAttribute===R?fa.prop(a,c,d):(1===g&&fa.isXMLDoc(a)||(c=c.toLowerCase(),e=fa.attrHooks[c]||(fa.expr.match.bool.test(c)?ua:ta)),d===b?e&&"get"in e&&null!==(f=e.get(a,c))?f:(f=fa.find.attr(a,c),null==f?b:f):null!==d?e&&"set"in e&&(f=e.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):void fa.removeAttr(a,c))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ha);if(f&&1===a.nodeType)for(;c=f[e++];)d=fa.propFix[c]||c,fa.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!fa.support.radioValue&&"radio"===b&&fa.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!fa.isXMLDoc(a),g&&(c=fa.propFix[c]||c,f=fa.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||xa.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),ua={set:function(a,b,c){return b===!1?fa.removeAttr(a,c):a.setAttribute(c,c),c}},fa.each(fa.expr.match.bool.source.match(/\w+/g),function(a,c){var d=fa.expr.attrHandle[c]||fa.find.attr;fa.expr.attrHandle[c]=function(a,c,e){var f=fa.expr.attrHandle[c],g=e?b:(fa.expr.attrHandle[c]=b)!=d(a,c,e)?c.toLowerCase():null;return fa.expr.attrHandle[c]=f,g}}),fa.support.optSelected||(fa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),fa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fa.propFix[this.toLowerCase()]=this}),fa.each(["radio","checkbox"],function(){fa.valHooks[this]={set:function(a,b){return fa.isArray(b)?a.checked=fa.inArray(fa(a).val(),b)>=0:void 0}},fa.support.checkOn||(fa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ya=/^key/,za=/^(?:mouse|contextmenu)|click/,Aa=/^(?:focusinfocus|focusoutblur)$/,Ba=/^([^.]*)(?:\.(.+)|)$/;fa.event={global:{},add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=qa.get(a);if(r){for(d.handler&&(g=d,d=g.handler,f=g.selector),d.guid||(d.guid=fa.guid++),(j=r.events)||(j=r.events={}),(h=r.handle)||(h=r.handle=function(a){return typeof fa===R||a&&fa.event.triggered===a.type?b:fa.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=(c||"").match(ha)||[""],k=c.length;k--;)i=Ba.exec(c[k])||[],o=q=i[1],p=(i[2]||"").split(".").sort(),o&&(m=fa.event.special[o]||{},o=(f?m.delegateType:m.bindType)||o,m=fa.event.special[o]||{},l=fa.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&fa.expr.match.needsContext.test(f),namespace:p.join(".")},g),(n=j[o])||(n=j[o]=[],n.delegateCount=0,m.setup&&m.setup.call(a,e,p,h)!==!1||a.addEventListener&&a.addEventListener(o,h,!1)),m.add&&(m.add.call(a,l),l.handler.guid||(l.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,l):n.push(l),fa.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=qa.hasData(a)&&qa.get(a);if(q&&(i=q.events)){for(b=(b||"").match(ha)||[""],j=b.length;j--;)if(h=Ba.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=fa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||fa.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)fa.event.remove(a,n+b[j],c,d,!0);fa.isEmptyObject(i)&&(delete q.handle,qa.remove(a,"events"))}},trigger:function(c,d,e,f){var g,h,i,j,k,l,m,n=[e||T],o=da.call(c,"type")?c.type:c,p=da.call(c,"namespace")?c.namespace.split("."):[];if(h=i=e=e||T,3!==e.nodeType&&8!==e.nodeType&&!Aa.test(o+fa.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),k=o.indexOf(":")<0&&"on"+o,c=c[fa.expando]?c:new fa.Event(o,"object"==typeof c&&c),c.isTrigger=f?2:3,c.namespace=p.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=e),d=null==d?[c]:fa.makeArray(d,[c]),m=fa.event.special[o]||{},f||!m.trigger||m.trigger.apply(e,d)!==!1)){if(!f&&!m.noBubble&&!fa.isWindow(e)){for(j=m.delegateType||o,Aa.test(j+o)||(h=h.parentNode);h;h=h.parentNode)n.push(h),i=h;i===(e.ownerDocument||T)&&n.push(i.defaultView||i.parentWindow||a)}for(g=0;(h=n[g++])&&!c.isPropagationStopped();)c.type=g>1?j:m.bindType||o,l=(qa.get(h,"events")||{})[c.type]&&qa.get(h,"handle"),l&&l.apply(h,d),l=k&&h[k],l&&fa.acceptData(h)&&l.apply&&l.apply(h,d)===!1&&c.preventDefault();return c.type=o,f||c.isDefaultPrevented()||m._default&&m._default.apply(n.pop(),d)!==!1||!fa.acceptData(e)||k&&fa.isFunction(e[o])&&!fa.isWindow(e)&&(i=e[k],i&&(e[k]=null),fa.event.triggered=o,e[o](),fa.event.triggered=b,i&&(e[k]=i)),c.result}},dispatch:function(a){a=fa.event.fix(a);var c,d,e,f,g,h=[],i=aa.call(arguments),j=(qa.get(this,"events")||{})[a.type]||[],k=fa.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=fa.event.handlers.call(this,a,j),c=0;(f=h[c++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,d=0;(g=f.handlers[d++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((fa.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),e!==b&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var d,e,f,g,h=[],i=c.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!==this;j=j.parentNode||this)if(j.disabled!==!0||"click"!==a.type){for(e=[],d=0;i>d;d++)g=c[d],f=g.selector+" ",e[f]===b&&(e[f]=g.needsContext?fa(f,this).index(j)>=0:fa.find(f,this,null,[j]).length),e[f]&&e.push(g);e.length&&h.push({elem:j,handlers:e})}return i<c.length&&h.push({elem:this,handlers:c.slice(i)}),h},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||T,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[fa.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=za.test(e)?this.mouseHooks:ya.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new fa.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=T),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==i()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===i()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&fa.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return fa.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=fa.extend(new fa.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?fa.event.trigger(e,null,b):fa.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},fa.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},fa.Event=function(a,b){return this instanceof fa.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.getPreventDefault&&a.getPreventDefault()?g:h):this.type=a,b&&fa.extend(this,b),this.timeStamp=a&&a.timeStamp||fa.now(),void(this[fa.expando]=!0)):new fa.Event(a,b)},fa.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=g,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=g,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g,this.stopPropagation()}},fa.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){fa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!fa.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),fa.support.focusinBubbles||fa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){fa.event.simulate(b,a.target,fa.event.fix(a),!0)};fa.event.special[b]={setup:function(){0===c++&&T.addEventListener(a,d,!0)},teardown:function(){0===--c&&T.removeEventListener(a,d,!0)}}}),fa.fn.extend({on:function(a,c,d,e,f){var g,i;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=h;else if(!e)return this;return 1===f&&(g=e,e=function(a){return fa().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=fa.guid++)),this.each(function(){fa.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,fa(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=h),this.each(function(){fa.event.remove(this,a,d,c)})},trigger:function(a,b){return this.each(function(){fa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?fa.event.trigger(a,b,c,!0):void 0}});var Ca=/^.[^:#\[\.,]*$/,Da=/^(?:parents|prev(?:Until|All))/,Ea=fa.expr.match.needsContext,Fa={children:!0,contents:!0,next:!0,prev:!0};fa.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(fa(a).filter(function(){for(b=0;e>b;b++)if(fa.contains(d[b],this))return!0}));for(b=0;e>b;b++)fa.find(a,d[b],c);return c=this.pushStack(e>1?fa.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},has:function(a){var b=fa(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(fa.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(k(this,a||[],!0))},filter:function(a){return this.pushStack(k(this,a||[],!1))},is:function(a){return!!k(this,"string"==typeof a&&Ea.test(a)?fa(a):a||[],!1).length},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Ea.test(a)||"string"!=typeof a?fa(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&fa.find.matchesSelector(c,a))){c=f.push(c);break}return this.pushStack(f.length>1?fa.unique(f):f)},index:function(a){return a?"string"==typeof a?ba.call(fa(a),this[0]):ba.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?fa(a,b):fa.makeArray(a&&a.nodeType?[a]:a),d=fa.merge(this.get(),c);return this.pushStack(fa.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),fa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return fa.dir(a,"parentNode")},parentsUntil:function(a,b,c){return fa.dir(a,"parentNode",c)},next:function(a){return j(a,"nextSibling")},prev:function(a){return j(a,"previousSibling")},nextAll:function(a){return fa.dir(a,"nextSibling")},prevAll:function(a){return fa.dir(a,"previousSibling")},nextUntil:function(a,b,c){return fa.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return fa.dir(a,"previousSibling",c)},siblings:function(a){return fa.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return fa.sibling(a.firstChild)},contents:function(a){return a.contentDocument||fa.merge([],a.childNodes)}},function(a,b){fa.fn[a]=function(c,d){var e=fa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=fa.filter(d,e)),this.length>1&&(Fa[a]||fa.unique(e),Da.test(a)&&e.reverse()),this.pushStack(e)}}),fa.extend({filter:function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?fa.find.matchesSelector(d,a)?[d]:[]:fa.find.matches(a,fa.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,c,d){for(var e=[],f=d!==b;(a=a[c])&&9!==a.nodeType;)if(1===a.nodeType){if(f&&fa(a).is(d))break;e.push(a)}return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ga=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ha=/<([\w:]+)/,Ia=/<|&#?\w+;/,Ja=/<(?:script|style|link)/i,Ka=/^(?:checkbox|radio)$/i,La=/checked\s*(?:[^=]|=\s*.checked.)/i,Ma=/^$|\/(?:java|ecma)script/i,Na=/^true\/(.*)/,Oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Pa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pa.optgroup=Pa.option,Pa.tbody=Pa.tfoot=Pa.colgroup=Pa.caption=Pa.thead,Pa.th=Pa.td,fa.fn.extend({text:function(a){return fa.access(this,function(a){return a===b?fa.text(this):this.empty().append((this[0]&&this[0].ownerDocument||T).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=l(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=l(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?fa.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||fa.cleanData(q(c)),c.parentNode&&(b&&fa.contains(c.ownerDocument,c)&&o(q(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(fa.cleanData(q(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return fa.clone(this,a,b)})},html:function(a){return fa.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b&&1===c.nodeType)return c.innerHTML;if("string"==typeof a&&!Ja.test(a)&&!Pa[(Ha.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ga,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(fa.cleanData(q(c,!1)),c.innerHTML=a);
c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=fa.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(c){var d=a[b++],e=a[b++];e&&(d&&d.parentNode!==e&&(d=this.nextSibling),fa(this).remove(),e.insertBefore(c,d))},!0),b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=$.apply([],a);var d,e,f,g,h,i,j=0,k=this.length,l=this,o=k-1,p=a[0],r=fa.isFunction(p);if(r||!(1>=k||"string"!=typeof p||fa.support.checkClone)&&La.test(p))return this.each(function(d){var e=l.eq(d);r&&(a[0]=p.call(this,d,e.html())),e.domManip(a,b,c)});if(k&&(d=fa.buildFragment(a,this[0].ownerDocument,!1,!c&&this),e=d.firstChild,1===d.childNodes.length&&(d=e),e)){for(f=fa.map(q(d,"script"),m),g=f.length;k>j;j++)h=d,j!==o&&(h=fa.clone(h,!0,!0),g&&fa.merge(f,q(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,fa.map(f,n),j=0;g>j;j++)h=f[j],Ma.test(h.type||"")&&!qa.access(h,"globalEval")&&fa.contains(i,h)&&(h.src?fa._evalUrl(h.src):fa.globalEval(h.textContent.replace(Oa,"")))}return this}}),fa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){fa.fn[a]=function(a){for(var c,d=[],e=fa(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),fa(e[g])[b](c),_.apply(d,c.get());return this.pushStack(d)}}),fa.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=fa.contains(a.ownerDocument,a);if(!(fa.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||fa.isXMLDoc(a)))for(g=q(h),f=q(a),d=0,e=f.length;e>d;d++)r(f[d],g[d]);if(b)if(c)for(f=f||q(a),g=g||q(h),d=0,e=f.length;e>d;d++)p(f[d],g[d]);else p(a,h);return g=q(h,"script"),g.length>0&&o(g,!i&&q(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=0,l=a.length,m=b.createDocumentFragment(),n=[];l>k;k++)if(e=a[k],e||0===e)if("object"===fa.type(e))fa.merge(n,e.nodeType?[e]:e);else if(Ia.test(e)){for(f=f||m.appendChild(b.createElement("div")),g=(Ha.exec(e)||["",""])[1].toLowerCase(),h=Pa[g]||Pa._default,f.innerHTML=h[1]+e.replace(Ga,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;fa.merge(n,f.childNodes),f=m.firstChild,f.textContent=""}else n.push(b.createTextNode(e));for(m.textContent="",k=0;e=n[k++];)if((!d||-1===fa.inArray(e,d))&&(i=fa.contains(e.ownerDocument,e),f=q(m.appendChild(e),"script"),i&&o(f),c))for(j=0;e=f[j++];)Ma.test(e.type||"")&&c.push(e);return m},cleanData:function(a){for(var c,d,f,g,h,i,j=fa.event.special,k=0;(d=a[k])!==b;k++){if(e.accepts(d)&&(h=d[qa.expando],h&&(c=qa.cache[h]))){if(f=Object.keys(c.events||{}),f.length)for(i=0;(g=f[i])!==b;i++)j[g]?fa.event.remove(d,g):fa.removeEvent(d,g,c.handle);qa.cache[h]&&delete qa.cache[h]}delete pa.cache[d[pa.expando]]}},_evalUrl:function(a){return fa.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),fa.fn.extend({wrapAll:function(a){var b;return fa.isFunction(a)?this.each(function(b){fa(this).wrapAll(a.call(this,b))}):(this[0]&&(b=fa(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return fa.isFunction(a)?this.each(function(b){fa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=fa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=fa.isFunction(a);return this.each(function(c){fa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){fa.nodeName(this,"body")||fa(this).replaceWith(this.childNodes)}).end()}});var Qa,Ra,Sa=/^(none|table(?!-c[ea]).+)/,Ta=/^margin/,Ua=new RegExp("^("+ga+")(.*)$","i"),Va=new RegExp("^("+ga+")(?!px)[a-z%]+$","i"),Wa=new RegExp("^([+-])=("+ga+")","i"),Xa={BODY:"block"},Ya={position:"absolute",visibility:"hidden",display:"block"},Za={letterSpacing:0,fontWeight:400},$a=["Top","Right","Bottom","Left"],_a=["Webkit","O","Moz","ms"];fa.fn.extend({css:function(a,c){return fa.access(this,function(a,c,d){var e,f,g={},h=0;if(fa.isArray(c)){for(e=u(a),f=c.length;f>h;h++)g[c[h]]=fa.css(a,c[h],!1,e);return g}return d!==b?fa.style(a,c,d):fa.css(a,c)},a,c,arguments.length>1)},show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){t(this)?fa(this).show():fa(this).hide()})}}),fa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Qa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=fa.camelCase(c),j=a.style;return c=fa.cssProps[i]||(fa.cssProps[i]=s(j,i)),h=fa.cssHooks[c]||fa.cssHooks[i],d===b?h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c]:(g=typeof d,"string"===g&&(f=Wa.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(fa.css(a,c)),g="number"),null==d||"number"===g&&isNaN(d)||("number"!==g||fa.cssNumber[i]||(d+="px"),fa.support.clearCloneStyle||""!==d||0!==c.indexOf("background")||(j[c]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===b||(j[c]=d)),void 0)}},css:function(a,c,d,e){var f,g,h,i=fa.camelCase(c);return c=fa.cssProps[i]||(fa.cssProps[i]=s(a.style,i)),h=fa.cssHooks[c]||fa.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,d)),f===b&&(f=Qa(a,c,e)),"normal"===f&&c in Za&&(f=Za[c]),""===d||d?(g=parseFloat(f),d===!0||fa.isNumeric(g)?g||0:f):f}}),Qa=function(a,c,d){var e,f,g,h=d||u(a),i=h?h.getPropertyValue(c)||h[c]:b,j=a.style;return h&&(""!==i||fa.contains(a.ownerDocument,a)||(i=fa.style(a,c)),Va.test(i)&&Ta.test(c)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i},fa.each(["height","width"],function(a,b){fa.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&Sa.test(fa.css(a,"display"))?fa.swap(a,Ya,function(){return y(a,b,d)}):y(a,b,d):void 0},set:function(a,c,d){var e=d&&u(a);return w(a,c,d?x(a,b,d,fa.support.boxSizing&&"border-box"===fa.css(a,"boxSizing",!1,e),e):0)}}}),fa(function(){fa.support.reliableMarginRight||(fa.cssHooks.marginRight={get:function(a,b){return b?fa.swap(a,{display:"inline-block"},Qa,[a,"marginRight"]):void 0}}),!fa.support.pixelPosition&&fa.fn.position&&fa.each(["top","left"],function(a,b){fa.cssHooks[b]={get:function(a,c){return c?(c=Qa(a,b),Va.test(c)?fa(a).position()[b]+"px":c):void 0}}})}),fa.expr&&fa.expr.filters&&(fa.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},fa.expr.filters.visible=function(a){return!fa.expr.filters.hidden(a)}),fa.each({margin:"",padding:"",border:"Width"},function(a,b){fa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+$a[d]+b]=f[d]||f[d-2]||f[0];return e}},Ta.test(a)||(fa.cssHooks[a+b].set=w)});var ab=/%20/g,bb=/\[\]$/,cb=/\r?\n/g,db=/^(?:submit|button|image|reset|file)$/i,eb=/^(?:input|select|textarea|keygen)/i;fa.fn.extend({serialize:function(){return fa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=fa.prop(this,"elements");return a?fa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!fa(this).is(":disabled")&&eb.test(this.nodeName)&&!db.test(a)&&(this.checked||!Ka.test(a))}).map(function(a,b){var c=fa(this).val();return null==c?null:fa.isArray(c)?fa.map(c,function(a){return{name:b.name,value:a.replace(cb,"\r\n")}}):{name:b.name,value:c.replace(cb,"\r\n")}}).get()}}),fa.param=function(a,c){var d,e=[],f=function(a,b){b=fa.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=fa.ajaxSettings&&fa.ajaxSettings.traditional),fa.isArray(a)||a.jquery&&!fa.isPlainObject(a))fa.each(a,function(){f(this.name,this.value)});else for(d in a)B(d,a[d],c,f);return e.join("&").replace(ab,"+")},fa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){fa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),fa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var fb,gb,hb=fa.now(),ib=/\?/,jb=/#.*$/,kb=/([?&])_=[^&]*/,lb=/^(.*?):[ \t]*([^\r\n]*)$/gm,mb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,nb=/^(?:GET|HEAD)$/,ob=/^\/\//,pb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,qb=fa.fn.load,rb={},sb={},tb="*/".concat("*");try{gb=S.href}catch(ub){gb=T.createElement("a"),gb.href="",gb=gb.href}fb=pb.exec(gb.toLowerCase())||[],fa.fn.load=function(a,c,d){if("string"!=typeof a&&qb)return qb.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i),a=a.slice(0,i)),fa.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(f="POST"),h.length>0&&fa.ajax({url:a,type:f,dataType:"html",data:c}).done(function(a){g=arguments,h.html(e?fa("<div>").append(fa.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,g||[a.responseText,b,a])}),this},fa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){fa.fn[b]=function(a){return this.on(b,a)}}),fa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gb,type:"GET",isLocal:mb.test(fb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fa.parseJSON,"text xml":fa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?E(E(a,fa.ajaxSettings),b):E(fa.ajaxSettings,a)},ajaxPrefilter:C(rb),ajaxTransport:C(sb),ajax:function(a,c){function d(a,c,d,h){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),e=b,g=h||"",w.readyState=a>0?4:0,j=a>=200&&300>a||304===a,d&&(t=F(m,w,d)),t=G(m,t,w,j),j?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(fa.lastModified[f]=v),v=w.getResponseHeader("etag"),v&&(fa.etag[f]=v)),204===a||"HEAD"===m.type?x="nocontent":304===a?x="notmodified":(x=t.state,l=t.data,s=t.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,k&&o.trigger(j?"ajaxSuccess":"ajaxError",[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--fa.active||fa.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=fa.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?fa(n):fa.event,p=fa.Deferred(),q=fa.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!h)for(h={};b=lb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return e&&e.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||gb)+"").replace(jb,"").replace(ob,fb[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=fa.trim(m.dataType||"*").toLowerCase().match(ha)||[""],null==m.crossDomain&&(j=pb.exec(m.url.toLowerCase()),m.crossDomain=!(!j||j[1]===fb[1]&&j[2]===fb[2]&&(j[3]||("http:"===j[1]?"80":"443"))===(fb[3]||("http:"===fb[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=fa.param(m.data,m.traditional)),D(rb,m,c,w),2===u)return w;k=m.global,k&&0===fa.active++&&fa.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!nb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(ib.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=kb.test(f)?f.replace(kb,"$1_="+hb++):f+(ib.test(f)?"&":"?")+"_="+hb++)),m.ifModified&&(fa.lastModified[f]&&w.setRequestHeader("If-Modified-Since",fa.lastModified[f]),fa.etag[f]&&w.setRequestHeader("If-None-Match",fa.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+tb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(e=D(sb,m,c,w)){w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,e.send(s,d)}catch(x){if(!(2>u))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return fa.get(a,b,c,"json")},getScript:function(a,c){return fa.get(a,b,c,"script")}}),fa.each(["get","post"],function(a,c){fa[c]=function(a,d,e,f){return fa.isFunction(d)&&(f=f||e,e=d,d=b),fa.ajax({url:a,type:c,dataType:f,data:d,success:e})}}),fa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return fa.globalEval(a),a}}}),fa.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),fa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=fa("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),T.head.appendChild(b[0])},abort:function(){c&&c()}}}});var vb=[],wb=/(=)\?(?=&|$)|\?\?/;fa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=vb.pop()||fa.expando+"_"+hb++;return this[a]=!0,a}}),fa.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.jsonp!==!1&&(wb.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&wb.test(c.data)&&"data");return i||"jsonp"===c.dataTypes[0]?(f=c.jsonpCallback=fa.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,i?c[i]=c[i].replace(wb,"$1"+f):c.jsonp!==!1&&(c.url+=(ib.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||fa.error(f+" was not called"),h[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,vb.push(f)),h&&fa.isFunction(g)&&g(h[0]),h=g=b}),"script"):void 0}),fa.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var xb=fa.ajaxSettings.xhr(),yb={0:200,1223:204},zb=0,Ab={};a.ActiveXObject&&fa(a).on("unload",function(){for(var a in Ab)Ab[a]();Ab=b}),fa.support.cors=!!xb&&"withCredentials"in xb,fa.support.ajax=xb=!!xb,fa.ajaxTransport(function(a){var c;return fa.support.cors||xb&&!a.crossDomain?{send:function(d,e){var f,g,h=a.xhr();if(h.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(f in a.xhrFields)h[f]=a.xhrFields[f];a.mimeType&&h.overrideMimeType&&h.overrideMimeType(a.mimeType),a.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");for(f in d)h.setRequestHeader(f,d[f]);c=function(a){return function(){c&&(delete Ab[g],c=h.onload=h.onerror=null,"abort"===a?h.abort():"error"===a?e(h.status||404,h.statusText):e(yb[h.status]||h.status,h.statusText,"string"==typeof h.responseText?{text:h.responseText}:b,h.getAllResponseHeaders()))}},h.onload=c(),h.onerror=c("error"),c=Ab[g=zb++]=c("abort"),h.send(a.hasContent&&a.data||null)},abort:function(){c&&c()}}:void 0});var Bb,Cb,Db=/^(?:toggle|show|hide)$/,Eb=new RegExp("^(?:([+-])=|)("+ga+")([a-z%]*)$","i"),Fb=/queueHooks$/,Gb=[L],Hb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Eb.exec(b),f=e&&e[3]||(fa.cssNumber[a]?"":"px"),g=(fa.cssNumber[a]||"px"!==f&&+d)&&Eb.exec(fa.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,fa.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};fa.Animation=fa.extend(J,{tweener:function(a,b){fa.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Hb[c]=Hb[c]||[],Hb[c].unshift(b)},prefilter:function(a,b){b?Gb.unshift(a):Gb.push(a)}}),fa.Tween=M,M.prototype={constructor:M,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(fa.cssNumber[c]?"":"px")},cur:function(){var a=M.propHooks[this.prop];return a&&a.get?a.get(this):M.propHooks._default.get(this)},run:function(a){var b,c=M.propHooks[this.prop];return this.options.duration?this.pos=b=fa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=fa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){fa.fx.step[a.prop]?fa.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[fa.cssProps[a.prop]]||fa.cssHooks[a.prop])?fa.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},fa.each(["toggle","show","hide"],function(a,b){var c=fa.fn[b];fa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(N(b,!0),a,d,e)}}),fa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(t).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=fa.isEmptyObject(a),f=fa.speed(b,c,d),g=function(){var b=J(this,fa.extend({},a),f);(e||qa.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=fa.timers,g=qa.get(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&Fb.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&fa.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=qa.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=fa.timers,g=d?d.length:0;for(c.finish=!0,fa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),fa.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){fa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),fa.speed=function(a,b,c){var d=a&&"object"==typeof a?fa.extend({},a):{complete:c||!c&&b||fa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!fa.isFunction(b)&&b};return d.duration=fa.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in fa.fx.speeds?fa.fx.speeds[d.duration]:fa.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){fa.isFunction(d.old)&&d.old.call(this),d.queue&&fa.dequeue(this,d.queue)},d},fa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},fa.timers=[],fa.fx=M.prototype.init,fa.fx.tick=function(){var a,c=fa.timers,d=0;for(Bb=fa.now();d<c.length;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||fa.fx.stop(),Bb=b},fa.fx.timer=function(a){a()&&fa.timers.push(a)&&fa.fx.start()},fa.fx.interval=13,fa.fx.start=function(){Cb||(Cb=setInterval(fa.fx.tick,fa.fx.interval))},fa.fx.stop=function(){clearInterval(Cb),Cb=null},fa.fx.speeds={slow:600,fast:200,_default:400},fa.fx.step={},fa.expr&&fa.expr.filters&&(fa.expr.filters.animated=function(a){return fa.grep(fa.timers,function(b){return a===b.elem}).length}),fa.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){fa.offset.setOffset(this,a,b)});var c,d,e=this[0],f={top:0,left:0},g=e&&e.ownerDocument;if(g)return c=g.documentElement,fa.contains(c,e)?(typeof e.getBoundingClientRect!==R&&(f=e.getBoundingClientRect()),d=O(g),{top:f.top+d.pageYOffset-c.clientTop,left:f.left+d.pageXOffset-c.clientLeft}):f},fa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=fa.css(a,"position"),l=fa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=fa.css(a,"top"),i=fa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),fa.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},fa.fn.extend({position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===fa.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),fa.nodeName(a[0],"html")||(d=a.offset()),d.top+=fa.css(a[0],"borderTopWidth",!0),d.left+=fa.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-fa.css(c,"marginTop",!0),left:b.left-d.left-fa.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||U;a&&!fa.nodeName(a,"html")&&"static"===fa.css(a,"position");)a=a.offsetParent;return a||U})}}),fa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,d){var e="pageYOffset"===d;fa.fn[c]=function(f){return fa.access(this,function(c,f,g){var h=O(c);return g===b?h?h[d]:c[f]:void(h?h.scrollTo(e?a.pageXOffset:g,e?g:a.pageYOffset):c[f]=g)},c,f,arguments.length,null)}}),fa.each({Height:"height",Width:"width"},function(a,c){fa.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){fa.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return fa.access(this,function(c,d,e){var f;return fa.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?fa.css(c,d,h):fa.style(c,d,e,h)},c,g?e:b,g,null)}})}),fa.fn.size=function(){return this.length},fa.fn.andSelf=fa.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=fa:"function"==typeof define&&define.amd&&define("jquery",[],function(){return fa}),"object"==typeof a&&"object"==typeof a.document&&(a.jQuery=a.$=fa)}(window),define("helpers/jqueryHelpers",["require","jquery","lodash"],function(a){"use strict";var b=a("jquery"),c=a("lodash"),d="active",e="hidden",f="offscreen";b.fn.activate=c.partial(b.fn.addClass,d),b.fn.deactivate=c.partial(b.fn.removeClass,d),b.fn.toggleActive=c.partial(b.fn.toggleClass,d),b.fn.isActive=c.partial(b.fn.hasClass,d),b.fn.hideByClass=c.partial(b.fn.addClass,e),b.fn.showByClass=c.partial(b.fn.removeClass,e),b.fn.isHiddenByClass=c.partial(b.fn.hasClass,e),b.fn.sendOffscreen=c.partial(b.fn.addClass,f),b.fn.bringOnscreen=c.partial(b.fn.removeClass,f),b.fn.isOffscreen=c.partial(b.fn.hasClass,f),b.expr[":"].action=function(a,b,c,d){var e=c[3],f=a.getAttribute("data-action");return e?f===e:null!=f},b.fn.cssPosition=function(){var a=b(this);return{left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10)}}}),function(){"use strict";require.config({map:{"*":{underscore:"lodash"}}})}(),define("helpers/lodashMap",function(){}),function(a,b){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(c,d,e){a.Backbone=b(a,e,c,d)});else if("undefined"!=typeof exports){var c=require("underscore");b(a,exports,c)}else a.Backbone=b(a,{},a._,a.jQuery||a.Zepto||a.ender||a.$)}(this,function(a,b,c,d){var e=a.Backbone,f=[],g=(f.push,f.slice);f.splice;b.VERSION="1.1.2",b.$=d,b.noConflict=function(){return a.Backbone=e,this},b.emulateHTTP=!1,b.emulateJSON=!1;var h=b.Events={on:function(a,b,c){if(!j(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,d){if(!j(this,"once",a,[b,d])||!b)return this;var e=this,f=c.once(function(){e.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,d)},off:function(a,b,d){var e,f,g,h,i,k,l,m;if(!this._events||!j(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events=void 0,this;for(h=a?[a]:c.keys(this._events),i=0,k=h.length;k>i;i++)if(a=h[i],g=this._events[a]){if(this._events[a]=e=[],b||d)for(l=0,m=g.length;m>l;l++)f=g[l],(b&&b!==f.callback&&b!==f.callback._callback||d&&d!==f.context)&&e.push(f);e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=g.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&k(c,b),d&&k(d,arguments),this},stopListening:function(a,b,d){var e=this._listeningTo;if(!e)return this;var f=!b&&!d;d||"object"!=typeof b||(d=this),a&&((e={})[a._listenId]=a);for(var g in e)a=e[g],a.off(b,d,this),(f||c.isEmpty(a._events))&&delete this._listeningTo[g];return this}},i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(i.test(c)){for(var f=c.split(i),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},k=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}},l={listenTo:"on",listenToOnce:"once"};c.each(l,function(a,b){h[b]=function(b,d,e){var f=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=c.uniqueId("l"));return f[g]=b,e||"object"!=typeof d||(e=this),b[a](d,e,this),this}}),h.bind=h.on,h.unbind=h.off,c.extend(b,h);var m=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId("c"),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),d=c.defaults({},d,c.result(this,"defaults")),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};c.extend(m.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var e,f,g,h,i,j,k,l;if(null==a)return this;if("object"==typeof a?(f=a,d=b):(f={})[a]=b,d||(d={}),!this._validate(f,d))return!1;g=d.unset,i=d.silent,h=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=c.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)b=f[e],c.isEqual(l[e],b)||h.push(e),c.isEqual(k[e],b)?delete this.changed[e]:this.changed[e]=b,g?delete l[e]:l[e]=b;if(!i){h.length&&(this._pending=d);for(var m=0,n=h.length;n>m;m++)this.trigger("change:"+h[m],this,l[h[m]],d)}if(j)return this;if(!i)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b,d=!1,e=this._changing?this._previousAttributes:this.attributes;for(var f in a)c.isEqual(e[f],b=a[f])||((d||(d={}))[f]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;return a.success=function(c){return b.set(b.parse(c,a),a)?(d&&d(b,c,a),void b.trigger("sync",b,c,a)):!1},L(this,a),this.sync("read",this,a)},save:function(a,b,d){var e,f,g,h=this.attributes;if(null==a||"object"==typeof a?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0},d),e&&!d.wait){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;e&&d.wait&&(this.attributes=c.extend({},h,e)),void 0===d.parse&&(d.parse=!0);var i=this,j=d.success;return d.success=function(a){i.attributes=h;var b=i.parse(a,d);return d.wait&&(b=c.extend(e||{},b)),c.isObject(b)&&!i.set(b,d)?!1:(j&&j(i,a,d),void i.trigger("sync",i,a,d))},L(this,d),f=this.isNew()?"create":d.patch?"patch":"update","patch"===f&&(d.attrs=e),g=this.sync(f,this,d),e&&d.wait&&(this.attributes=h),g},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(c){(a.wait||b.isNew())&&e(),d&&d(b,c,a),b.isNew()||b.trigger("sync",b,c,a)},this.isNew())return a.success(),!1;L(this,a);var f=this.sync("delete",this,a);return a.wait||e(),f},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||K();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return d?(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1):!0}});var n=["keys","values","pairs","invert","pick","omit"];c.each(n,function(a){m.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.attributes),c[a].apply(c,b)}});var o=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},p={add:!0,remove:!0,merge:!0},q={add:!0,remove:!1};c.extend(o.prototype,h,{model:m,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,q))},remove:function(a,b){var d=!c.isArray(a);a=d?[a]:c.clone(a),b||(b={});var e,f,g,h;for(e=0,f=a.length;f>e;e++)h=a[e]=this.get(a[e]),h&&(delete this._byId[h.id],delete this._byId[h.cid],g=this.indexOf(h),this.models.splice(g,1),this.length--,b.silent||(b.index=g,h.trigger("remove",h,this,b)),this._removeReference(h,b));return d?a[0]:a},set:function(a,b){b=c.defaults({},b,p),b.parse&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?a?[a]:[]:c.clone(a);var e,f,g,h,i,j,k,l=b.at,n=this.model,o=this.comparator&&null==l&&b.sort!==!1,q=c.isString(this.comparator)?this.comparator:null,r=[],s=[],t={},u=b.add,v=b.merge,w=b.remove,x=!o&&u&&w?[]:!1;
for(e=0,f=a.length;f>e;e++){if(i=a[e]||{},g=i instanceof m?h=i:i[n.prototype.idAttribute||"id"],j=this.get(g))w&&(t[j.cid]=!0),v&&(i=i===h?h.attributes:i,b.parse&&(i=j.parse(i,b)),j.set(i,b),o&&!k&&j.hasChanged(q)&&(k=!0)),a[e]=j;else if(u){if(h=a[e]=this._prepareModel(i,b),!h)continue;r.push(h),this._addReference(h,b)}h=j||h,!x||!h.isNew()&&t[h.id]||x.push(h),t[h.id]=!0}if(w){for(e=0,f=this.length;f>e;++e)t[(h=this.models[e]).cid]||s.push(h);s.length&&this.remove(s,b)}if(r.length||x&&x.length)if(o&&(k=!0),this.length+=r.length,null!=l)for(e=0,f=r.length;f>e;e++)this.models.splice(l+e,0,r[e]);else{x&&(this.models.length=0);var y=x||r;for(e=0,f=y.length;f>e;e++)this.models.push(y[e])}if(k&&this.sort({silent:!0}),!b.silent){for(e=0,f=r.length;f>e;e++)(h=r[e]).trigger("add",h,this,b);(k||x&&x.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,e=this.models.length;e>d;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return g.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return c.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b(d,c,a),d.trigger("sync",d,c,a)},L(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?c.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,e=b.success;return b.success=function(a,c){b.wait&&d.add(a,b),e&&e(a,c,b)},a.save(null,b),a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof m)return a;b=b?c.clone(b):{},b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_addReference:function(a,b){this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a),a.collection||(a.collection=this),a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var r=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];c.each(r,function(a){o.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.models),c[a].apply(c,b)}});var s=["groupBy","countBy","sortBy","indexBy"];c.each(s,function(a){o.prototype[a]=function(b,d){var e=c.isFunction(b)?b:function(a){return a.get(b)};return c[a](this.models,e,d)}});var t=b.View=function(a){this.cid=c.uniqueId("view"),a||(a={}),c.extend(this,c.pick(a,v)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},u=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];c.extend(t.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(a,c){return this.$el&&this.undelegateEvents(),this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=c.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];if(c.isFunction(d)||(d=this[a[b]]),d){var e=b.match(u),f=e[1],g=e[2];d=c.bind(d,this),f+=".delegateEvents"+this.cid,""===g?this.$el.on(f,d):this.$el.on(f,g,d)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a["class"]=c.result(this,"className"));var d=b.$("<"+c.result(this,"tagName")+">").attr(a);this.setElement(d,!1)}}}),b.sync=function(a,d,e){var f=x[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};if(e.url||(g.url=c.result(d,"url")||K()),null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e))),e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{}),e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST",e.emulateJSON&&(g.data._method=f);var h=e.beforeSend;e.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",f),h?h.apply(this,arguments):void 0}}"GET"===g.type||e.emulateJSON||(g.processData=!1),"PATCH"===g.type&&w&&(g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,i,e),i};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var y=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,B=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(y.prototype,h,{initialize:function(){},route:function(a,d,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(d)&&(e=d,d=""),e||(e=this[d]);var f=this;return b.history.route(a,function(c){var g=f._extractParameters(a,c);f.execute(e,g),f.trigger.apply(f,["route:"+d].concat(g)),f.trigger("route",d,g),b.history.trigger("route",f,d,g)}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(C,"\\$&").replace(z,"(?:$1)?").replace(A,function(a,b){return b?a:"([^/?]+)"}).replace(B,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var D=b.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,G=/msie [\w.]+/,H=/\/$/,I=/#.*$/;D.started=!1,c.extend(D.prototype,h,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(H,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(E,"")},start:function(a){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var d=this.getFragment(),e=document.documentMode,f=G.exec(navigator.userAgent.toLowerCase())&&(!e||7>=e);if(this.root=("/"+this.root+"/").replace(F,"/"),f&&this._wantsHashChange){var g=b.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=g.hide().appendTo("body")[0].contentWindow,this.navigate(d)}this._hasPushState?b.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!f?b.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=d;var h=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&h.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){b.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();return b===this.fragment&&this.iframe&&(b=this.getFragment(this.getHash(this.iframe))),b===this.fragment?!1:(this.iframe&&this.navigate(b),void this.loadUrl())},loadUrl:function(a){return a=this.fragment=this.getFragment(a),c.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})},navigate:function(a,b){if(!D.started)return!1;b&&b!==!0||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=a.replace(I,""),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.history=new D;var J=function(a,b){var d,e=this;d=a&&c.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},c.extend(d,e,b);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&c.extend(d.prototype,a),d.__super__=e.prototype,d};m.extend=o.extend=y.extend=t.extend=D.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};return b}),define("helpers/backboneSync",["require","jquery","lodash","backbone"],function(a){"use strict";var b=a("jquery"),c=a("lodash"),d=a("backbone"),e="Must provide a url to fetch model",f="Could not fetch model",g={},h=function(a){return c.first(c.last(a.split("/")).split("."))},i=function(a){var c=new b.Deferred,d=c.promise(),e=b("<script/>"),f={load:c.resolve.bind(c),error:c.reject.bind(c)};return e.on(f).attr("src",a),document.head.appendChild(e[0]),d.always(e.off.bind(e,f)),d},j={origSync:d.sync,scriptSync:function(a,d,j){var k,l=j.url||c.result(d,"url"),m=new b.Deferred,n=m.promise();return l?(k=h(l),i(l).done(function(){var a=g[k];g[k]=null,j.success(a),m.resolve(a)}).fail(function(){j.error(f),m.reject(f)}),n):(m.reject(e),n)},sync:function(a,b,c){var d="read"===a?"scriptSync":"origSync";return j[d].apply(this,arguments)}};return d.sync=j.sync,window.globalProvideData=function(a,b){var c=JSON.parse(b),d="slide"===a?c.id:a;g[d]=c},j}),define("helpers/errorManager",["require","lodash"],function(a){"use strict";var b=a("lodash"),c=b.curry(function(a,c,d,e){var f=b.slice(arguments,3).join(" ");a([c,"::",d," - ",f].join(""))},4),d={throwError:c(function(a){throw new Error(a)}),warn:c(function(a){console.warn(a)}),backtick:function(a){return["`",a,"`"].join("")}};return d}),define("helpers/mixer",["require","lodash","helpers/errorManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/errorManager"),d=c.throwError("mixer"),e=c.backtick,f=[],g=function(a,c){return b.isFunction(c[a])},h=function(a,c){var h,j=b.slice(arguments,2),k=i[a];return b.isObject(c)||d("invokeMixins","Cannot",e(a),"mixins of a non-object"),h=null!==k?[a,k]:[a],h.forEach(function(a){(c.mixins||f).filter(b.partial(g,a)).forEach(function(b){b[a].apply(c,j)})}),this},i={init:"componentWillMount"},j=["preInit","init","postInit"],k=b.partialRight(b.omit,j),l={mixInto:function(a,c){return b.defaults.apply(b,b(c).map(k).unshift(a).value()),a},mix:function(a){return this.mixInto(a,a.mixins),a}};return j.forEach(function(a){var c=a+"MixinsOf";l[c]=b.partial(h,a)}),l}),define("helpers/extend",["require","lodash","backbone","helpers/mixer"],function(a){"use strict";var b=a("lodash"),c=a("backbone"),d=a("helpers/mixer"),e=b.partialRight(b.omit,"mixins"),f=c.Model.extend,g=function(a,c){var g;return a=a||{},b.isArray(a)||(a=[a]),a=a.filter(b.isPlainObject),g=b.extend.apply(b,a.map(e)),g.mixins=b(a).pluck("mixins").unshift(this.prototype.mixins).flatten().filter(b.isPlainObject).uniq().value(),d.mix(g),f.call(this,g,c)};return"Model Collection View Router History".split(" ").forEach(function(a){c[a].extend=g}),g}),!function(a){var b=/iPhone/i,c=/iPod/i,d=/iPad/i,e=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,f=/Android/i,g=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,h=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,i=/IEMobile/i,j=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,k=/BlackBerry/i,l=/BB10/i,m=/Opera Mini/i,n=/(CriOS|Chrome)(?=.*\bMobile\b)/i,o=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,p=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),q=function(a,b){return a.test(b)},r=function(a){var r=a||navigator.userAgent,s=r.split("[FBAN");return"undefined"!=typeof s[1]&&(r=s[0]),this.apple={phone:q(b,r),ipod:q(c,r),tablet:!q(b,r)&&q(d,r),device:q(b,r)||q(c,r)||q(d,r)},this.amazon={phone:q(g,r),tablet:!q(g,r)&&q(h,r),device:q(g,r)||q(h,r)},this.android={phone:q(g,r)||q(e,r),tablet:!q(g,r)&&!q(e,r)&&(q(h,r)||q(f,r)),device:q(g,r)||q(h,r)||q(e,r)||q(f,r)},this.windows={phone:q(i,r),tablet:q(j,r),device:q(i,r)||q(j,r)},this.other={blackberry:q(k,r),blackberry10:q(l,r),opera:q(m,r),firefox:q(o,r),chrome:q(n,r),device:q(k,r)||q(l,r)||q(m,r)||q(o,r)||q(n,r)},this.seven_inch=q(p,r),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},s=function(){var a=new r;return a.Class=r,a};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=r:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=s():"function"==typeof define&&define.amd?define("isMobile",[],a.isMobile=s()):a.isMobile=s()}(this),define("ismobilejs",function(a){return function(){var b;return b||a.isMobile}}(this)),define("helpers/pubSub",["require","backbone","lodash"],function(a){"use strict";var b=a("backbone"),c=a("lodash"),d=c.extend({},b.Events);return d}),define("polyfills/audioContext",[],function(){"use strict";return window.AudioContext||window.webkitAudioContext}),define("polyfills/detection",["require","ismobilejs","helpers/pubSub","polyfills/audioContext"],function(a){"use strict";var b=a("ismobilejs"),c=a("helpers/pubSub"),d=a("polyfills/audioContext"),e=window.navigator.userAgent.toLowerCase(),f=function(){var a=document.createElement("canvas"),b=a.getContext("webgl")||a.getContext("experimental-webgl");return a=null,null!=b}(),g=b.phone||b.tablet,h={isMobile:g,isWebKit:function(){return e.indexOf("webkit")>-1},isFF:function(){return e.indexOf("firefox")>-1},isIE:function(){return"ActiveXObject"in window||null!=window.MSBlobBuilder},isIOS:function(){return/(ipad|iphone)/i.test(e)},isIE11:function(){return this.isIE()&&null!=window.msCrypto&&!window.ActiveXObject},isEdge:function(){return this.isIE()&&null==window.msCrypto&&f},isFileProtocol:function(){return"file:"===document.location.protocol},hasAudioApi:function(){return d&&(!h.isFileProtocol()||h.isMobile)}},i=function(){window.innerHeight>window.innerWidth?h.orientation="portrait":h.orientation="landscape",c.trigger("detection:orientationChange",{orientation:h.orientation})};return i(),window.addEventListener("resize",i),h}),define("polyfills/fileProtocolOverrides",["require","lodash","polyfills/detection"],function(a){"use strict";var b=a("lodash"),c=a("polyfills/detection"),d={formatSrcUrl:c.isFileProtocol()&&c.isIE()?function(a){return"file://"+a}:b.identity};return d}),define("helpers/constants",["require"],function(a){"use strict";var b=window.globals,c=(window.location.protocol,window.location.host,window.location.pathname),d=c.split(/\/+/).slice(0,-1).join("/"),e=b.DATA_PATH_BASE+"/html5/data/js",f={PATH_DELIMITER:".",NODE_DELIMITER:"-",SVG_NODE_PREFIX:"commandset",PRESENTATION_URL:[b.DATA_PATH_BASE,d].join(""),PRESENTATION_DATA_URL:[d,e].join(""),STORY_CONTENT_URL:"story_content/",PLAYER_PROPS_KEYPATH:"playerProps",DEFAULT_VOLUME:.8,MOBILE_UI_SIZE:58,refs:{PLAYER:"_player",PARENT:"_parent",CHILDREN:"_children",SELF:"_this",CHOICES:"choices",STMTS:"statements"},varTypes:{STRING:"string",NUM:"number",BOOL:"boolean"},statuses:{CORRECT:"correct",INCORRECT:"incorrect",INCOMPLETE:"incomplete",COMPLETE:"complete",NEUTRAL:"neutral",PASSING:"pass",FAILING:"fail"},tabIndices:{SKIP:0,LIGHTBOX_CLOSE:1,PREV:2,NEXT:3,SUBMIT:4,SIDEBAR:10,SEARCH_INPUT:20,SEARCH_SUBMIT:21,SEARCH_CLEAR:22,TOP_TAB_LEFT:30,TOP_TAB_RIGHT:40,VOLUME:50,PLAYBACK_PLAY:60,PLAYBACK_PROGRESS:65,PLAYBACK_RESET:70},keys:{UP:38,DOWN:40,LEFT:37,RIGHT:39,TAB:9,SPACE:32,ENTER:13},math:{QUARTER_PI:.25*Math.PI,THREE_QUARTER_PI:.75*Math.PI,TWO_PI:2*Math.PI}};return Object.freeze(f),Object.freeze(f.refs),Object.freeze(f.varTypes),Object.freeze(f.statuses),Object.freeze(f.tabIndices),Object.freeze(f.keys),Object.freeze(f.math),f}),define("helpers/utils",["require","lodash","polyfills/fileProtocolOverrides","helpers/constants","polyfills/detection"],function(a){"use strict";var b=a("lodash"),c=a("polyfills/fileProtocolOverrides"),d=a("helpers/constants"),e=a("polyfills/detection"),f=5,g="ds",h=function(a,b){var d=r.slice(b);return d.unshift(a),c.formatSrcUrl(d.join("/"))},i=function(a){var c=b.rest(arguments);return function(){var d=b.toArray(arguments);return c[a](function(a){return a.apply(null,d)})}},j=function(a){return a+"."},k=function(a,b){return b.replace(a,"")},l=function(a,b){return a===b},m=function(a,b){return b.charAt(0)[a]()+b.slice(1)},n=function(a,b){return[a,b,a].join("")},o=function(a,c){if(null==a)return void 0;if(0===c.length)return a;var d=b.first(c),e=b.rest(c),f="$"===d.charAt(0)?"prop":"get",g=function(a){return"get"===f?a:a.slice(1)};return d=null!=a[d]&&b.isFunction(a[d])?a[d]():null!=a[d]?a[d]:a[f]&&a[f](g(d)),o(d,e)},p=function(a){return"{"===a.charAt(0)&&(a=JSON.parse(a)),a},q=function(a){return a.split("=").map(decodeURIComponent).map(p)},r={keys:{DASH:189,PERIOD:190,DELETE:8,ENTER:13},getPath:function(a,b){return o(a,b.split("."))},fix:function(a,b){return+a.toFixed(null!=b?b:f)},toSeconds:function(a){return a/1e3},toMilliseconds:function(a){return r.fix(1e3*a,0)},formatSecondsAsTime:function(a){var b,c=Math.floor(a/3600),d=Math.floor((a-3600*c)/60),e=Math.floor(a-3600*c-60*d),f=function(a){return 10>a?"0"+a:a};return d=f(d),e=f(e),b=[d,e],c>=1&&b.unshift(c),b.join(":")},hexify:function(a){return"#"+a.replace(/0x|#/,"")},opacify:function(a){return a/100},rgbify:function(a,b){var c=this.hexify(a).replace("#",""),d=parseInt(c,16),e=d>>16&255,f=d>>8&255,g=255&d,h=[e,f,g],i=null!=b,j="rgb"+(i?"a":"");return i&&h.push(b),[j,"(",h.join(","),")"].join("")},toRgba:function(a,b){return r.rgbify(a,r.opacify(b))},octToDec:function(a){return a/255},decToPct:function(a,b){var c=r.fix(100*a);return b?c+"%":c},stopPct:function(a){return r.decToPct(r.octToDec(a))},pctToDec:function(a,b){return r.fix(parseFloat(a)/100,b)},add:function(a,b){return(a||0)+(b||0)},sum:function(){return b.reduce(arguments,r.add,0)},upperCaseFirst:b.partial(m,"toUpperCase"),lowerCaseFirst:b.partial(m,"toLowerCase"),slice:b.bind(Array.prototype.slice.call,Array.prototype.slice),resolveAssetUrl:function(){return h(d.PRESENTATION_URL,arguments)},resolveDataUrl:function(){return h(d.PRESENTATION_DATA_URL,arguments)+".js"},clamp:function(a,b,c){return Math.max(Math.min(c,b),a)},isWithinRange:function(a,b,c){return c>=a&&b>=c},hasProp:function(a,b){if(null==a)return!1;for(var c,d=a,e=b.split(".");c=e.shift();){if(null==d[c])return!1;d=d[c]}return!0},not:function(a){return function(){return!a.apply(this,arguments)}},take:function(a,c,d){return function(){return c.apply(d,b.take(arguments,a))}},invertPercent:function(a){return 1-a},andify:b.partial(i,"every"),orify:b.partial(i,"some"),is:l,isTrue:b.partial(l,!0),isFalse:b.partial(l,!1),alwaysTrue:function(){return!0},alwaysFalse:function(){return!1},buildDataStructure:function(a,b,c){return new a(c,b)},createSuper:function(a){return function(b){return a.prototype[b]}},cloneDeeply:function(a){return JSON.parse(JSON.stringify(a))},buildEventNamespace:function(a){return"."+g+(a||"")},namespaceEvent:function(a,b){return a+r.buildEventNamespace(b)},hypot:function(a,b){return Math.sqrt(a*a+b*b)},dist:function(a,b,c,d){var e=a-c,f=b-d;return this.hypot(e,f)},degToRad:function(a){return a*(Math.PI/180)},radToDeg:function(a){return a*(180/Math.PI)},normalizeDeg:function(a){for(var b=a;0>b;)b+=360;return b%360},stripTags:function(a,c,d){var e=document.createElement("div"),f=d?["<",d,">"].join(""):"",g=f.replace("<","</");return e.innerHTML=a,c?b(e.querySelectorAll(c)).map(function(a){return[f,a.innerHTML,g].join("")}).join(""):e.textContent},stripTagsMobile:function(a,b,c){return e.isMobile?r.stripTags(a,b,c):a},camelCaseAttr:function(a,b){return a=b?a:a.toLowerCase(),a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})},stripPlayer:b.partial(k,j(d.refs.PLAYER)),stripChoice:b.partial(k,j(d.refs.CHOICES)),stripStatement:b.partial(k,j(d.refs.STMTS)),prefixWithPlayer:function(a){return d.refs.PLAYER+"."+r.stripPlayer(a)},parseParams:function(a){return a=a||window.location.search.substr(1),b.object(a.split("&").map(function(a){return a.split("=")}))},applyMethod:function(a,c){var d=b.slice(arguments,2);return c=b.isArray(c)?c:[c],d.unshift(c,a),b.invoke.apply(b,d)},pxify:function(a){return[a,"px"].join("")},shallowEqual:function(a,b){if(a===b)return!0;var c;for(c in a)if(a.hasOwnProperty(c)&&(!b.hasOwnProperty(c)||a[c]!==b[c]))return!1;for(c in b)if(b.hasOwnProperty(c)&&!a.hasOwnProperty(c))return!1;return!0},doubleQuote:b.partial(n,'"'),quote:b.partial(n,"'"),getWindowSearch:function(){return window.location.search.replace(/^\?/,"")},queryStringToObj:function(){var a,c=this.getWindowSearch();return a=c.split("&"),b.zipObject(a.map(q))},rotatePoint:function(a,b,c,d,e){e=r.degToRad(e);var f=a-c,g=b-d,h=Math.cos(e),i=Math.sin(e);return{x:h*f-i*g+c,y:i*f+h*g+d}},pointInRect:function(a,b,c){var d=c[0][0],e=c[0][1],f=c[1][0],g=c[1][1];return a>=d&&f>=a&&b>=e&&g>=b},executeKeypressEvent:function(a,b){a.executeFilteredPlayerEvent(function(a){return a.keycode===b.keyCode&&a.shift===b.shiftKey&&a.ctrl===b.ctrlKey&&a.alt===b.altKey},"onkeypress")},showTimer:function(a,c){b(a.refs).pick(function(a,b){return 0===b.indexOf("timer")&&a!==c}).forOwn(function(a){a.onHide()}).value()}};return r}),define("views/helpers/dom",["require","lodash","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=function(a,c,d,f){return a.addEventListener(c,d,!!f),b.partial(e,a,c,d)},e=function(a,b,c){a.removeEventListener(b,c)},f=function(a){return 1===a.nodeType},g=function(a,b){var d=[];for(b=b||c.alwaysTrue;a&&f(a);)d.push(a),a=a.parentNode;return d.slice(1).filter(b)},h=function(a){return l(a,"slide-object")},i=function(a,b){return b=b||c.alwaysTrue,b(a)?a:g(a,b)[0]},j=function(a,b){return b.tagName.toLowerCase()===a.toLowerCase()},k=function(a){return l(a,"svg-icon-wrapper")},l=function(a,b){var c,d;return null!=a.classList?a.classList.contains(b):(d=a.className.baseVal||a.className,c=new RegExp("\\b"+b+"\\b"),c.test(d))},m=function(a,c){return b.forOwn(c,function(b,c){a.style[c]=b}),a},n=function(a,c){return b.forOwn(c,function(b,c){a.setAttribute(c,b)}),a},o=function(a,b){var c=b.getBoundingClientRect(),d=a.getBoundingClientRect(),e=c.top-d.top;return d.top>c.top||d.bottom<c.bottom?e:0},p=function(a,d,e,f){var g=b.isFinite(e)?d.length>e:!1,h=a.getBoundingClientRect().width,i=h,j=0,k=i/d.length;f=f||0,b(d).map(function(a,b){a.style.width="";var c=a.getBoundingClientRect().width+f;return j+=c,{el:a,width:c}}).sortBy("width").forEach(function(a,b){var e=b+1,l=Math.min(a.width,k);j>h?(a.el.style.width=c.pxify(l-f),i-=l,k=i/(d.length-e)):g&&(a.el.style.width=c.pxify(a.width+(i-j)/d.length))}).value()},q=function(a){return j("input",a)||j("textarea",a)},r=function(a,c,d){var e=["<",a];return c&&b.isPlainObject(c)&&b.forOwn(c,function(a,b){e.push(" ",b,'="',a,'"')},e),e.push(d===!0||c===!0?" />":">"),e.join("")},s=function(a){return r(a).replace("<","</")},t={on:d,off:e,parentNodesOf:g,closest:i,isNodeOfType:j,isInput:q,isLink:b.partial(j,"a"),isVideoNode:b.partial(j,"video"),isIconNode:k,isSlideObject:h,setAttributes:n,setStyles:m,getScrollRecommendation:o,resizeToFit:p,hasClass:l,writeNode:r,writeCloseNode:s};return t.mouseX=0,t.mouseY=0,document.body.addEventListener("mousemove",function(a){t.mouseX=a.pageX,t.mouseY=a.pageY}),t}),define("views/events/mouseEvents",["require"],function(a){"use strict";var b={};return b}),define("views/events/touchHelper",["require","lodash","views/helpers/dom"],function(a){var b=a("lodash"),c=a("views/helpers/dom"),d={},e=["touchstart","touchmove","touchend","touchcancel"];document.addEventListener("touchstart",function(a){1===a.touches.length?d.currentTouch=a.touches[0]:a.preventDefault()},!0);var f=function(a){return b.any(a.changedTouches,function(a){return a.id===d.currentTouch.id})},g=function(a,b){return function(d){d.touches&&d.touches.length>1||(f(d)&&a(d),b&&!c.isInput(d.target)&&d.preventDefault())}},h=function(a,b,c,d){var e,f=g(function(a){e=a.target,e.addEventListener(b,c,d),e.addEventListener("touchend",h)}),h=function(){e&&(e.removeEventListener(b,c),e.removeEventListener("touchend",h))},i=function(){a.removeEventListener("touchstart",f),h()};return a.addEventListener("touchstart",f),i};return d.on=function(a,b,c,d,e){var f="touchstart"===b,i=g(c,e!==!1);return f?(a.addEventListener(b,i,d),function(){a.removeEventListener(b,i)}):h(a,b,i,d)},d.isTouchEventName=function(a){return b.contains(e,a)},d}),define("views/events/eventHelper",["require","lodash","views/helpers/dom","views/events/mouseEvents","views/events/touchHelper"],function(a){"use strict";var b=a("lodash"),c=a("views/helpers/dom"),d=a("views/events/mouseEvents"),e=a("views/events/touchHelper"),f=function(a,b){d[a]=b(g(a))},g=function(a){return function(d,f,g,h,i,j){var k={type:a,node:d},l=function(a){var c=g?g(a):!0;c&&h(b.extend({},k,c,{origEvent:a}))};return e.isTouchEventName(f)?e.on(d,f,l,i,j):c.on(d,f,l,i)}},h=function(a){return a instanceof window.SVGElement&&"svg"!==a.tagName},i=function(a){return h(a.target)},j=function(a){return c.isVideoNode(a.target)},k=function(a){return 1===a.which},l=function(a){return 3===a.which},m=function(a){return a&&null!=a.getAttribute&&"events"===a.getAttribute("data-accepts")},n=function(a){return m(a.target.ownerSVGElement)||!!c.closest(a.target,m)},o=function(a){return["click","mouseup","mousedown"].indexOf(a.type)>=0&&(null==a.pageX||0===a.pageX)&&(null==a.pageY||0===a.pageY)};return{registerEvent:f,on:c.on,off:c.off,parentNodesOf:c.parentNodesOf,isNodeSvgEl:h,isTgtSvgEl:i,isTgtVideoEl:j,isLeftMouseBtn:k,isRightMouseBtn:l,doesEventTargetAcceptEvents:n,isSpacebarClick:o}}),define("helpers/keyManager",["require","lodash","react","helpers/utils","helpers/constants","views/helpers/dom","helpers/pubSub","views/events/eventHelper"],function(a){"use strict";var b,c=a("lodash"),d=a("react"),e=a("helpers/utils"),f=a("helpers/constants"),g=a("views/helpers/dom"),h=a("helpers/pubSub"),i=a("views/events/eventHelper"),j=(c.invert(f.keys),function(a,b){return b===a}),k=function(){var a=document.activeElement,b=a.nodeName.toLowerCase(),c=a.type&&a.type.toLowerCase();return"textarea"===b||"input"===b&&("text"===c||"number"===c)},l=c.partial(j,f.keys.TAB),m=c.partial(j,f.keys.SPACE),n=c.partial(j,f.keys.ENTER),o=c.partial(j,f.keys.UP),p=c.partial(j,f.keys.DOWN),q=c.partial(j,f.keys.LEFT),r=c.partial(j,f.keys.RIGHT),s=function(a){return m(a)||n(a)},t=function(a){return o(a)||p(a)||q(a)||r(a)},u=function(a){return q(a)||p(a)},v={mainWindow:{windowId:"mainWindow",slide:[],player:[]}},w={currentIndex:-1,currentWindow:v.mainWindow,initialize:function(a,c){var d=c.getCurrentWindow(),f=e.getPath(d,"props.model.id");this.app=a,b=c,document.body.addEventListener("keydown",this.checkKeyEvent.bind(this)),document.body.addEventListener("mousedown",this.clearTab.bind(this)),h.on({"window:closed":this.removeWindow.bind(this),"window:created":this.addWindow.bind(this),"nextSlide:requesting":this.clearSlide.bind(this),"slide:hasChanged":this.clearTab.bind(this)}),this.currentWindow=v[f||"mainWindow"]},checkKeyEvent:function(a){var c;a.metaKey!==!1||k()||a.preventDefault(),l(a.keyCode)?this.changeFocus(a.shiftKey):null!=this.currentItem&&s(a.keyCode)?this.getCurrentFocusController().onActionKey(this.currentItem,n(a.keyCode)):null!=this.currentItem&&t(a.keyCode)?this.getCurrentFocusController().onTreeKey(this.currentItem,u(a.keyCode),a.keyCode):e.executeKeypressEvent(b.getCurrentWindowSlide(),a),null!=this.currentItem&&(c=this.currentItem.props.model,c&&c.isSlideObject&&e.executeKeypressEvent(this.currentItem.props.model,a))},clearTab:function(a){null!=this.currentItem&&i.isSpacebarClick(a)&&(this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(null))},clearCurrentItem:function(){this.currentItem&&c.contains(this.currentWindow.slide,this.currentItem)&&(this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(null))},reset:function(){this.currentIndex=-1,this.focusNextItem()},clearSlide:function(a,b){null==b||"_current"===b||b===this.currentWindow.windowId?(this.clearCurrentItem(),this.currentWindow.slide=[]):(v[b]={windowId:b,slide:[],player:[]},this.currentWindow=v[b],this.currentIndex=-1)},getWindowId:function(a){return null!=a.props.model?a.props.model.id:"mainWindow"},addWindow:function(a){var b=this.getWindowId(a);v[b]=v[b]||{slide:[],player:[]},this.currentWindow=v[b]},removeWindow:function(a){var c=this.getWindowId(a);this.clearTab(),v[c]=null,this.currentWindow=v[this.getWindowId(b.getCurrentWindow())],this.currentIndex=-1},addItem:function(a,b,c){var d=c?this.currentWindow.player:this.currentWindow.slide;d[a]=b,c&&this.onBuildComplete()},removeItem:function(a,b){this.currentWindow[a]===b&&(this.currentWindow[a]=null);
},onBuildComplete:function(){this.currentWindow.tabbables=c.compact(this.currentWindow.slide).concat(c.compact(this.currentWindow.player))},changeFocus:function(a){a?this.focusPrevItem():this.focusNextItem()},getCurrentItem:function(){return this.currentItem},setCurrentItem:function(a){this.currentItem=a},incrementIndex:function(a){return a+1<this.currentWindow.tabbables.length?a+1:0},decrementIndex:function(a){return a-1>=0?a-1:this.currentWindow.tabbables.length-1},getCurrentTabbable:function(){return this.currentWindow.tabbables[this.currentIndex]},getCurrentFocusController:function(){return this.currentItem.dsFocusController?this.currentItem.dsFocusController:this.currentItem},getItemIsVisible:function(a){var b;return c.isFunction(a.isVisible)?a.isVisible()&&!g.closest(a.el,function(a){return g.hasClass(a,"hidden")})&&(!a.props.model||!a.props.model.isKind("expandinglabel")||a.getPlayerProp("Expanded")===!0):(b=d.findDOMNode(a),!g.closest(b,function(a){return g.hasClass(a,"hidden")}))},focusNextItem:function(){for(this.currentIndex=this.incrementIndex(this.currentIndex);!this.getItemIsVisible(this.getCurrentTabbable());)this.currentIndex=this.incrementIndex(this.currentIndex);this.implementFocus()},focusPrevItem:function(){for(this.currentIndex=this.decrementIndex(this.currentIndex);!this.getItemIsVisible(this.getCurrentTabbable());)this.currentIndex=this.decrementIndex(this.currentIndex);this.implementFocus()},implementFocus:function(a){this.currentItem&&this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(this.getCurrentTabbable()),this.getCurrentFocusController().gainFocus(this.currentItem)}};return w}),define("mixins/subscribable",["require","lodash","helpers/pubSub","helpers/errorManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/pubSub"),d=a("helpers/errorManager"),e=d.throwError("subscribable"),f={componentWillMount:function(){return this.addSubscriptions(),this},addSubscriptions:function(){this.resetSubscriptions();for(var a in this.subscriptions)this.subscriptions.hasOwnProperty(a)&&this.addSubscription(a,this.subscriptions[a]);return this},addSubscription:function(a,d){return b.isFunction(this[d])||e("addSubscription","this."+d,"is not a defined callback."),this.addSubscribedEvent(a).listenTo(c,a,this[d]),this},addSubscribedEvent:function(a){return this.subscribedEvents.push(a),this},removeSubscriptions:function(){return b.each(b.uniq(this.subscribedEvents),this.removeSubscription,this),this},removeSubscription:function(a,b){var d=this.subscribedEvents.indexOf(a);return this.stopListening(c,a,this[b]),d>-1&&this.subscribedEvents.splice(d,1),this},resetSubscriptions:function(){return this.removeSubscriptions(),this.subscribedEvents=[],this}};return f}),define("mixins/shortEventable",["require","lodash","helpers/errorManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/errorManager"),d=c.warn("shortEventable"),e=d("bindShortEvents"),f=c.backtick,g="Cannot listen to undefined object",h=function(a,c){return b.mapValues(c,function(b){return a[b]})},i=function(a,c){var d=a[c];return d?b.isFunction(d)?d.call(a):d:a.get?a.get(c):a.props&&a.props[c]},j={componentWillMount:function(){return this.bindShortEvents(),this},bindShortEvents:function(){return b.each(this.shortEvents,function(a,b){var c="self"===b?this:i(this,b),d=h(this,a);return c?void this.listenTo(c,d):void e(g,f(b))}.bind(this)),this},rebindShortEvents:function(){return this.stopListening(),this.bindShortEvents(),this}};return j}),define("helpers/stringTabler",["require"],function(a){"use strict";var b,c={initialize:function(a){var c=a.layouts().get(a.get("default_layout"));b=a.stringTables().get(c.string_table).string},getString:function(a){return b[a]}};return c}),define("views/mixins/stringable",["require","lodash","helpers/stringTabler"],function(a){"use strict";var b=a("lodash"),c=a("helpers/stringTabler"),d=function(a){return["i18n",a].join("")},e=function(a){var b=c.getString(a);return null!=b?b:a},f={getInitialState:function(){var a=b.result(this,"stringTitles");return a?b.transform(a,function(a,b,c){a[d(c)]=e(b)}):{}}};return f}),function(){function a(a,b){return[].slice.call((b||document).querySelectorAll(a))}if(window.addEventListener){var b=window.StyleFix={link:function(a){try{if("stylesheet"!==a.rel||a.hasAttribute("data-noprefix"))return}catch(c){return}var d,e=a.href||a.getAttribute("data-href"),f=e.replace(/[^\/]+$/,""),g=(/^[a-z]{3,10}:/.exec(f)||[""])[0],h=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(f)||[""])[0],i=/^([^?]*)\??/.exec(e)[1],j=a.parentNode,k=new XMLHttpRequest;k.onreadystatechange=function(){4===k.readyState&&d()},d=function(){var c=k.responseText;if(c&&a.parentNode&&(!k.status||400>k.status||600<k.status)){if(c=b.fix(c,!0,a),f)var c=c.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(a,b,c){return/^([a-z]{3,10}:|#)/i.test(c)?a:/^\/\//.test(c)?'url("'+g+c+'")':/^\//.test(c)?'url("'+h+c+'")':/^\?/.test(c)?'url("'+i+c+'")':'url("'+f+c+'")'}),d=f.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1"),c=c.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+d,"gi"),"$1");d=document.createElement("style"),d.textContent=c,d.media=a.media,d.disabled=a.disabled,d.setAttribute("data-href",a.getAttribute("href")),j.insertBefore(d,a),j.removeChild(a),d.media=a.media}};try{k.open("GET",e),k.send(null)}catch(l){"undefined"!=typeof XDomainRequest&&(k=new XDomainRequest,k.onerror=k.onprogress=function(){},k.onload=d,k.open("GET",e),k.send(null))}a.setAttribute("data-inprogress","")},styleElement:function(a){if(!a.hasAttribute("data-noprefix")){var c=a.disabled;a.textContent=b.fix(a.textContent,!0,a),a.disabled=c}},styleAttribute:function(a){var c=a.getAttribute("style"),c=b.fix(c,!1,a);a.setAttribute("style",c)},process:function(){a('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),a("style").forEach(StyleFix.styleElement),a("[style]").forEach(StyleFix.styleAttribute)},register:function(a,c){(b.fixers=b.fixers||[]).splice(void 0===c?b.fixers.length:c,0,a)},fix:function(a,c,d){for(var e=0;e<b.fixers.length;e++)a=b.fixers[e](a,c,d)||a;return a},camelCase:function(a){return a.replace(/-([a-z])/g,function(a,b){return b.toUpperCase()}).replace("-","")},deCamelCase:function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})}};!function(){setTimeout(function(){a('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)}()}}(),function(a){function b(a,b,d,e,f){return a=c[a],a.length&&(a=RegExp(b+"("+a.join("|")+")"+d,"gi"),f=f.replace(a,e)),f}if(window.StyleFix&&window.getComputedStyle){var c=window.PrefixFree={prefixCSS:function(a,d,e){var f=c.prefix;if(-1<c.functions.indexOf("linear-gradient")&&(a=a.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(a,b,c,d){return b+(c||"")+"linear-gradient("+(90-d)+"deg"})),a=b("functions","(\\s|:|,)","\\s*\\(","$1"+f+"$2(",a),a=b("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+f+"$2$3",a),a=b("properties","(^|\\{|\\s|;)","\\s*:","$1"+f+"$2:",a),c.properties.length){var g=RegExp("\\b("+c.properties.join("|")+")(?!:)","gi");a=b("valueProperties","\\b",":(.+?);",function(a){return a.replace(g,f+"$1")},a)}return d&&(a=b("selectors","","\\b",c.prefixSelector,a),a=b("atrules","@","\\b","@"+f+"$1",a)),a=a.replace(RegExp("-"+f,"g"),"-"),a=a.replace(/-\*-(?=[a-z]+)/gi,c.prefix)},property:function(a){return(0<=c.properties.indexOf(a)?c.prefix:"")+a},value:function(a,d){return a=b("functions","(^|\\s|,)","\\s*\\(","$1"+c.prefix+"$2(",a),a=b("keywords","(^|\\s)","(\\s|$)","$1"+c.prefix+"$2$3",a),0<=c.valueProperties.indexOf(d)&&(a=b("properties","(^|\\s|,)","($|\\s|,)","$1"+c.prefix+"$2$3",a)),a},prefixSelector:function(a){return a.replace(/^:{1,2}/,function(a){return a+c.prefix})},prefixProperty:function(a,b){var d=c.prefix+a;return b?StyleFix.camelCase(d):d}};!function(){var a={},b=[],d=getComputedStyle(document.documentElement,null),e=document.createElement("div").style,f=function(c){if("-"===c.charAt(0)){b.push(c),c=c.split("-");var d=c[1];for(a[d]=++a[d]||1;3<c.length;)c.pop(),d=c.join("-"),StyleFix.camelCase(d)in e&&-1===b.indexOf(d)&&b.push(d)}};if(0<d.length)for(var g=0;g<d.length;g++)f(d[g]);else for(var h in d)f(StyleFix.deCamelCase(h));var i,j,g=0;for(j in a)d=a[j],d>g&&(i=j,g=d);for(c.prefix="-"+i+"-",c.Prefix=StyleFix.camelCase(c.prefix),c.properties=[],g=0;g<b.length;g++)h=b[g],0===h.indexOf(c.prefix)&&(i=h.slice(c.prefix.length),StyleFix.camelCase(i)in e||c.properties.push(i));!("Ms"!=c.Prefix||"transform"in e||"MsTransform"in e)&&"msTransform"in e&&c.properties.push("transform","transform-origin"),c.properties.sort()}(),function(){function a(a,b){return f[b]="",f[b]=a,!!f[b]}var b={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};b["repeating-linear-gradient"]=b["repeating-radial-gradient"]=b["radial-gradient"]=b["linear-gradient"];var d={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","max-content":"width","min-content":"width","fit-content":"width","fill-available":"width"};c.functions=[],c.keywords=[];var e,f=document.createElement("div").style;for(e in b){var g=b[e],h=g.property,g=e+"("+g.params+")";!a(g,h)&&a(c.prefix+g,h)&&c.functions.push(e)}for(var i in d)h=d[i],!a(i,h)&&a(c.prefix+i,h)&&c.keywords.push(i)}(),function(){function b(a){return g.textContent=a+"{}",!!g.sheet.cssRules.length}var d={":read-only":null,":read-write":null,":any-link":null,"::selection":null},e={keyframes:"name",viewport:null,document:'regexp(".")'};c.selectors=[],c.atrules=[];var f,g=a.appendChild(document.createElement("style"));for(f in d){var h=f+(d[f]?"("+d[f]+")":"");!b(h)&&b(c.prefixSelector(h))&&c.selectors.push(f)}for(var i in e)h=i+" "+(e[i]||""),!b("@"+h)&&b("@"+c.prefix+h)&&c.atrules.push(i);a.removeChild(g)}(),c.valueProperties=["transition","transition-property"],a.className+=" "+c.prefix,StyleFix.register(c.prefixCSS)}}(document.documentElement),define("prefix-free",function(a){return function(){var b;return b||a.PrefixFree}}(this)),define("helpers/cssPrefix",["require","helpers/utils","prefix-free"],function(a){"use strict";var b=a("helpers/utils"),c=a("prefix-free"),d={},e=function(a){var d=c.prefixCSS(a+":").replace(":","");return b.camelCaseAttr(d,!0)},f={camelCase:function(a){var b=d[a]||e(a);return d[a]=b,b},kebabCase:function(a){return c.prefix+a}};return f}),define("views/mixins/baseView",["require","lodash","backbone","react","helpers/keyManager","mixins/subscribable","mixins/shortEventable","views/mixins/stringable","helpers/cssPrefix","helpers/errorManager","helpers/utils"],function(a){"use strict";var b,c=a("lodash"),d=a("backbone"),e=a("react"),f=a("helpers/keyManager"),g=a("mixins/subscribable"),h=a("mixins/shortEventable"),i=a("views/mixins/stringable"),j=a("helpers/cssPrefix"),k=a("helpers/errorManager"),l=a("helpers/utils"),m=k.backtick,n=k.throwError("baseView"),o="Must specify a "+m("displayName"),p=function(a){return c.values(a.refs)},q={mixins:[d.Events,g,h,i],getInitialState:function(){return{isVisible:null!=this.initialVisibility?this.initialVisibility:!0}},componentWillMount:function(){this.displayName=this.constructor.displayName,this.displayName||n("baseView",o),this.template||(this.template=b.getTemplate(this.displayName)),this.cssTransform=j.camelCase("transform"),this.cssTransformOrigin=j.camelCase("transform-origin"),this.cssTransitionDuration=j.camelCase("transition-duration"),this.cssTransitionProperty=j.camelCase("transition-property")},componentDidMount:function(){this.el=e.findDOMNode(this),this.setOrRemoveTabManagement(!0)},componentWillUnmount:function(){this.stopListening(),this.setOrRemoveTabManagement(!1)},setOrRemoveTabManagement:function(a){if(!this.props.model||this.props.model.get&&this.props.model.get("tabEnabled")!==!1){var b=this.props.model&&this.props.model.get("tabIndex"),c=a===!0?"addItem":"removeItem";null!=b&&this.props.isInnard!==!0&&f[c](b,this),this.getTabbableItems&&this.getTabbableItems().forEach(function(a){f[c](a.idx,a.item,!0)})}},shouldComponentUpdate:function(a,b){return(!l.shallowEqual(this.props,a)||!l.shallowEqual(this.state,b))&&(this.shouldUpdate?this.shouldUpdate(a,b):!0)},htmlReady:function(a){window.requestAnimationFrame(a)},afterHtmlReady:function(a){this.htmlReady(function(){this.htmlReady(a)}.bind(this))},find:function(a){return this.el.querySelector(a)},findAll:function(a){return c.toArray(this.el.querySelectorAll(a))},findAllComponents:function(a){for(var b=0,d=p(this);b<d.length;)d.push.apply(d,p(d[b])),b++;return c.where(d,{displayName:a})},findComponent:function(a){for(var b,d=0,e=c.isString(a),f=p(this);(b=f[d])&&d<f.length;){if(e&&b.displayName===a||!e&&b===a)return b;f.push.apply(f,p(b)),d++}},render:function(){return this.beforeRender&&this.beforeRender(),this.template()},displayClass:function(){return this.isVisible()?"shown":"hidden"},toggleVisibility:function(a){return a=null==a?!this.isVisible():a,this.setState({isVisible:a}),this},isVisible:function(){return this.props.model&&this.props.model.isSlideObject?this.props.model.isGroupingSlideObject?!0:this.state.OnStage&&!this.state.HiddenByLayer:this.state.isVisible},isEnabled:function(){return this.enabledHook?this.enabledHook():this.getPlayerProp&&this.getPlayerProp("Enabled")===!0},getPath:function(a){return l.getPath(this,a)},setTemplateManager:function(a){b=a},getTemplateManager:function(){return b},hex:function(a){return l.hexify(a)},quotify:function(a){return l.quote(a)},gainFocus:function(a){this.isMounted()&&(c.isFunction(this.stealFocus)?this.stealFocus(a):(this.setState({tabFocused:!0}),this.el.focus())),this.setLayerScroll()},loseFocus:function(a){this.isMounted()&&(c.isFunction(this.releaseFocus)?this.releaseFocus(a):(this.setState({tabFocused:!1}),this.el.blur()))},onActionKey:function(a,b){c.isFunction(this.actionKeyCallback)&&this.actionKeyCallback(a,b)},onTreeKey:function(a,b,d){c.isFunction(this.treeKeyCallback)&&this.treeKeyCallback(a,b,d)},setLayerScroll:function(){c.isFunction(this.getLayer)&&(this.getLayer().scrollTop=0)}};return q.show=c.partial(q.toggleVisibility,!0),q.hide=c.partial(q.toggleVisibility,!1),q}),define("views/SvgLibrary",["require","lodash","helpers/utils","react","views/mixins/baseView"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("react"),e=a("views/mixins/baseView"),f=d.createClass({displayName:"SvgLibrary",mixins:[e],componentDidMount:function(){this.inlineCssRuleRefs()},inlineCssRuleRefs:function(){var a=document.createElement("style"),d=b.pluck(this.findAll("[id]"),"id"),e=new RegExp(d.join("|")),f=7,g=function(a){return a.type===f},h=function(a){return e.test(a.cssText)};return a.innerHTML=b(document.styleSheets).pluck("cssRules").map(b.values).flatten().filter(c.andify(c.not(g),h)).pluck("cssText").join("\n"),document.head.appendChild(a),this}});return f}),define("helpers/vow",["require","jquery","lodash","helpers/utils"],function(a){"use strict";var b=a("jquery"),c=a("lodash"),d=a("helpers/utils"),e={PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},f=function(a,b){return b.state()===a},g={Deferred:b.Deferred,when:b.when,after:function(){var a=new g.Deferred,b=d.slice(arguments),c=[],e=function(){return b.length===c.length},f=function(d){c.push(d),e()&&a.resolve.apply(a,b)};return b.length?b.forEach(function(a){a.always(function(){f(a)})}):a.resolve(),a.promise()},isPending:c.partial(f,e.PENDING),isResolved:c.partial(f,e.RESOLVED),isRejected:c.partial(f,e.REJECTED)};return g}),function(){function a(a,b){a.prototype[b]=function(){var a=arguments.length?"set":"get",c=e.call(arguments);return c.unshift(b),this[a].apply(this,c)}}var b=this,c=b.Backbone;c||"undefined"==typeof require||(c=require("backbone"));var d="shorthand",e=Array.prototype.slice;c.Model.shorthandify=function(b){if(b=b||this.prototype[d],!b)return this;"string"==typeof b&&(b=[b]);for(var c=0,e=b.length;e>c;c++)a(this,b[c]);return this},"undefined"!=typeof exports&&(exports.shorthandify=c.Model.shorthandify)}(),define("shorthand",["backbone"],function(){}),define("mixins/ancestral",["require","lodash"],function(a){"use strict";var b=a("lodash"),c=function(a,c){return b.contains(b.values(c.associations),a)},d={createParentReference:function(a){return a&&a.parent&&(this.parent=a.parent),this},getClosestAncestor:function(a,b){for(var c=b?this:this.parent;c&&!a(c);)c=c.parent;return c},getClosestAncestorWithAssoc:function(a){var d=b.partial(c,a);return this.getClosestAncestor(d)},getClosestAncestorByAttr:function(a,b){var c=function(c){return c.get(a)===b};return this.getClosestAncestor(c)}};return d.getClosestAncestorByKind=b.partial(d.getClosestAncestorByAttr,"kind"),d}),define("helpers/resolver",["require","lodash","helpers/errorManager","helpers/constants"],function(a){"use strict";var b,c=a("lodash"),d=a("helpers/errorManager"),e=a("helpers/constants"),f=d.throwError("resolver"),g=f("resolvePath"),h=f("getRef"),i=f("findReference"),j=/\$/,k=new RegExp("^"+e.refs.PLAYER),l=function(a,b){return c.has(b.resolvers,a)},m=function(a,b){return a.prop&&a.hasOwnPlayerProp(n(b))},n=function(a){return a.replace(j,"")},o=function(a){return j.test(a)},p=function(a){return a.split(e.PATH_DELIMITER)},q=function(a){return a.join(e.PATH_DELIMITER)},r=function(a){return!k.test(a)},s=function(a,b){var d;return c.find(a.resolveables,function(c){var e=a.get(c);return e?(d=e.isCollection?e.get(b):e.id===b?e:e[b],!d&&l(c,a)&&(d=a.resolvers[c].call(a,b,e)),d):!1},a),d},t={initialize:function(a){b=a},getPresentationContext:function(){return b},resolvePath:function(a,d,f){a||g("Must provide a path to resolve"),f=f||{},d&&c.isPlainObject(d)&&(f=d,d=void 0),c.isArray(a)||(a=p(a));var h=a.shift();switch(h){case e.refs.PLAYER:d=b;break;case e.refs.PARENT:d=d.getClosestParentRef();break;case e.refs.CHILDREN:d=d.getChildren();break;case e.refs.SELF:d=d.getClosestThisRef();break;default:d=t.findReference(h,d)}if(null==d){if(f.optional)return;g("Path did not resolve at:",h)}return a.length?c.isArray(d)?c(d).map(function(b){var c=a.slice();return t.resolvePath(c,b,{optional:!0})}).compact().value():t.resolvePath(a,d,f):d},findReference:function(a,b){a||i("Cannot find a reference with no ID"),b||i("Context must be defined.");var c;return b.isCollection&&b.get(a)?b.get(a):o(a)||m(b,a)?b.prop(n(a)):null!=b[a]?b[a]:(c=s(b,a),c?c:b.id===a?b:void 0)},getRef:function(a,b,d){a||h("No reference passed in");var e,f=a.type,g=a.value,i="num"===f||"number"===f?parseFloat:c.identity;switch(f||h("Type is undefined for the provided reference"),f){case"string":case"num":case"number":case"object":case"boolean":e=i(g);break;case"var":case"variable":e=this.resolvePath(g,b,{optional:!0}),e=null!=e?e.value():e;break;case"property":case"drawid":e=this.resolvePath(g,b,{optional:!0});break;case"param":e=this.getRef(d.params[g],b,d);break;case"valueref":e=this.getRef(c.findWhere(d.iterables,{name:g}),b,d);break;default:e=this.getRef(g,b)}return e}};return t.normalizePropRef=n,t.isPropRef=o,t.splitPath=p,t.joinPath=q,t.isRelativePath=r,t}),define("mixins/resolveable",["require","lodash","mixins/ancestral","helpers/resolver"],function(a){"use strict";var b=a("lodash"),c=a("mixins/ancestral"),d=a("helpers/resolver"),e=c.getClosestAncestor,f=function(a){return a.canResolveAsThis()},g=function(a){return a.canResolveAsParent()},h=function(a){return a.canBeEventTarget()},i={resolvePath:function(a){return d.resolvePath(a,this.getClosestThisRef())},getClosestParentRef:b.partial(e,g),getClosestThisRef:b.partial(e,f,!0),getClosestEventTarget:b.partial(e,h,!0),getChildren:function(){return this.objects().slice()}};return i}),define("mixins/assertable",["require","lodash","helpers/utils","helpers/errorManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("helpers/errorManager"),e=(d.throwError("assertable"),function(a){var c=b.isFunction(a.abilities)?a.abilities.call(a):a.abilities;a.abilities=b.mapValues(c,function(c){return b.isFunction(c)?c.bind(a):c})}),f=function(a){b.forOwn(a.abilities,function(d,e){var f="can"+c.upperCaseFirst(e);a[f]=b.partial(g.can,e)})},g={init:function(){return this.buildAbilities(),this},buildAbilities:function(){return e(this),f(this),this},can:function(a){return b.result(this.abilities,a)||!1}};return g}),define("models/BaseModel",["require","shorthand","backbone","lodash","helpers/errorManager","mixins/subscribable","mixins/resolveable","mixins/assertable","mixins/ancestral","mixins/shortEventable","helpers/mixer","helpers/utils"],function(a){"use strict";a("shorthand");var b=a("backbone"),c=a("lodash"),d=a("helpers/errorManager"),e=a("mixins/subscribable"),f=a("mixins/resolveable"),g=a("mixins/assertable"),h=a("mixins/ancestral"),i=a("mixins/shortEventable"),j=a("helpers/mixer"),k=a("helpers/utils"),l=d.throwError("BaseModel"),m=function(){},n=k.createSuper(b.Model),o=b.Model.extend({abilities:{resolveAsThis:!1,resolveAsParent:!1,beEventTarget:!1},mixins:[e,f,h,g,i],autoParse:!1,isModel:!0,constructor:function(a,d){c.bindAll(this,"createAbsoluteId");var e=this.initialize;this.initialize=m,this.autoParse&&(d=d||{},d.parse=!0),b.Model.call(this,a,d),this.createParentReference(d).buildAssociations().bindAssociations().createAbsoluteId(),j.initMixinsOf(this),this.initialize=e,this.initialize.apply(this,arguments),j.postInitMixinsOf(this)},index:function(){return this.collection||l("index","must have a `collection` defined"),this.collection.indexOf(this)},sibling:function(a){return this.collection||l("sibling","must have a `collection` defined"),a=a||0,this.collection.at(this.index()+a)},prevSibling:function(){return this.sibling(-1)},nextSibling:function(){return this.sibling(1)},toJSON:function(a){return k.isTrue(a)?k.cloneDeeply(this):n("toJSON").call(this)},buildAssociations:function(a){for(var b in this.associations)this.associations.hasOwnProperty(b)&&this.buildAssociation(b);return this},buildAssociation:function(a,b){var d,e,f=b||this.get(a),g={parent:this},h=this.associations[a];return e=c.isPlainObject(h.prototype)?h(f):h,d=c.partial(k.buildDataStructure,e,g),f instanceof e||this.set(a,d(f),{silent:!0}),this},bindAssociation:function(a){return this.on("change:"+a,function(b,d,e){var f=this.previous(a);c.isFunction(f.set)?(f.set(d,{parent:this}),f.trigger("data:updated"),f.isCollection&&f.invoke("trigger","data:updated"),this.set(a,f,{silent:!0})):this.buildAssociation(a,d)}),this},bindAssociations:function(){for(var a in this.associations)this.associations.hasOwnProperty(a)&&this.bindAssociation(a);return this},buildAbsoluteId:function(){if(!this.id)return null;for(var a=this,b=[this.id];a=a.parent;)a.id&&b.push(a.id);return b.reverse().join(".")},createAbsoluteId:function(){this.absoluteId=this.buildAbsoluteId(),this.on("data:updated",this.createAbsoluteId)},isType:function(a){return this.get("type")===a},isKind:function(a){return this.get("kind")===a}});o.addAssociation=function(a,b){this.prototype.associations.hasOwnProperty(a)||(this.prototype.associations[a]=b,this.shorthandify(a))};var p=o.extend;return o.extend=function(){var a=p.apply(this,arguments);return a.prototype.associations=c.extend({},a.prototype.associations,this.prototype.associations),a.shorthandify().shorthandify(c.keys(a.prototype.associations)),a},o}),define("helpers/appState",["require","lodash","helpers/constants","helpers/vow","models/BaseModel"],function(a){"use strict";var b=a("lodash"),c=a("helpers/constants"),d=a("helpers/vow"),e=a("models/BaseModel"),f=e.extend({shorthand:["currentLayout","currentScheme","currentVolume"],subscriptions:{"app:complete":"onAppComplete","controllayout:changed":"onLayoutChanged","scheme:changed":"onSchemeChanged","volume:changed":"onVolumeChanged"},initialize:function(){this.appCompleteDfd=new d.Deferred,this.onVolumeChanged(c.DEFAULT_VOLUME)},getAppCompletePromise:function(){return this.appCompleteDfd.promise()},onAppComplete:function(){this.appCompleteDfd.resolve()},unsetAttrs:function(){return this.set(b.toArray(arguments).reduce(function(a,b){return a[b]=null,a},{})),this},onLayoutChanged:function(a){this.currentLayout(a),this.trigger("layout:changed",this,a)},onSchemeChanged:function(a){this.currentScheme(a)},onVolumeChanged:function(a){this.currentVolume(a)}});return new f});var CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},e=d.Base=function(){function a(){}return{extend:function(b){a.prototype=this;var c=new a;return b&&c.mixIn(b),c.$super=this,c},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.$super.extend(this)}}}(),f=d.WordArray=e.extend({init:function(a,c){a=this.words=a||[],this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||h).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes,a=a.sigBytes;if(this.clamp(),d%4)for(var e=0;a>e;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;a>e;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-8*(c%4),b.length=a.ceil(c/4)},clone:function(){var a=e.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c=[],d=0;b>d;d+=4)c.push(4294967296*a.random()|0);return f.create(c,b)}}),g=c.enc={},h=g.Hex={stringify:function(a){for(var b=a.words,a=a.sigBytes,c=[],d=0;a>d;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16)),c.push((15&e).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return f.create(c,b/2)}},i=g.Latin1={stringify:function(a){for(var b=a.words,a=a.sigBytes,c=[],d=0;a>d;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-8*(d%4);return f.create(c,b)}},j=g.Utf8={stringify:function(a){try{return decodeURIComponent(escape(i.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data")}},parse:function(a){return i.parse(unescape(encodeURIComponent(a)))}},k=d.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=f.create(),this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=j.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,g=this.blockSize,h=e/(4*g),h=b?a.ceil(h):a.max((0|h)-this._minBufferSize,0),b=h*g,e=a.min(4*b,e);if(b){for(var i=0;b>i;i+=g)this._doProcessBlock(d,i);i=d.splice(0,b),c.sigBytes-=e}return f.create(i,e)},clone:function(){var a=e.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});d.Hasher=k.extend({init:function(){this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize(),this._hash},clone:function(){var a=k.clone.call(this);return a._hash=this._hash.clone(),a},blockSize:16,_createHelper:function(a){return function(b,c){return a.create(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return l.HMAC.create(a,c).finalize(b)}}});var l=c.algo={};return c}(Math);!function(){var a=CryptoJS,b=a.lib,c=b.WordArray,b=b.Hasher,d=[],e=a.algo.SHA1=b.extend({_doReset:function(){this._hash=c.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,b){for(var c=this._hash.words,e=c[0],f=c[1],g=c[2],h=c[3],i=c[4],j=0;80>j;j++){if(16>j)d[j]=0|a[b+j];else{var k=d[j-3]^d[j-8]^d[j-14]^d[j-16];d[j]=k<<1|k>>>31}k=(e<<5|e>>>27)+i+d[j],k=20>j?k+((f&g|~f&h)+1518500249):40>j?k+((f^g^h)+1859775393):60>j?k+((f&g|f&h|g&h)-1894007588):k+((f^g^h)-899497514),i=h,h=g,g=f<<30|f>>>2,f=e,e=k}c[0]=c[0]+e|0,c[1]=c[1]+f|0,c[2]=c[2]+g|0,c[3]=c[3]+h|0,c[4]=c[4]+i|0},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;b[d>>>5]|=128<<24-d%32,b[(d+64>>>9<<4)+15]=c,a.sigBytes=4*b.length,this._process()}});a.SHA1=b._createHelper(e),a.HmacSHA1=b._createHmacHelper(e)}(),function(){var a=CryptoJS,b=a.lib,c=b.WordArray,d=a.enc;d.Base64={stringify:function(a){var b=a.words,c=a.sigBytes,d=this._map;a.clamp();for(var e=[],f=0;c>f;f+=3)for(var g=b[f>>>2]>>>24-f%4*8&255,h=b[f+1>>>2]>>>24-(f+1)%4*8&255,i=b[f+2>>>2]>>>24-(f+2)%4*8&255,j=g<<16|h<<8|i,k=0;4>k&&c>f+.75*k;k++)e.push(d.charAt(j>>>6*(3-k)&63));var l=d.charAt(64);if(l)for(;e.length%4;)e.push(l);return e.join("")},parse:function(a){a=a.replace(/\s/g,"");var b=a.length,d=this._map,e=d.charAt(64);if(e){var f=a.indexOf(e);-1!=f&&(b=f)}for(var g=[],h=0,i=0;b>i;i++)if(i%4){var j=d.indexOf(a.charAt(i-1))<<i%4*2,k=d.indexOf(a.charAt(i))>>>6-i%4*2;g[h>>>2]|=(j|k)<<24-h%4*8,h++}return c.create(g,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}();var TinCan;!function(){"use strict";var a={statementId:!0,voidedStatementId:!0,verb:!0,object:!0,registration:!0,context:!0,actor:!0,since:!0,until:!0,limit:!0,authoritative:!0,sparse:!0,instructor:!0,ascending:!0,continueToken:!0,agent:!0,activityId:!0,stateId:!0,profileId:!0,activity_platform:!0,grouping:!0,"Accept-Language":!0};TinCan=function(a){this.log("constructor"),this.recordStores=[],this.actor=null,this.activity=null,this.registration=null,this.context=null,this.init(a)},TinCan.prototype={LOG_SRC:"TinCan",log:function(a,b){TinCan.DEBUG&&"undefined"!=typeof console&&console.log&&(b=b||this.LOG_SRC||"TinCan",console.log("TinCan."+b+": "+a))},init:function(a){this.log("init");var b;if(a=a||{},a.hasOwnProperty("url")&&""!==a.url&&this._initFromQueryString(a.url),a.hasOwnProperty("recordStores")&&void 0!==a.recordStores)for(b=0;b<a.recordStores.length;b+=1)this.addRecordStore(a.recordStores[b]);a.hasOwnProperty("activity")&&(a.activity instanceof TinCan.Activity?this.activity=a.activity:this.activity=new TinCan.Activity(a.activity)),a.hasOwnProperty("actor")&&(a.actor instanceof TinCan.Agent?this.actor=a.actor:this.actor=new TinCan.Agent(a.actor)),a.hasOwnProperty("context")&&(a.context instanceof TinCan.Context?this.context=a.context:this.context=new TinCan.Context(a.context)),a.hasOwnProperty("registration")&&(this.registration=a.registration)},_initFromQueryString:function(b){this.log("_initFromQueryString");var c,d,e,f=TinCan.Utils.parseURL(b).params,g=["endpoint","auth"],h={},i=null;if(f.hasOwnProperty("actor")){this.log("_initFromQueryString - found actor: "+f.actor);try{this.actor=TinCan.Agent.fromJSON(f.actor),delete f.actor}catch(j){this.log("_initFromQueryString - failed to set actor: "+j)}}if(f.hasOwnProperty("activity_id")&&(this.activity=new TinCan.Activity({id:f.activity_id}),delete f.activity_id),(f.hasOwnProperty("activity_platform")||f.hasOwnProperty("registration")||f.hasOwnProperty("grouping"))&&(e={},f.hasOwnProperty("activity_platform")&&(e.platform=f.activity_platform,delete f.activity_platform),f.hasOwnProperty("registration")&&(e.registration=this.registration=f.registration,delete f.registration),f.hasOwnProperty("grouping")&&(e.contextActivities={},e.contextActivities.grouping=f.grouping,delete f.grouping),this.context=new TinCan.Context(e)),f.hasOwnProperty("endpoint")){for(c=0;c<g.length;c+=1)d=g[c],f.hasOwnProperty(d)&&(h[d]=f[d],delete f[d]);for(c in f)f.hasOwnProperty(c)&&(a.hasOwnProperty(c)?delete f[c]:(i=i||{},i[c]=f[c]));null!==i&&(h.extended=i),h.allowFail=!1,this.addRecordStore(h)}},addRecordStore:function(a){this.log("addRecordStore");var b;b=a instanceof TinCan.LRS?a:new TinCan.LRS(a),this.recordStores.push(b)},prepareStatement:function(a){return this.log("prepareStatement"),a instanceof TinCan.Statement||(a=new TinCan.Statement(a)),
null===a.actor&&null!==this.actor&&(a.actor=this.actor),null===a.target&&null!==this.activity&&(a.target=this.activity),null!==this.context&&(null===a.context?a.context=this.context:(null===a.context.registration&&(a.context.registration=this.context.registration),null===a.context.platform&&(a.context.platform=this.context.platform),null!==this.context.contextActivities&&(null===a.context.contextActivities?a.context.contextActivities=this.context.contextActivities:(null!==this.context.contextActivities.grouping&&null===a.context.contextActivities.grouping&&(a.context.contextActivities.grouping=this.context.contextActivities.grouping),null!==this.context.contextActivities.parent&&null===a.context.contextActivities.parent&&(a.context.contextActivities.parent=this.context.contextActivities.parent),null!==this.context.contextActivities.other&&null===a.context.contextActivities.other&&(a.context.contextActivities.other=this.context.contextActivities.other))))),a},sendStatement:function(a,b){this.log("sendStatement");var c,d,e,f=this,g=this.prepareStatement(a),h=this.recordStores.length,i=[],j=[];if(h>0)for("function"==typeof b&&(e=function(a,c){var d;f.log("sendStatement - callbackWrapper: "+h),h>1?(h-=1,j.push({err:a,xhr:c})):1===h?(j.push({err:a,xhr:c}),d=[j,g],b.apply(this,d)):f.log("sendStatement - unexpected record store count: "+h)}),d=0;h>d;d+=1)c=this.recordStores[d],i.push(c.saveStatement(g,{callback:e}));else this.log("[warning] sendStatement: No LRSs added yet (statement not sent)"),"function"==typeof b&&b.apply(this,[null,g]);return{statement:g,results:i}},getStatement:function(a,b){this.log("getStatement");var c;return this.recordStores.length>0?(c=this.recordStores[0],c.retrieveStatement(a,{callback:b})):void this.log("[warning] getStatement: No LRSs added yet (statement not retrieved)")},voidStatement:function(a,b,c){this.log("voidStatement");var d,e,f,g,h,i=this,j=this.recordStores.length,k=[],l=[];if(a instanceof TinCan.Statement&&(a=a.id),"undefined"!=typeof c.actor?e=c.actor:null!==this.actor&&(e=this.actor),f=new TinCan.Statement({actor:e,verb:{id:"http://adlnet.gov/expapi/verbs/voided"},target:{objectType:"StatementRef",id:a}}),j>0)for("function"==typeof b&&(h=function(a,c){var d;i.log("voidStatement - callbackWrapper: "+j),j>1?(j-=1,l.push({err:a,xhr:c})):1===j?(l.push({err:a,xhr:c}),d=[l,f],b.apply(this,d)):i.log("voidStatement - unexpected record store count: "+j)}),g=0;j>g;g+=1)d=this.recordStores[g],k.push(d.saveStatement(f,{callback:h}));else this.log("[warning] voidStatement: No LRSs added yet (statement not sent)"),"function"==typeof b&&b.apply(this,[null,f]);return{statement:f,results:k}},getVoidedStatement:function(a,b){this.log("getVoidedStatement");var c;return this.recordStores.length>0?(c=this.recordStores[0],c.retrieveVoidedStatement(a,{callback:b})):void this.log("[warning] getVoidedStatement: No LRSs added yet (statement not retrieved)")},sendStatements:function(a,b){this.log("sendStatements");var c,d,e,f=this,g=[],h=this.recordStores.length,i=[],j=[];if(0===a.length)"function"==typeof b&&b.apply(this,[null,g]);else{for(d=0;d<a.length;d+=1)g.push(this.prepareStatement(a[d]));if(h>0)for("function"==typeof b&&(e=function(a,c){var d;f.log("sendStatements - callbackWrapper: "+h),h>1?(h-=1,j.push({err:a,xhr:c})):1===h?(j.push({err:a,xhr:c}),d=[j,g],b.apply(this,d)):f.log("sendStatements - unexpected record store count: "+h)}),d=0;h>d;d+=1)c=this.recordStores[d],i.push(c.saveStatements(g,{callback:e}));else this.log("[warning] sendStatements: No LRSs added yet (statements not sent)"),"function"==typeof b&&b.apply(this,[null,g])}return{statements:g,results:i}},getStatements:function(a){this.log("getStatements");var b,c,d={};return this.recordStores.length>0?(b=this.recordStores[0],a=a||{},c=a.params||{},a.sendActor&&null!==this.actor&&("0.9"===b.version||"0.95"===b.version?c.actor=this.actor:c.agent=this.actor),a.sendActivity&&null!==this.activity&&("0.9"===b.version||"0.95"===b.version?c.target=this.activity:c.activity=this.activity),"undefined"==typeof c.registration&&null!==this.registration&&(c.registration=this.registration),d={params:c},"undefined"!=typeof a.callback&&(d.callback=a.callback),b.queryStatements(d)):void this.log("[warning] getStatements: No LRSs added yet (statements not read)")},getState:function(a,b){this.log("getState");var c,d;return this.recordStores.length>0?(d=this.recordStores[0],b=b||{},c={agent:"undefined"!=typeof b.agent?b.agent:this.actor,activity:"undefined"!=typeof b.activity?b.activity:this.activity},"undefined"!=typeof b.registration?c.registration=b.registration:null!==this.registration&&(c.registration=this.registration),"undefined"!=typeof b.callback&&(c.callback=b.callback),d.retrieveState(a,c)):void this.log("[warning] getState: No LRSs added yet (state not retrieved)")},setState:function(a,b,c){this.log("setState");var d,e;return this.recordStores.length>0?(e=this.recordStores[0],c=c||{},d={agent:"undefined"!=typeof c.agent?c.agent:this.actor,activity:"undefined"!=typeof c.activity?c.activity:this.activity},"undefined"!=typeof c.registration?d.registration=c.registration:null!==this.registration&&(d.registration=this.registration),"undefined"!=typeof c.lastSHA1&&(d.lastSHA1=c.lastSHA1),"undefined"!=typeof c.contentType&&(d.contentType=c.contentType,"undefined"!=typeof c.overwriteJSON&&!c.overwriteJSON&&TinCan.Utils.isApplicationJSON(c.contentType)&&(d.method="POST")),"undefined"!=typeof c.callback&&(d.callback=c.callback),e.saveState(a,b,d)):void this.log("[warning] setState: No LRSs added yet (state not saved)")},deleteState:function(a,b){this.log("deleteState");var c,d;return this.recordStores.length>0?(d=this.recordStores[0],b=b||{},c={agent:"undefined"!=typeof b.agent?b.agent:this.actor,activity:"undefined"!=typeof b.activity?b.activity:this.activity},"undefined"!=typeof b.registration?c.registration=b.registration:null!==this.registration&&(c.registration=this.registration),"undefined"!=typeof b.callback&&(c.callback=b.callback),d.dropState(a,c)):void this.log("[warning] deleteState: No LRSs added yet (state not deleted)")},getActivityProfile:function(a,b){this.log("getActivityProfile");var c,d;return this.recordStores.length>0?(d=this.recordStores[0],b=b||{},c={activity:"undefined"!=typeof b.activity?b.activity:this.activity},"undefined"!=typeof b.callback&&(c.callback=b.callback),d.retrieveActivityProfile(a,c)):void this.log("[warning] getActivityProfile: No LRSs added yet (activity profile not retrieved)")},setActivityProfile:function(a,b,c){this.log("setActivityProfile");var d,e;return this.recordStores.length>0?(e=this.recordStores[0],c=c||{},d={activity:"undefined"!=typeof c.activity?c.activity:this.activity},"undefined"!=typeof c.callback&&(d.callback=c.callback),"undefined"!=typeof c.lastSHA1&&(d.lastSHA1=c.lastSHA1),"undefined"!=typeof c.contentType&&(d.contentType=c.contentType,"undefined"!=typeof c.overwriteJSON&&!c.overwriteJSON&&TinCan.Utils.isApplicationJSON(c.contentType)&&(d.method="POST")),e.saveActivityProfile(a,b,d)):void this.log("[warning] setActivityProfile: No LRSs added yet (activity profile not saved)")},deleteActivityProfile:function(a,b){this.log("deleteActivityProfile");var c,d;return this.recordStores.length>0?(d=this.recordStores[0],b=b||{},c={activity:"undefined"!=typeof b.activity?b.activity:this.activity},"undefined"!=typeof b.callback&&(c.callback=b.callback),d.dropActivityProfile(a,c)):void this.log("[warning] deleteActivityProfile: No LRSs added yet (activity profile not deleted)")},getAgentProfile:function(a,b){this.log("getAgentProfile");var c,d;return this.recordStores.length>0?(d=this.recordStores[0],b=b||{},c={agent:"undefined"!=typeof b.agent?b.agent:this.actor},"undefined"!=typeof b.callback&&(c.callback=b.callback),d.retrieveAgentProfile(a,c)):void this.log("[warning] getAgentProfile: No LRSs added yet (agent profile not retrieved)")},setAgentProfile:function(a,b,c){this.log("setAgentProfile");var d,e;return this.recordStores.length>0?(e=this.recordStores[0],c=c||{},d={agent:"undefined"!=typeof c.agent?c.agent:this.actor},"undefined"!=typeof c.callback&&(d.callback=c.callback),"undefined"!=typeof c.lastSHA1&&(d.lastSHA1=c.lastSHA1),"undefined"!=typeof c.contentType&&(d.contentType=c.contentType,"undefined"!=typeof c.overwriteJSON&&!c.overwriteJSON&&TinCan.Utils.isApplicationJSON(c.contentType)&&(d.method="POST")),e.saveAgentProfile(a,b,d)):void this.log("[warning] setAgentProfile: No LRSs added yet (agent profile not saved)")},deleteAgentProfile:function(a,b){this.log("deleteAgentProfile");var c,d;return this.recordStores.length>0?(d=this.recordStores[0],b=b||{},c={agent:"undefined"!=typeof b.agent?b.agent:this.actor},"undefined"!=typeof b.callback&&(c.callback=b.callback),d.dropAgentProfile(a,c)):void this.log("[warning] deleteAgentProfile: No LRSs added yet (agent profile not deleted)")}},TinCan.DEBUG=!1,TinCan.enableDebug=function(){TinCan.DEBUG=!0},TinCan.disableDebug=function(){TinCan.DEBUG=!1},TinCan.versions=function(){return["1.0.1","1.0.0","0.95","0.9"]},"object"==typeof module&&(module.exports=TinCan)}(),function(){"use strict";TinCan.Utils={getUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})},getISODateString:function(a){function b(a,b){var c,d;for(("undefined"==typeof a||null===a)&&(a=0),("undefined"==typeof b||null===b)&&(b=2),c=Math.pow(10,b-1),d=a.toString();c>a&&c>1;)d="0"+d,c/=10;return d}return a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"."+b(a.getUTCMilliseconds(),3)+"Z"},convertISO8601DurationToMilliseconds:function(a){var b,c,d,e,f=a.indexOf("-")>=0,g=a.indexOf("T"),h=a.indexOf("H"),i=a.indexOf("M"),j=a.indexOf("S");if(-1===g||-1!==i&&g>i||-1!==a.indexOf("D")||-1!==a.indexOf("Y"))throw new Error("ISO 8601 timestamps including years, months and/or days are not currently supported");return-1===h?(h=g,b=0):b=parseInt(a.slice(g+1,h),10),-1===i?(i=g,c=0):c=parseInt(a.slice(h+1,i),10),d=parseFloat(a.slice(i+1,j)),e=parseInt(1e3*(60*(60*b+c)+d),10),isNaN(e)&&(e=0),f&&(e=-1*e),e},convertMillisecondsToISO8601Duration:function(a){var b,c,d,e=parseInt(a,10),f="",g="";return 0>e&&(f="-",e=-1*e),b=parseInt(e/36e5,10),c=parseInt(e%36e5/6e4,10),d=e%36e5%6e4/1e3,g=f+"PT",b>0&&(g+=b+"H"),c>0&&(g+=c+"M"),g+=d+"S"},getSHA1String:function(a){return CryptoJS.SHA1(a).toString(CryptoJS.enc.Hex)},getBase64String:function(a){return CryptoJS.enc.Base64.stringify(CryptoJS.enc.Latin1.parse(a))},getLangDictionaryValue:function(a,b){var c,d=this[a];if("undefined"!=typeof b&&"undefined"!=typeof d[b])return d[b];if("undefined"!=typeof d.und)return d.und;if("undefined"!=typeof d["en-US"])return d["en-US"];for(c in d)if(d.hasOwnProperty(c))return d[c];return""},parseURL:function(a){var b,c,d,e,f=/\+/g,g=/([^&=]+)=?([^&]*)/g,h=function(a){return decodeURIComponent(a.replace(f," "))};if(b=new RegExp(["^(https?:)//","(([^:/?#]*)(?::([0-9]+))?)","(/[^?#]*)","(\\?[^#]*|)","(#.*|)$"].join("")),c=a.match(b),d={protocol:c[1],host:c[2],hostname:c[3],port:c[4],pathname:c[5],search:c[6],hash:c[7],params:{}},d.path=d.protocol+"//"+d.host+d.pathname,""!==d.search)for(;e=g.exec(d.search.substring(1));)d.params[h(e[1])]=h(e[2]);return d},getServerRoot:function(a){var b=a.split("/");return b[0]+"//"+b[2]},getContentTypeFromHeader:function(a){return String(a).split(";")[0]},isApplicationJSON:function(a){return 0===TinCan.Utils.getContentTypeFromHeader(a).toLowerCase().indexOf("application/json")}}}(),function(){"use strict";var a=TinCan.LRS=function(a){this.log("constructor"),this.endpoint=null,this.version=null,this.auth=null,this.allowFail=!0,this.extended=null,this.init(a)};a.prototype={LOG_SRC:"LRS",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=TinCan.versions(),d=!1;if(a=a||{},a.hasOwnProperty("alertOnRequestFailure")&&this.log("'alertOnRequestFailure' is deprecated (alerts have been removed) no need to set it now"),!a.hasOwnProperty("endpoint")||null===a.endpoint||""===a.endpoint)throw this.log("[error] LRS invalid: no endpoint"),{code:3,mesg:"LRS invalid: no endpoint"};if(this.endpoint=String(a.endpoint),"/"!==this.endpoint.slice(-1)&&(this.log("adding trailing slash to endpoint"),this.endpoint+="/"),a.hasOwnProperty("allowFail")&&(this.allowFail=a.allowFail),a.hasOwnProperty("auth")?this.auth=a.auth:a.hasOwnProperty("username")&&a.hasOwnProperty("password")&&(this.auth="Basic "+TinCan.Utils.getBase64String(a.username+":"+a.password)),a.hasOwnProperty("extended")&&(this.extended=a.extended),this._initByEnvironment(a),"undefined"!=typeof a.version){for(this.log("version: "+a.version),b=0;b<c.length;b+=1)if(c[b]===a.version){d=!0;break}if(!d)throw this.log("[error] LRS invalid: version not supported ("+a.version+")"),{code:5,mesg:"LRS invalid: version not supported ("+a.version+")"};this.version=a.version}else this.version=c[0]},_initByEnvironment:function(){this.log("_initByEnvironment not overloaded - no environment loaded?")},_makeRequest:function(){this.log("_makeRequest not overloaded - no environment loaded?")},_IEModeConversion:function(){this.log("_IEModeConversion not overloaded - browser environment not loaded.")},sendRequest:function(a){this.log("sendRequest");var b,c=this.endpoint+a.url,d={};if(0===a.url.indexOf("http")&&(c=a.url),null!==this.extended){a.params=a.params||{};for(b in this.extended)this.extended.hasOwnProperty(b)&&(a.params.hasOwnProperty(b)||null!==this.extended[b]&&(a.params[b]=this.extended[b]))}d.Authorization=this.auth,"0.9"!==this.version&&(d["X-Experience-API-Version"]=this.version);for(b in a.headers)a.headers.hasOwnProperty(b)&&(d[b]=a.headers[b]);return this._makeRequest(c,d,a)},about:function(a){this.log("about");var b,c,d;return a=a||{},b={url:"about",method:"GET",params:{}},"undefined"!=typeof a.callback&&(d=function(b,c){var d=c;null===b&&(d=TinCan.About.fromJSON(c.responseText)),a.callback(b,d)},b.callback=d),c=this.sendRequest(b),d?void 0:(null===c.err&&(c.xhr=TinCan.About.fromJSON(c.xhr.responseText)),c)},saveStatement:function(a,b){this.log("saveStatement");var c,d;b=b||{};try{d=a.asVersion(this.version)}catch(e){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+e),"undefined"!=typeof b.callback?void b.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+e),"undefined"!=typeof b.callback?void b.callback(e,null):{err:e,xhr:null})}return c={url:"statements",data:JSON.stringify(d),headers:{"Content-Type":"application/json"}},null!==a.id?(c.method="PUT",c.params={statementId:a.id}):c.method="POST","undefined"!=typeof b.callback&&(c.callback=b.callback),this.sendRequest(c)},retrieveStatement:function(a,b){this.log("retrieveStatement");var c,d,e;return b=b||{},c={url:"statements",method:"GET",params:{statementId:a}},"undefined"!=typeof b.callback&&(e=function(a,c){var d=c;null===a&&(d=TinCan.Statement.fromJSON(c.responseText)),b.callback(a,d)},c.callback=e),d=this.sendRequest(c),e||(d.statement=null,null===d.err&&(d.statement=TinCan.Statement.fromJSON(d.xhr.responseText))),d},retrieveVoidedStatement:function(a,b){this.log("retrieveVoidedStatement");var c,d,e;return b=b||{},c={url:"statements",method:"GET",params:{}},"0.9"===this.version||"0.95"===this.version?c.params.statementId=a:c.params.voidedStatementId=a,"undefined"!=typeof b.callback&&(e=function(a,c){var d=c;null===a&&(d=TinCan.Statement.fromJSON(c.responseText)),b.callback(a,d)},c.callback=e),d=this.sendRequest(c),e||(d.statement=null,null===d.err&&(d.statement=TinCan.Statement.fromJSON(d.xhr.responseText))),d},saveStatements:function(a,b){this.log("saveStatements");var c,d,e,f=[];if(b=b||{},0===a.length)return"undefined"!=typeof b.callback?void b.callback(new Error("no statements"),null):{err:new Error("no statements"),xhr:null};for(e=0;e<a.length;e+=1){try{d=a[e].asVersion(this.version)}catch(g){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+g),"undefined"!=typeof b.callback?void b.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+g),"undefined"!=typeof b.callback?void b.callback(g,null):{err:g,xhr:null})}f.push(d)}return c={url:"statements",method:"POST",data:JSON.stringify(f),headers:{"Content-Type":"application/json"}},"undefined"!=typeof b.callback&&(c.callback=b.callback),this.sendRequest(c)},queryStatements:function(a){this.log("queryStatements");var b,c,d;a=a||{},a.params=a.params||{};try{b=this._queryStatementsRequestCfg(a)}catch(e){return this.log("[error] Query statements failed - "+e),"undefined"!=typeof a.callback&&a.callback(e,{}),{err:e,statementsResult:null}}return"undefined"!=typeof a.callback&&(d=function(b,c){var d=c;null===b&&(d=TinCan.StatementsResult.fromJSON(c.responseText)),a.callback(b,d)},b.callback=d),c=this.sendRequest(b),c.config=b,d||(c.statementsResult=null,null===c.err&&(c.statementsResult=TinCan.StatementsResult.fromJSON(c.xhr.responseText))),c},_queryStatementsRequestCfg:function(a){this.log("_queryStatementsRequestCfg");var b,c,d={},e={url:"statements",method:"GET",params:d},f=["agent","actor","object","instructor"],g=["verb","activity"],h=["registration","context","since","until","limit","authoritative","sparse","ascending","related_activities","related_agents","format","attachments"],i={verb:!0,registration:!0,since:!0,until:!0,limit:!0,ascending:!0},j={.9:{supported:{actor:!0,instructor:!0,target:!0,object:!0,context:!0,authoritative:!0,sparse:!0}},"1.0.0":{supported:{agent:!0,activity:!0,related_activities:!0,related_agents:!0,format:!0,attachments:!0}}};j[.95]=j[.9],j["1.0.1"]=j["1.0.0"],a.params.hasOwnProperty("target")&&(a.params.object=a.params.target);for(c in a.params)if(a.params.hasOwnProperty(c)&&"undefined"==typeof i[c]&&"undefined"==typeof j[this.version].supported[c])throw"Unrecognized query parameter configured: "+c;for(b=0;b<f.length;b+=1)"undefined"!=typeof a.params[f[b]]&&(d[f[b]]=JSON.stringify(a.params[f[b]].asVersion(this.version)));for(b=0;b<g.length;b+=1)"undefined"!=typeof a.params[g[b]]&&(d[g[b]]=a.params[g[b]].id);for(b=0;b<h.length;b+=1)"undefined"!=typeof a.params[h[b]]&&(d[h[b]]=a.params[h[b]]);return e},moreStatements:function(a){this.log("moreStatements: "+a.url);var b,c,d,e,f;return a=a||{},e=TinCan.Utils.parseURL(a.url),f=TinCan.Utils.getServerRoot(this.endpoint),0===e.path.indexOf("/statements")&&(e.path=this.endpoint.replace(f,"")+e.path,this.log("converting non-standard more URL to "+e.path)),0!==e.path.indexOf("/")&&(e.path="/"+e.path),b={method:"GET",url:f+e.path,params:e.params},"undefined"!=typeof a.callback&&(d=function(b,c){var d=c;null===b&&(d=TinCan.StatementsResult.fromJSON(c.responseText)),a.callback(b,d)},b.callback=d),c=this.sendRequest(b),c.config=b,d||(c.statementsResult=null,null===c.err&&(c.statementsResult=TinCan.StatementsResult.fromJSON(c.xhr.responseText))),c},retrieveState:function(a,b){this.log("retrieveState");var c,d,e={},f={};if(e={stateId:a,activityId:b.activity.id},"0.9"===this.version?e.actor=JSON.stringify(b.agent.asVersion(this.version)):e.agent=JSON.stringify(b.agent.asVersion(this.version)),"undefined"!=typeof b.registration&&null!==b.registration&&("0.9"===this.version?e.registrationId=b.registration:e.registration=b.registration),f={url:"activities/state",method:"GET",params:e,ignore404:!0},"undefined"!=typeof b.callback&&(d=function(c,d){var e=d;if(null===c)if(404===d.status)e=null;else if(e=new TinCan.State({id:a,contents:d.responseText}),"undefined"!=typeof d.getResponseHeader&&null!==d.getResponseHeader("ETag")&&""!==d.getResponseHeader("ETag")?e.etag=d.getResponseHeader("ETag"):e.etag=TinCan.Utils.getSHA1String(d.responseText),"undefined"!=typeof d.contentType?e.contentType=d.contentType:"undefined"!=typeof d.getResponseHeader&&null!==d.getResponseHeader("Content-Type")&&""!==d.getResponseHeader("Content-Type")&&(e.contentType=d.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(e.contentType))try{e.contents=JSON.parse(e.contents)}catch(f){this.log("retrieveState - failed to deserialize JSON: "+f)}b.callback(c,e)},f.callback=d),c=this.sendRequest(f),!d&&(c.state=null,null===c.err&&404!==c.xhr.status&&(c.state=new TinCan.State({id:a,contents:c.xhr.responseText}),"undefined"!=typeof c.xhr.getResponseHeader&&null!==c.xhr.getResponseHeader("ETag")&&""!==c.xhr.getResponseHeader("ETag")?c.state.etag=c.xhr.getResponseHeader("ETag"):c.state.etag=TinCan.Utils.getSHA1String(c.xhr.responseText),"undefined"!=typeof c.xhr.contentType?c.state.contentType=c.xhr.contentType:"undefined"!=typeof c.xhr.getResponseHeader&&null!==c.xhr.getResponseHeader("Content-Type")&&""!==c.xhr.getResponseHeader("Content-Type")&&(c.state.contentType=c.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(c.state.contentType))))try{c.state.contents=JSON.parse(c.state.contents)}catch(g){this.log("retrieveState - failed to deserialize JSON: "+g)}return c},saveState:function(a,b,c){this.log("saveState");var d,e;return"undefined"==typeof c.contentType&&(c.contentType="application/octet-stream"),"object"==typeof b&&TinCan.Utils.isApplicationJSON(c.contentType)&&(b=JSON.stringify(b)),("undefined"==typeof c.method||"POST"!==c.method)&&(c.method="PUT"),d={stateId:a,activityId:c.activity.id},"0.9"===this.version?d.actor=JSON.stringify(c.agent.asVersion(this.version)):d.agent=JSON.stringify(c.agent.asVersion(this.version)),"undefined"!=typeof c.registration&&null!==c.registration&&("0.9"===this.version?d.registrationId=c.registration:d.registration=c.registration),e={url:"activities/state",method:c.method,params:d,data:b,headers:{"Content-Type":c.contentType}},"undefined"!=typeof c.callback&&(e.callback=c.callback),"undefined"!=typeof c.lastSHA1&&null!==c.lastSHA1&&(e.headers["If-Match"]=c.lastSHA1),this.sendRequest(e)},dropState:function(a,b){this.log("dropState");var c,d;return c={activityId:b.activity.id},"0.9"===this.version?c.actor=JSON.stringify(b.agent.asVersion(this.version)):c.agent=JSON.stringify(b.agent.asVersion(this.version)),null!==a&&(c.stateId=a),"undefined"!=typeof b.registration&&null!==b.registration&&("0.9"===this.version?c.registrationId=b.registration:c.registration=b.registration),d={url:"activities/state",method:"DELETE",params:c},"undefined"!=typeof b.callback&&(d.callback=b.callback),this.sendRequest(d)},retrieveActivityProfile:function(a,b){this.log("retrieveActivityProfile");var c,d,e={};if(e={url:"activities/profile",method:"GET",params:{profileId:a,activityId:b.activity.id},ignore404:!0},"undefined"!=typeof b.callback&&(d=function(c,d){var e=d;if(null===c)if(404===d.status)e=null;else if(e=new TinCan.ActivityProfile({id:a,activity:b.activity,contents:d.responseText}),"undefined"!=typeof d.getResponseHeader&&null!==d.getResponseHeader("ETag")&&""!==d.getResponseHeader("ETag")?e.etag=d.getResponseHeader("ETag"):e.etag=TinCan.Utils.getSHA1String(d.responseText),"undefined"!=typeof d.contentType?e.contentType=d.contentType:"undefined"!=typeof d.getResponseHeader&&null!==d.getResponseHeader("Content-Type")&&""!==d.getResponseHeader("Content-Type")&&(e.contentType=d.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(e.contentType))try{e.contents=JSON.parse(e.contents)}catch(f){this.log("retrieveActivityProfile - failed to deserialize JSON: "+f)}b.callback(c,e)},e.callback=d),c=this.sendRequest(e),!d&&(c.profile=null,null===c.err&&404!==c.xhr.status&&(c.profile=new TinCan.ActivityProfile({id:a,activity:b.activity,contents:c.xhr.responseText}),"undefined"!=typeof c.xhr.getResponseHeader&&null!==c.xhr.getResponseHeader("ETag")&&""!==c.xhr.getResponseHeader("ETag")?c.profile.etag=c.xhr.getResponseHeader("ETag"):c.profile.etag=TinCan.Utils.getSHA1String(c.xhr.responseText),"undefined"!=typeof c.xhr.contentType?c.profile.contentType=c.xhr.contentType:"undefined"!=typeof c.xhr.getResponseHeader&&null!==c.xhr.getResponseHeader("Content-Type")&&""!==c.xhr.getResponseHeader("Content-Type")&&(c.profile.contentType=c.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(c.profile.contentType))))try{c.profile.contents=JSON.parse(c.profile.contents)}catch(f){this.log("retrieveActivityProfile - failed to deserialize JSON: "+f)}return c},saveActivityProfile:function(a,b,c){this.log("saveActivityProfile");var d;return"undefined"==typeof c.contentType&&(c.contentType="application/octet-stream"),("undefined"==typeof c.method||"POST"!==c.method)&&(c.method="PUT"),"object"==typeof b&&TinCan.Utils.isApplicationJSON(c.contentType)&&(b=JSON.stringify(b)),d={url:"activities/profile",method:c.method,params:{profileId:a,activityId:c.activity.id},data:b,headers:{"Content-Type":c.contentType}},"undefined"!=typeof c.callback&&(d.callback=c.callback),"undefined"!=typeof c.lastSHA1&&null!==c.lastSHA1?d.headers["If-Match"]=c.lastSHA1:d.headers["If-None-Match"]="*",this.sendRequest(d)},dropActivityProfile:function(a,b){this.log("dropActivityProfile");var c,d;return c={profileId:a,activityId:b.activity.id},d={url:"activities/profile",method:"DELETE",params:c},"undefined"!=typeof b.callback&&(d.callback=b.callback),this.sendRequest(d)},retrieveAgentProfile:function(a,b){this.log("retrieveAgentProfile");var c,d,e={};if(e={method:"GET",params:{profileId:a},ignore404:!0},"0.9"===this.version?(e.url="actors/profile",e.params.actor=JSON.stringify(b.agent.asVersion(this.version))):(e.url="agents/profile",e.params.agent=JSON.stringify(b.agent.asVersion(this.version))),"undefined"!=typeof b.callback&&(d=function(c,d){var e=d;if(null===c)if(404===d.status)e=null;else if(e=new TinCan.AgentProfile({id:a,agent:b.agent,contents:d.responseText}),"undefined"!=typeof d.getResponseHeader&&null!==d.getResponseHeader("ETag")&&""!==d.getResponseHeader("ETag")?e.etag=d.getResponseHeader("ETag"):e.etag=TinCan.Utils.getSHA1String(d.responseText),"undefined"!=typeof d.contentType?e.contentType=d.contentType:"undefined"!=typeof d.getResponseHeader&&null!==d.getResponseHeader("Content-Type")&&""!==d.getResponseHeader("Content-Type")&&(e.contentType=d.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(e.contentType))try{e.contents=JSON.parse(e.contents)}catch(f){this.log("retrieveAgentProfile - failed to deserialize JSON: "+f)}b.callback(c,e)},e.callback=d),c=this.sendRequest(e),!d&&(c.profile=null,null===c.err&&404!==c.xhr.status&&(c.profile=new TinCan.AgentProfile({id:a,agent:b.agent,contents:c.xhr.responseText}),"undefined"!=typeof c.xhr.getResponseHeader&&null!==c.xhr.getResponseHeader("ETag")&&""!==c.xhr.getResponseHeader("ETag")?c.profile.etag=c.xhr.getResponseHeader("ETag"):c.profile.etag=TinCan.Utils.getSHA1String(c.xhr.responseText),"undefined"!=typeof c.xhr.contentType?c.profile.contentType=c.xhr.contentType:"undefined"!=typeof c.xhr.getResponseHeader&&null!==c.xhr.getResponseHeader("Content-Type")&&""!==c.xhr.getResponseHeader("Content-Type")&&(c.profile.contentType=c.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(c.profile.contentType))))try{c.profile.contents=JSON.parse(c.profile.contents)}catch(f){this.log("retrieveAgentProfile - failed to deserialize JSON: "+f)}return c},saveAgentProfile:function(a,b,c){this.log("saveAgentProfile");var d;return"undefined"==typeof c.contentType&&(c.contentType="application/octet-stream"),("undefined"==typeof c.method||"POST"!==c.method)&&(c.method="PUT"),"object"==typeof b&&TinCan.Utils.isApplicationJSON(c.contentType)&&(b=JSON.stringify(b)),d={method:c.method,params:{profileId:a},data:b,headers:{"Content-Type":c.contentType}},"0.9"===this.version?(d.url="actors/profile",d.params.actor=JSON.stringify(c.agent.asVersion(this.version))):(d.url="agents/profile",d.params.agent=JSON.stringify(c.agent.asVersion(this.version))),"undefined"!=typeof c.callback&&(d.callback=c.callback),"undefined"!=typeof c.lastSHA1&&null!==c.lastSHA1?d.headers["If-Match"]=c.lastSHA1:d.headers["If-None-Match"]="*",this.sendRequest(d)},dropAgentProfile:function(a,b){this.log("dropAgentProfile");var c,d;return c={profileId:a},d={method:"DELETE",params:c},"0.9"===this.version?(d.url="actors/profile",c.actor=JSON.stringify(b.agent.asVersion(this.version))):(d.url="agents/profile",c.agent=JSON.stringify(b.agent.asVersion(this.version))),"undefined"!=typeof b.callback&&(d.callback=b.callback),this.sendRequest(d)}},a.syncEnabled=null}(),function(){"use strict";var a=TinCan.AgentAccount=function(a){this.log("constructor"),this.homePage=null,this.name=null,this.init(a)};a.prototype={LOG_SRC:"AgentAccount",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["name","homePage"];for(a=a||{},"undefined"!=typeof a.accountServiceHomePage&&(a.homePage=a.accountServiceHomePage),"undefined"!=typeof a.accountName&&(a.name=a.accountName),b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]])},toString:function(){this.log("toString");var a="";return null!==this.name||null!==this.homePage?(a+=null!==this.name?this.name:"-",a+=":",a+=null!==this.homePage?this.homePage:"-"):a="AgentAccount: unidentified",a},asVersion:function(a){this.log("asVersion: "+a);var b={};return a=a||TinCan.versions()[0],"0.9"===a?(b.accountName=this.name,b.accountServiceHomePage=this.homePage):(b.name=this.name,b.homePage=this.homePage),b}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.Agent=function(a){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.degraded=!1,this.init(a)};a.prototype={objectType:"Agent",LOG_SRC:"Agent",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c,d=["name","mbox","mbox_sha1sum","openid"];for(a=a||{},"undefined"!=typeof a.lastName||"undefined"!=typeof a.firstName?(a.name="","undefined"!=typeof a.firstName&&a.firstName.length>0&&(a.name=a.firstName[0],a.firstName.length>1&&(this.degraded=!0)),""!==a.name&&(a.name+=" "),"undefined"!=typeof a.lastName&&a.lastName.length>0&&(a.name+=a.lastName[0],a.lastName.length>1&&(this.degraded=!0))):("undefined"!=typeof a.familyName||"undefined"!=typeof a.givenName)&&(a.name="","undefined"!=typeof a.givenName&&a.givenName.length>0&&(a.name=a.givenName[0],a.givenName.length>1&&(this.degraded=!0)),""!==a.name&&(a.name+=" "),"undefined"!=typeof a.familyName&&a.familyName.length>0&&(a.name+=a.familyName[0],a.familyName.length>1&&(this.degraded=!0))),"object"==typeof a.name&&null!==a.name&&(a.name.length>1&&(this.degraded=!0),a.name=a.name[0]),"object"==typeof a.mbox&&null!==a.mbox&&(a.mbox.length>1&&(this.degraded=!0),a.mbox=a.mbox[0]),"object"==typeof a.mbox_sha1sum&&null!==a.mbox_sha1sum&&(a.mbox_sha1sum.length>1&&(this.degraded=!0),a.mbox_sha1sum=a.mbox_sha1sum[0]),"object"==typeof a.openid&&null!==a.openid&&(a.openid.length>1&&(this.degraded=!0),a.openid=a.openid[0]),"object"==typeof a.account&&null!==a.account&&"undefined"==typeof a.account.homePage&&"undefined"==typeof a.account.name&&(0===a.account.length?delete a.account:(a.account.length>1&&(this.degraded=!0),a.account=a.account[0])),a.hasOwnProperty("account")&&(a.account instanceof TinCan.AgentAccount?this.account=a.account:this.account=new TinCan.AgentAccount(a.account)),b=0;b<d.length;b+=1)a.hasOwnProperty(d[b])&&null!==a[d[b]]&&(c=a[d[b]],"mbox"===d[b]&&-1===c.indexOf("mailto:")&&(c="mailto:"+c),this[d[b]]=c)},toString:function(){return this.log("toString"),null!==this.name?this.name:null!==this.mbox?this.mbox.replace("mailto:",""):null!==this.mbox_sha1sum?this.mbox_sha1sum:null!==this.openid?this.openid:null!==this.account?this.account.toString():this.objectType+": unidentified"},asVersion:function(a){this.log("asVersion: "+a);var b={objectType:this.objectType};return a=a||TinCan.versions()[0],"0.9"===a?(null!==this.mbox?b.mbox=[this.mbox]:null!==this.mbox_sha1sum?b.mbox_sha1sum=[this.mbox_sha1sum]:null!==this.openid?b.openid=[this.openid]:null!==this.account&&(b.account=[this.account.asVersion(a)]),
null!==this.name&&(b.name=[this.name])):(null!==this.mbox?b.mbox=this.mbox:null!==this.mbox_sha1sum?b.mbox_sha1sum=this.mbox_sha1sum:null!==this.openid?b.openid=this.openid:null!==this.account&&(b.account=this.account.asVersion(a)),null!==this.name&&(b.name=this.name)),b}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.Group=function(a){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.member=[],this.init(a)};a.prototype={objectType:"Group",LOG_SRC:"Group",log:TinCan.prototype.log,init:function(a){this.log("init");var b;if(a=a||{},TinCan.Agent.prototype.init.call(this,a),"undefined"!=typeof a.member)for(b=0;b<a.member.length;b+=1)a.member[b]instanceof TinCan.Agent?this.member.push(a.member[b]):this.member.push(new TinCan.Agent(a.member[b]))},toString:function(a){this.log("toString");var b=TinCan.Agent.prototype.toString.call(this,a);return b!==this.objectType+": unidentified"&&(b=this.objectType+": "+b),b},asVersion:function(a){this.log("asVersion: "+a);var b,c;if(a=a||TinCan.versions()[0],b=TinCan.Agent.prototype.asVersion.call(this,a),this.member.length>0)for(b.member=[],c=0;c<this.member.length;c+=1)b.member.push(this.member[c].asVersion(a));return b}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a={"http://adlnet.gov/expapi/verbs/experienced":"experienced","http://adlnet.gov/expapi/verbs/attended":"attended","http://adlnet.gov/expapi/verbs/attempted":"attempted","http://adlnet.gov/expapi/verbs/completed":"completed","http://adlnet.gov/expapi/verbs/passed":"passed","http://adlnet.gov/expapi/verbs/failed":"failed","http://adlnet.gov/expapi/verbs/answered":"answered","http://adlnet.gov/expapi/verbs/interacted":"interacted","http://adlnet.gov/expapi/verbs/imported":"imported","http://adlnet.gov/expapi/verbs/created":"created","http://adlnet.gov/expapi/verbs/shared":"shared","http://adlnet.gov/expapi/verbs/voided":"voided"},b=TinCan.Verb=function(a){this.log("constructor"),this.id=null,this.display=null,this.init(a)};b.prototype={LOG_SRC:"Verb",log:TinCan.prototype.log,init:function(b){this.log("init");var c,d,e=["id","display"];if("string"==typeof b){this.id=b,this.display={und:this.id};for(d in a)if(a.hasOwnProperty(d)&&a[d]===b){this.id=d;break}}else{for(b=b||{},c=0;c<e.length;c+=1)b.hasOwnProperty(e[c])&&null!==b[e[c]]&&(this[e[c]]=b[e[c]]);null===this.display&&"undefined"!=typeof a[this.id]&&(this.display={und:a[this.id]})}},toString:function(a){return this.log("toString"),null!==this.display?this.getLangDictionaryValue("display",a):this.id},asVersion:function(b){this.log("asVersion");var c;return b=b||TinCan.versions()[0],"0.9"===b?c=a[this.id]:(c={id:this.id},null!==this.display&&(c.display=this.display)),c},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},b.fromJSON=function(a){b.prototype.log("fromJSON");var c=JSON.parse(a);return new b(c)}}(),function(){"use strict";var a=TinCan.Result=function(a){this.log("constructor"),this.score=null,this.success=null,this.completion=null,this.duration=null,this.response=null,this.extensions=null,this.init(a)};a.prototype={LOG_SRC:"Result",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["completion","duration","extensions","response","success"];for(a=a||{},a.hasOwnProperty("score")&&null!==a.score&&(a.score instanceof TinCan.Score?this.score=a.score:this.score=new TinCan.Score(a.score)),b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]]);"Completed"===this.completion&&(this.completion=!0)},asVersion:function(a){this.log("asVersion");var b,c={},d=["success","duration","response","extensions"],e=["score"];for(a=a||TinCan.versions()[0],b=0;b<d.length;b+=1)null!==this[d[b]]&&(c[d[b]]=this[d[b]]);for(b=0;b<e.length;b+=1)null!==this[e[b]]&&(c[e[b]]=this[e[b]].asVersion(a));return null!==this.completion&&("0.9"===a?this.completion&&(c.completion="Completed"):c.completion=this.completion),c}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.Score=function(a){this.log("constructor"),this.scaled=null,this.raw=null,this.min=null,this.max=null,this.init(a)};a.prototype={LOG_SRC:"Score",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["scaled","raw","min","max"];for(a=a||{},b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]])},asVersion:function(a){this.log("asVersion");var b,c={},d=["scaled","raw","min","max"];for(a=a||TinCan.versions()[0],b=0;b<d.length;b+=1)null!==this[d[b]]&&(c[d[b]]=this[d[b]]);return c}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.InteractionComponent=function(a){this.log("constructor"),this.id=null,this.description=null,this.init(a)};a.prototype={LOG_SRC:"InteractionComponent",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["id","description"];for(a=a||{},b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]])},asVersion:function(a){this.log("asVersion");var b,c,d={id:this.id},e=["description"];for(a=a||TinCan.versions()[0],b=0;b<e.length;b+=1)c=e[b],null!==this[c]&&(d[c]=this[c]);return d},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a={"http://adlnet.gov/expapi/activities/course":"course","http://adlnet.gov/expapi/activities/module":"module","http://adlnet.gov/expapi/activities/meeting":"meeting","http://adlnet.gov/expapi/activities/media":"media","http://adlnet.gov/expapi/activities/performance":"performance","http://adlnet.gov/expapi/activities/simulation":"simulation","http://adlnet.gov/expapi/activities/assessment":"assessment","http://adlnet.gov/expapi/activities/interaction":"interaction","http://adlnet.gov/expapi/activities/cmi.interaction":"cmi.interaction","http://adlnet.gov/expapi/activities/question":"question","http://adlnet.gov/expapi/activities/objective":"objective","http://adlnet.gov/expapi/activities/link":"link"},b=TinCan.ActivityDefinition=function(a){this.log("constructor"),this.name=null,this.description=null,this.type=null,this.moreInfo=null,this.extensions=null,this.interactionType=null,this.correctResponsesPattern=null,this.choices=null,this.scale=null,this.source=null,this.target=null,this.steps=null,this.init(a)};b.prototype={LOG_SRC:"ActivityDefinition",log:TinCan.prototype.log,init:function(b){this.log("init");var c,d,e,f=["name","description","moreInfo","extensions","correctResponsesPattern"],g=[];if(b=b||{},b.hasOwnProperty("type")&&null!==b.type){for(e in a)a.hasOwnProperty(e)&&a[e]===b.type&&(b.type=a[e]);this.type=b.type}if(b.hasOwnProperty("interactionType")&&null!==b.interactionType&&(this.interactionType=b.interactionType,"choice"===b.interactionType||"sequencing"===b.interactionType?g.push("choices"):"likert"===b.interactionType?g.push("scale"):"matching"===b.interactionType?(g.push("source"),g.push("target")):"performance"===b.interactionType&&g.push("steps"),g.length>0))for(c=0;c<g.length;c+=1)if(e=g[c],b.hasOwnProperty(e)&&null!==b[e])for(this[e]=[],d=0;d<b[e].length;d+=1)b[e][d]instanceof TinCan.InteractionComponent?this[e].push(b[e][d]):this[e].push(new TinCan.InteractionComponent(b[e][d]));for(c=0;c<f.length;c+=1)b.hasOwnProperty(f[c])&&null!==b[f[c]]&&(this[f[c]]=b[f[c]])},toString:function(a){return this.log("toString"),null!==this.name?this.getLangDictionaryValue("name",a):null!==this.description?this.getLangDictionaryValue("description",a):""},asVersion:function(b){this.log("asVersion");var c,d,e,f={},g=["name","description","interactionType","correctResponsesPattern","extensions"],h=["choices","scale","source","target","steps"];for(b=b||TinCan.versions()[0],null!==this.type&&("0.9"===b?f.type=a[this.type]:f.type=this.type),c=0;c<g.length;c+=1)e=g[c],null!==this[e]&&(f[e]=this[e]);for(c=0;c<h.length;c+=1)if(e=h[c],null!==this[e])for(f[e]=[],d=0;d<this[e].length;d+=1)f[e].push(this[e][d].asVersion(b));return 0!==b.indexOf("0.9")&&null!==this.moreInfo&&(f.moreInfo=this.moreInfo),f},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},b.fromJSON=function(a){b.prototype.log("fromJSON");var c=JSON.parse(a);return new b(c)}}(),function(){"use strict";var a=TinCan.Activity=function(a){this.log("constructor"),this.objectType="Activity",this.id=null,this.definition=null,this.init(a)};a.prototype={LOG_SRC:"Activity",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["id"];for(a=a||{},a.hasOwnProperty("definition")&&(a.definition instanceof TinCan.ActivityDefinition?this.definition=a.definition:this.definition=new TinCan.ActivityDefinition(a.definition)),b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]])},toString:function(a){this.log("toString");var b="";return null!==this.definition&&(b=this.definition.toString(a),""!==b)?b:null!==this.id?this.id:"Activity: unidentified"},asVersion:function(a){this.log("asVersion");var b={id:this.id,objectType:this.objectType};return a=a||TinCan.versions()[0],null!==this.definition&&(b.definition=this.definition.asVersion(a)),b}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.ContextActivities=function(a){this.log("constructor"),this.category=null,this.parent=null,this.grouping=null,this.other=null,this.init(a)};a.prototype={LOG_SRC:"ContextActivities",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c,d,e,f=["category","parent","grouping","other"];for(a=a||{},b=0;b<f.length;b+=1)if(d=f[b],a.hasOwnProperty(d)&&null!==a[d])if("[object Array]"===Object.prototype.toString.call(a[d]))for(c=0;c<a[d].length;c+=1)this.add(d,a[d][c]);else e=a[d],this.add(d,e)},add:function(a,b){return"category"===a||"parent"===a||"grouping"===a||"other"===a?(null===this[a]&&(this[a]=[]),b instanceof TinCan.Activity||(b="string"==typeof b?{id:b}:b,b=new TinCan.Activity(b)),this[a].push(b),this[a].length-1):void 0},asVersion:function(a){this.log("asVersion");var b,c,d={},e=["parent","grouping","other"];for(a=a||TinCan.versions()[0],b=0;b<e.length;b+=1)if(null!==this[e[b]]&&this[e[b]].length>0)if("0.9"===a||"0.95"===a)this[e[b]].length>1&&this.log("[warning] version does not support multiple values in: "+e[b]),d[e[b]]=this[e[b]][0].asVersion(a);else for(d[e[b]]=[],c=0;c<this[e[b]].length;c+=1)d[e[b]].push(this[e[b]][c].asVersion(a));if(null!==this.category&&this.category.length>0){if("0.9"===a||"0.95"===a)throw this.log("[error] version does not support the 'category' property: "+a),new Error(a+" does not support the 'category' property");for(d.category=[],b=0;b<this.category.length;b+=1)d.category.push(this.category[b].asVersion(a))}return d}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.Context=function(a){this.log("constructor"),this.registration=null,this.instructor=null,this.team=null,this.contextActivities=null,this.revision=null,this.platform=null,this.language=null,this.statement=null,this.extensions=null,this.init(a)};a.prototype={LOG_SRC:"Context",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c,d,e=["registration","revision","platform","language","extensions"],f=["instructor","team"];for(a=a||{},b=0;b<e.length;b+=1)c=e[b],a.hasOwnProperty(c)&&null!==a[c]&&(this[c]=a[c]);for(b=0;b<f.length;b+=1)c=f[b],a.hasOwnProperty(c)&&null!==a[c]&&(d=a[c],("undefined"==typeof d.objectType||"Person"===d.objectType)&&(d.objectType="Agent"),"Agent"!==d.objectType||d instanceof TinCan.Agent?"Group"!==d.objectType||d instanceof TinCan.Group||(d=new TinCan.Group(d)):d=new TinCan.Agent(d),this[c]=d);a.hasOwnProperty("contextActivities")&&null!==a.contextActivities&&(a.contextActivities instanceof TinCan.ContextActivities?this.contextActivities=a.contextActivities:this.contextActivities=new TinCan.ContextActivities(a.contextActivities)),a.hasOwnProperty("statement")&&null!==a.statement&&(a.statement instanceof TinCan.StatementRef?this.statement=a.statement:a.statement instanceof TinCan.SubStatement?this.statement=a.statement:"StatementRef"===a.statement.objectType?this.statement=new TinCan.StatementRef(a.statement):"SubStatement"===a.statement.objectType?this.statement=new TinCan.SubStatement(a.statement):this.log("Unable to parse statement.context.statement property."))},asVersion:function(a){this.log("asVersion");var b,c={},d=["registration","revision","platform","language","extensions"],e=["instructor","team","contextActivities","statement"];if(a=a||TinCan.versions()[0],this.statement instanceof TinCan.SubStatement&&"0.9"!==a&&"0.95"!==a)throw this.log("[error] version does not support SubStatements in the 'statement' property: "+a),new Error(a+" does not support SubStatements in the 'statement' property");for(b=0;b<d.length;b+=1)null!==this[d[b]]&&(c[d[b]]=this[d[b]]);for(b=0;b<e.length;b+=1)null!==this[e[b]]&&(c[e[b]]=this[e[b]].asVersion(a));return c}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.StatementRef=function(a){this.log("constructor"),this.id=null,this.init(a)};a.prototype={objectType:"StatementRef",LOG_SRC:"StatementRef",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["id"];for(a=a||{},b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]])},toString:function(){return this.log("toString"),this.id},asVersion:function(a){this.log("asVersion");var b={objectType:this.objectType,id:this.id};return"0.9"===a&&(b.objectType="Statement"),b}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.SubStatement=function(a){this.log("constructor"),this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.init(a)};a.prototype={objectType:"SubStatement",LOG_SRC:"SubStatement",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["timestamp"];for(a=a||{},a.hasOwnProperty("object")&&(a.target=a.object),a.hasOwnProperty("actor")&&(("undefined"==typeof a.actor.objectType||"Person"===a.actor.objectType)&&(a.actor.objectType="Agent"),"Agent"===a.actor.objectType?a.actor instanceof TinCan.Agent?this.actor=a.actor:this.actor=new TinCan.Agent(a.actor):"Group"===a.actor.objectType&&(a.actor instanceof TinCan.Group?this.actor=a.actor:this.actor=new TinCan.Group(a.actor))),a.hasOwnProperty("verb")&&(a.verb instanceof TinCan.Verb?this.verb=a.verb:this.verb=new TinCan.Verb(a.verb)),a.hasOwnProperty("target")&&(a.target instanceof TinCan.Activity||a.target instanceof TinCan.Agent||a.target instanceof TinCan.Group||a.target instanceof TinCan.SubStatement||a.target instanceof TinCan.StatementRef?this.target=a.target:("undefined"==typeof a.target.objectType&&(a.target.objectType="Activity"),"Activity"===a.target.objectType?this.target=new TinCan.Activity(a.target):"Agent"===a.target.objectType?this.target=new TinCan.Agent(a.target):"Group"===a.target.objectType?this.target=new TinCan.Group(a.target):"SubStatement"===a.target.objectType?this.target=new TinCan.SubStatement(a.target):"StatementRef"===a.target.objectType?this.target=new TinCan.StatementRef(a.target):this.log("Unrecognized target type: "+a.target.objectType))),a.hasOwnProperty("result")&&(a.result instanceof TinCan.Result?this.result=a.result:this.result=new TinCan.Result(a.result)),a.hasOwnProperty("context")&&(a.context instanceof TinCan.Context?this.context=a.context:this.context=new TinCan.Context(a.context)),b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]])},toString:function(a){return this.log("toString"),(null!==this.actor?this.actor.toString(a):"")+" "+(null!==this.verb?this.verb.toString(a):"")+" "+(null!==this.target?this.target.toString(a):"")},asVersion:function(a){this.log("asVersion");var b,c,d=["timestamp"],e=["actor","verb","result","context"];for(b={objectType:this.objectType},a=a||TinCan.versions()[0],c=0;c<d.length;c+=1)null!==this[d[c]]&&(b[d[c]]=this[d[c]]);for(c=0;c<e.length;c+=1)null!==this[e[c]]&&(b[e[c]]=this[e[c]].asVersion(a));return null!==this.target&&(b.object=this.target.asVersion(a)),"0.9"===a&&(b.objectType="Statement"),b}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.Statement=function(a,b){this.log("constructor"),b="number"==typeof b?{storeOriginal:b}:b||{},"undefined"==typeof b.storeOriginal&&(b.storeOriginal=null),"undefined"==typeof b.doStamp&&(b.doStamp=!0),this.id=null,this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.stored=null,this.authority=null,this.version=null,this.degraded=!1,this.voided=null,this.inProgress=null,this.originalJSON=null,this.init(a,b)};a.prototype={LOG_SRC:"Statement",log:TinCan.prototype.log,init:function(a,b){this.log("init");var c,d=["id","stored","timestamp","version","inProgress","voided"];for(a=a||{},b.storeOriginal&&(this.originalJSON=JSON.stringify(a,null,b.storeOriginal)),a.hasOwnProperty("object")&&(a.target=a.object),a.hasOwnProperty("actor")&&(("undefined"==typeof a.actor.objectType||"Person"===a.actor.objectType)&&(a.actor.objectType="Agent"),"Agent"===a.actor.objectType?a.actor instanceof TinCan.Agent?this.actor=a.actor:this.actor=new TinCan.Agent(a.actor):"Group"===a.actor.objectType&&(a.actor instanceof TinCan.Group?this.actor=a.actor:this.actor=new TinCan.Group(a.actor))),a.hasOwnProperty("authority")&&(("undefined"==typeof a.authority.objectType||"Person"===a.authority.objectType)&&(a.authority.objectType="Agent"),"Agent"===a.authority.objectType?a.authority instanceof TinCan.Agent?this.authority=a.authority:this.authority=new TinCan.Agent(a.authority):"Group"===a.authority.objectType&&(a.actor instanceof TinCan.Group?this.authority=a.authority:this.authority=new TinCan.Group(a.authority))),a.hasOwnProperty("verb")&&(a.verb instanceof TinCan.Verb?this.verb=a.verb:this.verb=new TinCan.Verb(a.verb)),a.hasOwnProperty("target")&&(a.target instanceof TinCan.Activity||a.target instanceof TinCan.Agent||a.target instanceof TinCan.Group||a.target instanceof TinCan.SubStatement||a.target instanceof TinCan.StatementRef?this.target=a.target:("undefined"==typeof a.target.objectType&&(a.target.objectType="Activity"),"Activity"===a.target.objectType?this.target=new TinCan.Activity(a.target):"Agent"===a.target.objectType?this.target=new TinCan.Agent(a.target):"Group"===a.target.objectType?this.target=new TinCan.Group(a.target):"SubStatement"===a.target.objectType?this.target=new TinCan.SubStatement(a.target):"StatementRef"===a.target.objectType?this.target=new TinCan.StatementRef(a.target):this.log("Unrecognized target type: "+a.target.objectType))),a.hasOwnProperty("result")&&(a.result instanceof TinCan.Result?this.result=a.result:this.result=new TinCan.Result(a.result)),a.hasOwnProperty("context")&&(a.context instanceof TinCan.Context?this.context=a.context:this.context=new TinCan.Context(a.context)),c=0;c<d.length;c+=1)a.hasOwnProperty(d[c])&&null!==a[d[c]]&&(this[d[c]]=a[d[c]]);b.doStamp&&this.stamp()},toString:function(a){return this.log("toString"),(null!==this.actor?this.actor.toString(a):"")+" "+(null!==this.verb?this.verb.toString(a):"")+" "+(null!==this.target?this.target.toString(a):"")},asVersion:function(a){this.log("asVersion");var b,c={},d=["id","timestamp"],e=["actor","verb","result","context","authority"];for(a=a||TinCan.versions()[0],b=0;b<d.length;b+=1)null!==this[d[b]]&&(c[d[b]]=this[d[b]]);for(b=0;b<e.length;b+=1)null!==this[e[b]]&&(c[e[b]]=this[e[b]].asVersion(a));return null!==this.target&&(c.object=this.target.asVersion(a)),("0.9"===a||"0.95"===a)&&null!==this.voided&&(c.voided=this.voided),"0.9"===a&&null!==this.inProgress&&(c.inProgress=this.inProgress),c},stamp:function(){this.log("stamp"),null===this.id&&(this.id=TinCan.Utils.getUUID()),null===this.timestamp&&(this.timestamp=TinCan.Utils.getISODateString(new Date))}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.StatementsResult=function(a){this.log("constructor"),this.statements=null,this.more=null,this.init(a)};a.prototype={LOG_SRC:"StatementsResult",log:TinCan.prototype.log,init:function(a){this.log("init"),a=a||{},a.hasOwnProperty("statements")&&(this.statements=a.statements),a.hasOwnProperty("more")&&(this.more=a.more)}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c,d,e,f=[];try{c=JSON.parse(b)}catch(g){a.prototype.log("fromJSON - JSON.parse error: "+g)}if(c){for(e=0;e<c.statements.length;e+=1){try{d=new TinCan.Statement(c.statements[e],4)}catch(h){a.prototype.log("fromJSON - statement instantiation failed: "+h+" ("+JSON.stringify(c.statements[e])+")"),d=new TinCan.Statement({id:c.statements[e].id},4)}f.push(d)}c.statements=f}return new a(c)}}(),function(){"use strict";var a=TinCan.State=function(a){this.log("constructor"),this.id=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(a)};a.prototype={LOG_SRC:"State",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["id","contents","etag","contentType"];for(a=a||{},b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]]);this.updated=!1}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.ActivityProfile=function(a){this.log("constructor"),this.id=null,this.activity=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(a)};a.prototype={LOG_SRC:"ActivityProfile",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["id","contents","etag","contentType"];for(a=a||{},a.hasOwnProperty("activity")&&(a.activity instanceof TinCan.Activity?this.activity=a.activity:this.activity=new TinCan.Activity(a.activity)),b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]]);this.updated=!1}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.AgentProfile=function(a){this.log("constructor"),this.id=null,this.agent=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(a)};a.prototype={LOG_SRC:"AgentProfile",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["id","contents","etag","contentType"];for(a=a||{},a.hasOwnProperty("agent")&&(a.agent instanceof TinCan.Agent?this.agent=a.agent:this.agent=new TinCan.Agent(a.agent)),b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]]);this.updated=!1}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var a=TinCan.About=function(a){this.log("constructor"),this.version=null,this.init(a)};a.prototype={LOG_SRC:"About",log:TinCan.prototype.log,init:function(a){this.log("init");var b,c=["version"];for(a=a||{},b=0;b<c.length;b+=1)a.hasOwnProperty(c[b])&&null!==a[c[b]]&&(this[c[b]]=a[c[b]])}},a.fromJSON=function(b){a.prototype.log("fromJSON");var c=JSON.parse(b);return new a(c)}}(),function(){"use strict";var LOG_SRC="Environment.Browser",nativeRequest,xdrRequest,requestComplete,__delay,__IEModeConversion,env={},log=TinCan.prototype.log;return"undefined"==typeof window?void log("'window' not defined",LOG_SRC):(window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(a){var b,c,d="";if(a instanceof Object){if(a.constructor===Array){for(b=0;b<a.length;b+=1)d+=this.stringify(a[b])+",";return"["+d.substr(0,d.length-1)+"]"}if(a.toString!==Object.prototype.toString)return'"'+a.toString().replace(/"/g,"\\$&")+'"';for(c in a)a.hasOwnProperty(c)&&(d+='"'+c.replace(/"/g,"\\$&")+'":'+this.stringify(a[c])+",");return"{"+d.substr(0,d.length-1)+"}"}return"string"==typeof a?'"'+a.replace(/"/g,"\\$&")+'"':String(a)}}),Date.now||(Date.now=function(){return+new Date}),env.hasCORS=!1,env.useXDR=!1,"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof(new XMLHttpRequest).withCredentials?env.hasCORS=!0:"undefined"!=typeof XDomainRequest&&(env.hasCORS=!0,env.useXDR=!0),requestComplete=function(a,b,c){log("requestComplete: "+c.finished+", xhr.status: "+a.status,LOG_SRC);var d,e,f;return f="undefined"==typeof a.status?c.fakeStatus:1223===a.status?204:a.status,c.finished?d:(c.finished=!0,e=b.ignore404&&404===f,f>=200&&400>f||e?b.callback?void b.callback(null,a):d={err:null,xhr:a}:(d={err:f,xhr:a},0===f?log("[warning] There was a problem communicating with the Learning Record Store. Aborted, offline, or invalid CORS endpoint ("+f+")",LOG_SRC):log("[warning] There was a problem communicating with the Learning Record Store. ("+f+" | "+a.responseText+")",LOG_SRC),b.callback&&b.callback(f,a),d))},__IEModeConversion=function(a,b,c,d){var e;for(e in b)b.hasOwnProperty(e)&&c.push(e+"="+encodeURIComponent(b[e]));return"undefined"!=typeof d.data&&c.push("content="+encodeURIComponent(d.data)),b["Content-Type"]="application/x-www-form-urlencoded",a+="?method="+d.method,d.method="POST",d.params={},c.length>0&&(d.data=c.join("&")),a},nativeRequest=function(a,b,c){log("sendRequest using XMLHttpRequest",LOG_SRC);var d,e,f,g,h=this,i=[],j={finished:!1,fakeStatus:null},k="undefined"!=typeof c.callback,l=a,m=2048;log("sendRequest using XMLHttpRequest - async: "+k,LOG_SRC);for(e in c.params)c.params.hasOwnProperty(e)&&i.push(e+"="+encodeURIComponent(c.params[e]));if(i.length>0&&(l+="?"+i.join("&")),l.length>=m){if("undefined"!=typeof b["Content-Type"]&&"application/json"!==b["Content-Type"])return g=new Error("Unsupported content type for IE Mode request"),"undefined"!=typeof c.callback&&c.callback(g,null),{err:g,xhr:null};if("undefined"==typeof c.method)return g=new Error("method must not be undefined for an IE Mode Request conversion"),"undefined"!=typeof c.callback&&c.callback(g,null),{err:g,xhr:null};a=__IEModeConversion(a,b,i,c)}else a=l;d="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),d.open(c.method,a,k);for(e in b)b.hasOwnProperty(e)&&d.setRequestHeader(e,b[e]);"undefined"!=typeof c.data&&(c.data+=""),f=c.data,k&&(d.onreadystatechange=function(){log("xhr.onreadystatechange - xhr.readyState: "+d.readyState,LOG_SRC),4===d.readyState&&requestComplete.call(h,d,c,j)});try{d.send(f)}catch(n){log("sendRequest caught send exception: "+n,LOG_SRC)}return k?d:requestComplete.call(this,d,c,j)},xdrRequest=function(a,b,c){log("sendRequest using XDomainRequest",LOG_SRC);var d,e,f,g,h,i=this,j=[],k={finished:!1,fakeStatus:null};if("undefined"!=typeof b["Content-Type"]&&"application/json"!==b["Content-Type"])return h=new Error("Unsupported content type for IE Mode request"),c.callback?(c.callback(h,null),null):{err:h,xhr:null};a+="?method="+c.method;for(f in c.params)c.params.hasOwnProperty(f)&&j.push(f+"="+encodeURIComponent(c.params[f]));for(f in b)b.hasOwnProperty(f)&&j.push(f+"="+encodeURIComponent(b[f]));"undefined"!=typeof c.data&&j.push("content="+encodeURIComponent(c.data)),e=j.join("&"),d=new XDomainRequest,d.open("POST",a),c.callback?(d.onload=function(){k.fakeStatus=200,requestComplete.call(i,d,c,k)},d.onerror=function(){k.fakeStatus=400,requestComplete.call(i,d,c,k)},d.ontimeout=function(){k.fakeStatus=0,requestComplete.call(i,d,c,k)}):(d.onload=function(){k.fakeStatus=200},d.onerror=function(){k.fakeStatus=400},d.ontimeout=function(){k.fakeStatus=0}),d.onprogress=function(){},d.timeout=0;try{d.send(e)}catch(l){log("sendRequest caught send exception: "+l,LOG_SRC)}if(!c.callback){for(g=1e4+Date.now(),log("sendRequest - until: "+g+", finished: "+k.finished,LOG_SRC);Date.now()<g&&null===k.fakeStatus;)__delay();return requestComplete.call(i,d,c,k)}return d},TinCan.LRS.prototype._initByEnvironment=function(a){log("_initByEnvironment",LOG_SRC);var b,c,d,e;if(a=a||{},this._makeRequest=nativeRequest,this._IEModeConversion=__IEModeConversion,b=this.endpoint.toLowerCase().match(/([A-Za-z]+:)\/\/([^:\/]+):?(\d+)?(\/.*)?$/),null===b)throw log("[error] LRS invalid: failed to divide URL parts",LOG_SRC),{code:4,mesg:"LRS invalid: failed to divide URL parts"};if(d=location.port,c=location.protocol.toLowerCase()===b[1],""===d&&(d="http:"===location.protocol.toLowerCase()?"80":"https:"===location.protocol.toLowerCase()?"443":""),e=!c||location.hostname.toLowerCase()!==b[2]||d!==(null!==b[3]&&"undefined"!=typeof b[3]&&""!==b[3]?b[3]:"http:"===b[1]?"80":"https:"===b[1]?"443":""))if(env.hasCORS){if(env.useXDR&&c)this._makeRequest=xdrRequest;else if(env.useXDR&&!c){if(!a.allowFail)throw log("[error] LRS invalid: cross domain request for differing scheme in IE with XDR",LOG_SRC),{code:2,mesg:"LRS invalid: cross domain request for differing scheme in IE with XDR"};log("[warning] LRS invalid: cross domain request for differing scheme in IE with XDR (allowed to fail)",LOG_SRC)}}else{if(!a.allowFail)throw log("[error] LRS invalid: cross domain requests not supported in this browser",LOG_SRC),{code:1,mesg:"LRS invalid: cross domain requests not supported in this browser"};log("[warning] LRS invalid: cross domain requests not supported in this browser (allowed to fail)",LOG_SRC)}},__delay=function(){var a=new XMLHttpRequest,b=window.location+"?forcenocache="+TinCan.Utils.getUUID();a.open("GET",b,!1),a.send(null)},void(TinCan.LRS.syncEnabled=!0))}(),define("tincan",function(){}),define("helpers/external/tinCan",["require","lodash","helpers/vow","helpers/utils","tincan"],function(a){"use strict";var b=a("lodash"),c=a("helpers/vow"),d=a("helpers/utils"),e=(a("tincan"),window.TinCan),f=e.Utils.convertMillisecondsToISO8601Duration,g=e.Utils.getUUID,h="/",i="Activity",j="resume",k="choice",l="fill-in",m="matching",n="numeric",o="sequencing",p="likert",q="completed",r="passed",s="failed",t="attempted",u="experienced",v="answered",w="http://adlnet.gov/expapi/activities/course",x="http://adlnet.gov/expapi/activities/objective",y="http://adlnet.gov/expapi/activities/module",z="http://adlnet.gov/expapi/activities/cmi.interaction",A="[.]",B="[,]",C="und",D="http://",E=function(a){var b={id:a.id,description:{}};return b.description[C]=a.lmstext,b},F={};F[k]=F[o]=function(a,b){a.choices=b.choices().map(E)},F[m]=function(a,b){a.target=b.choices().map(E),a.source=b.statements().map(E)};var G={};G.likert=p,G.sequence=o,G.multiplechoice=G.truefalse=G.hotspot=G.wordbank=G.multipleresponse=k,G.numeric=n,G.fillin=l,G.matching=m;var H=function(a){return a===m||a===o||a===k},I={};I.multiplechoice=I.hotspot=I.wordbank=I.sequence=I.truefalse=I.multipleresponse=function(a){var b=a&&a.choiceResponse,c=null!=b?b:a;return d.stripChoice(c)},I.essay=I.fillin=I.numeric=b.identity,I.matching=function(a){return[d.stripStatement(a.statementResponse),d.stripChoice(a.choiceResponse)].join(A)};var J={queue:[],tinCan:null,resumer:null,scoring:null,version:0,setTotalSlides:b.noop,reportStatus:b.noop,initialize:function(a,b,c){if(window.globals.tinCanPresent){var f=d.queryStringToObj();return this.version=b,null!=f.activity_id&&(D=f.activity_id.replace(/\/$/,"")),this.scoring=c||{},this.tinCan=new e({url:window.location.toString()}),this}},setResumer:function(a){this.resumer=a},getItem:function(){this.resumeDfd=new c.Deferred;var a={callback:this.sendResumeReady.bind(this),overwriteJSON:!0};return this.tinCan.getState(j,a),this.resumeDfd.promise()},setItem:function(a,c){var d={callback:b.noop};this.tinCan.setState(j,c,d)},sendResumeReady:function(a,b){null==a&&this.resumeDfd.resolve(b&&b.contents)},courseStarted:function(a){var b=this.getStmtObj({type:w,name:this.scoring.get("lmstext"),description:this.scoring.get("description"),verb:this.getVerb(t)});a||(b.result={completion:!1}),this.queueStatement(b);
},quizComplete:function(a){var b=a.get("lmstext"),c=this.getStmtObj(a.id,{type:x,name:b,description:b,verb:this.getVerb(this.getCompletedVerb(a))});a.get("issurvey")||(c.result={score:{scaled:a.prop("PercentScore")/100,raw:a.prop("Score"),min:0,max:a.maxPoints},success:a.isPassed()}),this.queueStatement(c)},courseComplete:function(a,b){if(!b){var c=this.getStmtObj({type:w,name:a.get("lmstext"),description:a.get("description"),verb:this.getVerb(this.getCompletedVerb(a))}),d=a.isType("survey");c.result={duration:f(this.resumer.getCourseTime()),completion:!0},d||(c.result.score={scaled:a.getPercentScore()},c.result.success=a.isPassed()),this.queueStatement(c)}},viewedComplete:function(a){var b=this.getStmtObj({type:w,name:a.get("lmstext"),description:a.get("description"),verb:this.getVerb(q)}),c={};c[this.formatUri("viewcount")]=a.viewedSlides,b.result={completion:!0,duration:f(this.resumer.getCourseTime()),extensions:c},this.queueStatement(b)},slideViewed:function(a){var b=a.get("title"),c=this.getStmtObj(a.id,{type:y,name:b,description:b,verb:this.getVerb(u)});this.queueStatement(c)},interactionAnswered:function(a,b){var c=b.isType("likert")?"logLikert":"logQuestion";this[c](a,b)},logLikert:function(a,b){b.hasResponses()&&b.responses.forEach(function(c,e){var f=b.statements()[e].lmstext,g=d.stripStatement(c.statementResponse),h=[b.parent.id,b.id,g],i={scale:b.choices().map(E),interactionType:G.likert},j=this.getStmtObj(h,{type:z,name:f,description:f,verb:this.getVerb(v),parent:this.formatUri(a.id)});this.setDefinitions(j,i),j.result={response:d.stripChoice(c.choiceResponse)},this.queueStatement(j)}.bind(this))},logQuestion:function(a,c){if(c.hasResponses()){var d=c.get("lmstext"),e=c.type(),f=G[e],g=I[e],h=F[f]||b.noop,i={interactionType:f},j={response:c.responses.map(g).join(B)},k=[c.parent.id,c.id],l=this.getStmtObj(k,{type:z,name:d,description:d,verb:this.getVerb(v),parent:this.formatUri(a.id)});H(f)&&(i.correctResponsesPattern=[this.getCorrectResponses(c)]),h(i,c),this.setDefinitions(l,i),a.get("issurvey")||(j.success=c.isPassing(),j.score={raw:c.prop("Score")}),l.result=j,this.queueStatement(l)}},formatUri:function(){var a=b.compact(arguments),c=[D],d=this.version<1?".":h;return c.concat(a).join(d)},getCorrectResponses:function(a){var b=a.prop("CorrectResponse"),c=a.isType("sequence");return b.map(function(a){var b=a.id;return c?b=a.choice.id:a.choice&&a.statement&&(b=[a.statement.id,a.choice.id].join(A)),b}).join(B)},getVerb:function(a){var b=new e.Verb(a);return b.display["en-US"]=b.display.und,delete b.display.und,b},getCompletedVerb:function(a){return this.scoring.isType("survey")?q:a.isPassed()?r:s},setDefinitions:function(a,c){b.extend(a.object.definition,c)},getStmtObj:function(a,c){b.isPlainObject(a)&&(c=a,a=void 0);var d={name:{},description:{}};return d.name[C]=c.name||"",d.description[C]=c.description||"",d.type=c.type,b.isArray(a)||(a=[a]),{id:g(),object:{id:this.formatUri.apply(this,a),definition:d},context:{contextActivities:{grouping:[{id:this.formatUri(),objectType:"Activity"}],parent:[{id:c.parent||D,objectType:"Activity"}]}},verb:c.verb,objectType:i}},queueStatement:function(a){0===this.queue.length?this.sendStatement(a):this.queue.unshift(a)},popQueue:function(){this.queue.length>0&&this.sendStatement(this.queue.pop())},sendStatement:function(a){this.tinCan.sendStatement(a,this.popQueue.bind(this))}};return J}),define("external/Emitter",["require"],function(a){function b(a){return a?c(a):void 0}function c(a){for(var c in b.prototype)a[c]=b.prototype[c];return a}return b.prototype.on=b.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},b.prototype.once=function(a,b){function c(){d.off(a,c),b.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},c.fn=b,this.on(a,c),this},b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},b.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;e>d;++d)c[d].apply(this,b)}return this},b.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},b.prototype.hasListeners=function(a){return!!this.listeners(a).length},b}),define("external/superagent",["require","external/Emitter"],function(a){function b(){}function c(a){var b={}.toString.call(a);switch(b){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function d(a){return a===Object(a)}function e(a){if(!d(a))return a;var b=[];for(var c in a)null!=a[c]&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}function f(a){for(var b,c,d={},e=a.split("&"),f=0,g=e.length;g>f;++f)c=e[f],b=c.split("="),d[decodeURIComponent(b[0])]=decodeURIComponent(b[1]);return d}function g(a){var b,c,d,e,f=a.split(/\r?\n/),g={};f.pop();for(var h=0,i=f.length;i>h;++h)c=f[h],b=c.indexOf(":"),d=c.slice(0,b).toLowerCase(),e=p(c.slice(b+1)),g[d]=e;return g}function h(a){return a.split(/ *; */).shift()}function i(a){return n(a.split(/ *; */),function(a,b){var c=b.split(/ *= */),d=c.shift(),e=c.shift();return d&&e&&(a[d]=e),a},{})}function j(a,b){b=b||{},this.req=a,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=g(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function k(a,b){var c=this;m.call(this),this._query=this._query||[],this.method=a,this.url=b,this.header={},this._header={},this.on("end",function(){var a=null,b=null;try{b=new j(c)}catch(d){return a=new Error("Parser is unable to parse the response"),a.parse=!0,a.original=d,c.callback(a)}if(c.emit("response",b),a)return c.callback(a,b);if(b.status>=200&&b.status<300)return c.callback(a,b);var e=new Error(b.statusText||"Unsuccessful HTTP response");e.original=a,e.response=b,e.status=b.status,c.callback(a||e,b)})}function l(a,b){return"function"==typeof b?new k("GET",a).end(b):1==arguments.length?new k("GET",a):new k(a,b)}var m=a("external/Emitter"),n=function(a,b,c){for(var d=0,e=a.length,f=3==arguments.length?c:a[d++];e>d;)f=b.call(null,f,a[d],++d,a);return f},o="undefined"==typeof window?this||self:window;l.getXHR=function(){if(!(!o.XMLHttpRequest||o.location&&"file:"==o.location.protocol&&o.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}return!1};var p="".trim?function(a){return a.trim()}:function(a){return a.replace(/(^\s*|\s*$)/g,"")};return l.serializeObject=e,l.parseString=f,l.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},l.serialize={"application/x-www-form-urlencoded":e,"application/json":JSON.stringify},l.parse={"application/x-www-form-urlencoded":f,"application/json":JSON.parse},j.prototype.get=function(a){return this.header[a.toLowerCase()]},j.prototype.setHeaderProperties=function(a){var b=this.header["content-type"]||"";this.type=h(b);var c=i(b);for(var d in c)this[d]=c[d]},j.prototype.parseBody=function(a){var b=l.parse[this.type];return b&&a&&(a.length||a instanceof Object)?b(a):null},j.prototype.setStatusProperties=function(a){1223===a&&(a=204);var b=a/100|0;this.status=a,this.statusType=b,this.info=1==b,this.ok=2==b,this.clientError=4==b,this.serverError=5==b,this.error=4==b||5==b?this.toError():!1,this.accepted=202==a,this.noContent=204==a,this.badRequest=400==a,this.unauthorized=401==a,this.notAcceptable=406==a,this.notFound=404==a,this.forbidden=403==a},j.prototype.toError=function(){var a=this.req,b=a.method,c=a.url,d="cannot "+b+" "+c+" ("+this.status+")",e=new Error(d);return e.status=this.status,e.method=b,e.url=c,e},l.Response=j,m(k.prototype),k.prototype.use=function(a){return a(this),this},k.prototype.timeout=function(a){return this._timeout=a,this},k.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},k.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},k.prototype.set=function(a,b){if(d(a)){for(var c in a)this.set(c,a[c]);return this}return this._header[a.toLowerCase()]=b,this.header[a]=b,this},k.prototype.unset=function(a){return delete this._header[a.toLowerCase()],delete this.header[a],this},k.prototype.getHeader=function(a){return this._header[a.toLowerCase()]},k.prototype.type=function(a){return this.set("Content-Type",l.types[a]||a),this},k.prototype.accept=function(a){return this.set("Accept",l.types[a]||a),this},k.prototype.auth=function(a,b){var c=btoa(a+":"+b);return this.set("Authorization","Basic "+c),this},k.prototype.query=function(a){return"string"!=typeof a&&(a=e(a)),a&&this._query.push(a),this},k.prototype.field=function(a,b){return this._formData||(this._formData=new o.FormData),this._formData.append(a,b),this},k.prototype.attach=function(a,b,c){return this._formData||(this._formData=new o.FormData),this._formData.append(a,b,c),this},k.prototype.send=function(a){var b=d(a),e=this.getHeader("Content-Type");if(b&&d(this._data))for(var f in a)this._data[f]=a[f];else"string"==typeof a?(e||this.type("form"),e=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==e?this._data=this._data?this._data+"&"+a:a:this._data=(this._data||"")+a):this._data=a;return!b||c(a)?this:(e||this.type("json"),this)},k.prototype.callback=function(a,b){var c=this._callback;this.clearTimeout(),c(a,b)},k.prototype.crossDomainError=function(){var a=new Error("Origin is not allowed by Access-Control-Allow-Origin");a.crossDomain=!0,this.callback(a)},k.prototype.timeoutError=function(){var a=this._timeout,b=new Error("timeout of "+a+"ms exceeded");b.timeout=a,this.callback(b)},k.prototype.withCredentials=function(){return this._withCredentials=!0,this},k.prototype.end=function(a){var d=this,e=this.xhr=l.getXHR(),f=this._query.join("&"),g=this._timeout,h=this._formData||this._data;this._callback=a||b,e.onreadystatechange=function(){if(4==e.readyState){var a;try{a=e.status}catch(b){a=0}if(0==a){if(d.timedout)return d.timeoutError();if(d.aborted)return;return d.crossDomainError()}d.emit("end")}};var i=function(a){a.total>0&&(a.percent=a.loaded/a.total*100),d.emit("progress",a)};this.hasListeners("progress")&&(e.onprogress=i);try{e.upload&&this.hasListeners("progress")&&(e.upload.onprogress=i)}catch(j){}if(g&&!this._timer&&(this._timer=setTimeout(function(){d.timedout=!0,d.abort()},g)),f&&(f=l.serializeObject(f),this.url+=~this.url.indexOf("?")?"&"+f:"?"+f),e.open(this.method,this.url,!0),this._withCredentials&&(e.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof h&&!c(h)){var k=l.serialize[this.getHeader("Content-Type")];k&&(h=k(h))}for(var m in this.header)null!=this.header[m]&&e.setRequestHeader(m,this.header[m]);return this.emit("request",this),e.send(h),this},l.Request=k,l.get=function(a,b,c){var d=l("GET",a);return"function"==typeof b&&(c=b,b=null),b&&d.query(b),c&&d.end(c),d},l.head=function(a,b,c){var d=l("HEAD",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},l.del=function(a,b){var c=l("DELETE",a);return b&&c.end(b),c},l.patch=function(a,b,c){var d=l("PATCH",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},l.post=function(a,b,c){var d=l("POST",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},l.put=function(a,b,c){var d=l("PUT",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},l}),function(a){"use strict";var b=a.GreenSockGlobals||a;if(!b.TweenLite){var c,d,e,f,g,h=function(a){var c,d=a.split("."),e=b;for(c=0;d.length>c;c++)e[d[c]]=e=e[d[c]]||{};return e},i=h("com.greensock"),j=1e-10,k=[].slice,l=function(){},m=function(){var a=Object.prototype.toString,b=a.call([]);return function(c){return null!=c&&(c instanceof Array||"object"==typeof c&&!!c.push&&a.call(c)===b)}}(),n={},o=function(c,d,e,f){this.sc=n[c]?n[c].sc:[],n[c]=this,this.gsClass=null,this.func=e;var g=[];this.check=function(i){for(var j,k,l,m,p=d.length,q=p;--p>-1;)(j=n[d[p]]||new o(d[p],[])).gsClass?(g[p]=j.gsClass,q--):i&&j.sc.push(this);if(0===q&&e)for(k=("com.greensock."+c).split("."),l=k.pop(),m=h(k.join("."))[l]=this.gsClass=e.apply(e,g),f&&(b[l]=m,"function"==typeof define&&define.amd?define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+c.split(".").join("/"),[],function(){return m}):"undefined"!=typeof module&&module.exports&&(module.exports=m)),p=0;this.sc.length>p;p++)this.sc[p].check()},this.check(!0)},p=a._gsDefine=function(a,b,c,d){return new o(a,b,c,d)},q=i._class=function(a,b,c){return b=b||function(){},p(a,[],function(){return b},c),b};p.globals=b;var r=[0,0,1,1],s=[],t=q("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?r.concat(b):r},!0),u=t.map={},v=t.register=function(a,b,c,d){for(var e,f,g,h,j=b.split(","),k=j.length,l=(c||"easeIn,easeOut,easeInOut").split(",");--k>-1;)for(f=j[k],e=d?q("easing."+f,null,!0):i.easing[f]||{},g=l.length;--g>-1;)h=l[g],u[f+"."+h]=u[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(e=t.prototype,e._calcEnd=!1,e.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:.5>a?d/2:1-d/2},c=["Linear","Quad","Cubic","Quart","Quint,Strong"],d=c.length;--d>-1;)e=c[d]+",Power"+d,v(new t(null,null,1,d),e,"easeOut",!0),v(new t(null,null,2,d),e,"easeIn"+(0===d?",easeNone":"")),v(new t(null,null,3,d),e,"easeInOut");u.linear=i.easing.Linear.easeIn,u.swing=i.easing.Quad.easeInOut;var w=q("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});e=w.prototype,e.addEventListener=function(a,b,c,d,e){e=e||0;var h,i,j=this._listeners[a],k=0;for(null==j&&(this._listeners[a]=j=[]),i=j.length;--i>-1;)h=j[i],h.c===b&&h.s===c?j.splice(i,1):0===k&&e>h.pr&&(k=i+1);j.splice(k,0,{c:b,s:c,up:d,pr:e}),this!==f||g||f.wake()},e.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return void d.splice(c,1)},e.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,c=this._eventTarget;--b>-1;)d=e[b],d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c)};var x=a.requestAnimationFrame,y=a.cancelAnimationFrame,z=Date.now||function(){return(new Date).getTime()},A=z();for(c=["ms","moz","webkit","o"],d=c.length;--d>-1&&!x;)x=a[c[d]+"RequestAnimationFrame"],y=a[c[d]+"CancelAnimationFrame"]||a[c[d]+"CancelRequestAnimationFrame"];q("Ticker",function(a,b){var c,d,e,h,i,j=this,k=z(),m=b!==!1&&x,n=function(a){A=z(),j.time=(A-k)/1e3;var b,f=j.time-i;(!c||f>0||a===!0)&&(j.frame++,i+=f+(f>=h?.004:h-f),b=!0),a!==!0&&(e=d(n)),b&&j.dispatchEvent("tick")};w.call(j),j.time=j.frame=0,j.tick=function(){n(!0)},j.sleep=function(){null!=e&&(m&&y?y(e):clearTimeout(e),d=l,e=null,j===f&&(g=!1))},j.wake=function(){null!==e&&j.sleep(),d=0===c?l:m&&x?x:function(a){return setTimeout(a,0|1e3*(i-j.time)+1)},j===f&&(g=!0),n(2)},j.fps=function(a){return arguments.length?(c=a,h=1/(c||60),i=this.time+h,void j.wake()):c},j.useRAF=function(a){return arguments.length?(j.sleep(),m=a,void j.fps(c)):m},j.fps(a),setTimeout(function(){m&&(!e||5>j.frame)&&j.useRAF(!1)},1500)}),e=i.Ticker.prototype=new i.events.EventDispatcher,e.constructor=i.Ticker;var B=q("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=b.immediateRender===!0,this.data=b.data,this._reversed=b.reversed===!0,O){g||f.wake();var c=this.vars.useFrames?N:O;c.add(this,c._time),this.vars.paused&&this.paused(!0)}});f=B.ticker=new i.Ticker,e=B.prototype,e._dirty=e._gc=e._initted=e._paused=!1,e._totalTime=e._time=0,e._rawPrevTime=-1,e._next=e._last=e._onUpdate=e._timeline=e.timeline=null,e._paused=!1;var C=function(){g&&z()-A>2e3&&f.wake(),setTimeout(C,2e3)};C(),e.play=function(a,b){return null!=a&&this.seek(a,b),this.reversed(!1).paused(!1)},e.pause=function(a,b){return null!=a&&this.seek(a,b),this.paused(!0)},e.resume=function(a,b){return null!=a&&this.seek(a,b),this.paused(!1)},e.seek=function(a,b){return this.totalTime(Number(a),b!==!1)},e.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,b!==!1,!0)},e.reverse=function(a,b){return null!=a&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},e.render=function(){},e.invalidate=function(){return this},e.isActive=function(){var a,b=this._timeline,c=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime())>=c&&c+this.totalDuration()/this._timeScale>a},e._enabled=function(a,b){return g||f.wake(),this._gc=!a,this._active=this.isActive(),b!==!0&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},e._kill=function(){return this._enabled(!1,!1)},e.kill=function(a,b){return this._kill(a,b),this},e._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},e._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},e.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=m(c)&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},e.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},e.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},e.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},e.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},e.totalTime=function(a,b,c){if(g||f.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,e=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?d-a:a)/this._timeScale,e._dirty||this._uncache(!1),e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==a||0===this._duration)&&this.render(a,b,!1)}return this},e.progress=e.totalProgress=function(a,b){return arguments.length?this.totalTime(this.duration()*a,b):this._time/this.duration()},e.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},e.timeScale=function(a){if(!arguments.length)return this._timeScale;if(a=a||j,this._timeline&&this._timeline.smoothChildTiming){var b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime();this._startTime=c-(c-this._startTime)*this._timeScale/a}return this._timeScale=a,this._uncache(!1)},e.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},e.paused=function(a){if(!arguments.length)return this._paused;if(a!=this._paused&&this._timeline){g||a||f.wake();var b=this._timeline,c=b.rawTime(),d=c-this._pauseTime;!a&&b.smoothChildTiming&&(this._startTime+=d,this._uncache(!1)),this._pauseTime=a?c:null,this._paused=a,this._active=this.isActive(),!a&&0!==d&&this._initted&&this.duration()&&this.render(b.smoothChildTiming?this._totalTime:(c-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!a&&this._enabled(!0,!1),this};var D=q("core.SimpleTimeline",function(a){B.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});e=D.prototype=new B,e.constructor=D,e.kill()._gc=!1,e._first=e._last=null,e._sortChildren=!1,e.add=e.insert=function(a,b){var c,d;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),c=this._last,this._sortChildren)for(d=a._startTime;c&&c._startTime>d;)c=c._prev;return c?(a._next=c._next,c._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=c,this._timeline&&this._uncache(!0),this},e._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a.timeline=null,a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),this._timeline&&this._uncache(!0)),this},e.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},e.rawTime=function(){return g||f.wake(),this._totalTime};var E=q("TweenLite",function(b,c,d){if(B.call(this,c,d),this.render=E.prototype.render,null==b)throw"Cannot tween a null target.";this.target=b="string"!=typeof b?b:E.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?M[E.defaultOverwrite]:"number"==typeof i?i>>0:M[i],(h||b instanceof Array||b.push&&m(b))&&"number"!=typeof b[0])for(this._targets=g=k.call(b,0),this._propLookup=[],this._siblings=[],e=0;g.length>e;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(k.call(f,0))):(this._siblings[e]=P(f,this,!1),1===i&&this._siblings[e].length>1&&Q(f,this,null,1,this._siblings[e])):(f=g[e--]=E.selector(f),"string"==typeof f&&g.splice(e+1,1)):g.splice(e--,1);else this._propLookup={},this._siblings=P(b,this,!1),1===i&&this._siblings.length>1&&Q(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&this.vars.immediateRender!==!1)&&this.render(-this._delay,!1,!0)},!0),F=function(b){return b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},G=function(a,b){var c,d={};for(c in a)L[c]||c in b&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!I[c]||I[c]&&I[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};e=E.prototype=new B,e.constructor=E,e.kill()._gc=!1,e.ratio=0,e._firstPT=e._targets=e._overwrittenProps=e._startAt=null,e._notifyPluginsOfEnabled=!1,E.version="1.11.8",E.defaultEase=e._ease=new t(null,null,1,1),E.defaultOverwrite="auto",E.ticker=f,E.autoSleep=!0,E.selector=a.$||a.jQuery||function(b){return a.$?(E.selector=a.$,a.$(b)):a.document?a.document.getElementById("#"===b.charAt(0)?b.substr(1):b):b};var H=E._internals={isArray:m,isSelector:F},I=E._plugins={},J=E._tweenLookup={},K=0,L=H.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},M={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},N=B._rootFramesTimeline=new D,O=B._rootTimeline=new D;O._startTime=f.time,N._startTime=f.frame,O._active=N._active=!0,B._updateRoot=function(){if(O.render((f.time-O._startTime)*O._timeScale,!1,!1),N.render((f.frame-N._startTime)*N._timeScale,!1,!1),!(f.frame%120)){var a,b,c;for(c in J){for(b=J[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete J[c]}if(c=O._first,(!c||c._paused)&&E.autoSleep&&!N._first&&1===f._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||f.sleep()}}},f.addEventListener("tick",B._updateRoot);var P=function(a,b,c){var d,e,f=a._gsTweenID;if(J[f||(a._gsTweenID=f="t"+K++)]||(J[f]={target:a,tweens:[]}),b&&(d=J[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return J[f].tweens},Q=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;i>f;f++)if((h=e[f])!==b)h._gc||h._enabled(!1,!1)&&(g=!0);else if(5===d)break;return g}var k,l=b._startTime+j,m=[],n=0,o=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(k=k||R(b,0,o),0===R(h,k,o)&&(m[n++]=h)):l>=h._startTime&&h._startTime+h.totalDuration()/h._timeScale>l&&((o||!h._initted)&&2e-10>=l-h._startTime||(m[n++]=h)));for(f=n;--f>-1;)h=m[f],2===d&&h._kill(c,a)&&(g=!0),(2!==d||!h._firstPT&&h._initted)&&h._enabled(!1,!1)&&(g=!0);return g},R=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&2*j>f-b?j:(f+=a.totalDuration()/a._timeScale/e)>b+j?0:f-b-j};e._init=function(){var a,b,c,d,e=this.vars,f=this._overwrittenProps,g=this._duration,h=e.immediateRender,i=e.ease;if(e.startAt){if(this._startAt&&this._startAt.render(-1,!0),e.startAt.overwrite=0,e.startAt.immediateRender=!0,this._startAt=E.to(this.target,0,e.startAt),h)if(this._time>0)this._startAt=null;else if(0!==g)return}else if(e.runBackwards&&0!==g)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else{c={};for(d in e)L[d]&&"autoCSS"!==d||(c[d]=e[d]);if(c.overwrite=0,c.data="isFromStart",this._startAt=E.to(this.target,0,c),e.immediateRender){if(0===this._time)return}else this._startAt.render(-1,!0)}if(this._ease=i?i instanceof t?e.easeParams instanceof Array?i.config.apply(i,e.easeParams):i:"function"==typeof i?new t(i,e.easeParams):u[i]||E.defaultEase:E.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length;--a>-1;)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],f?f[a]:null)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,f);if(b&&E._onPluginEvent("_onInitAllProps",this),f&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),e.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=e.onUpdate,this._initted=!0},e._initProps=function(b,c,d,e){var f,g,h,i,j,k;if(null==b)return!1;this.vars.css||b.style&&b!==a&&b.nodeType&&I.css&&this.vars.autoCSS!==!1&&G(this.vars,b);for(f in this.vars){if(k=this.vars[f],L[f])k&&(k instanceof Array||k.push&&m(k))&&-1!==k.join("").indexOf("{self}")&&(this.vars[f]=k=this._swapSelfInParams(k,this));else if(I[f]&&(i=new I[f])._onInitTween(b,this.vars[f],this)){for(this._firstPT=j={_next:this._firstPT,t:i,p:"setRatio",s:0,c:1,f:!0,n:f,pg:!0,pr:i._priority},g=i._overwriteProps.length;--g>-1;)c[i._overwriteProps[g]]=this._firstPT;(i._priority||i._onInitAllProps)&&(h=!0),(i._onDisable||i._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=c[f]=j={_next:this._firstPT,t:b,p:f,f:"function"==typeof b[f],n:f,pg:!1,pr:0},j.s=j.f?b[f.indexOf("set")||"function"!=typeof b["get"+f.substr(3)]?f:"get"+f.substr(3)]():parseFloat(b[f]),j.c="string"==typeof k&&"="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*Number(k.substr(2)):Number(k)-j.s||0;j&&j._next&&(j._next._prev=j)}return e&&this._kill(e,b)?this._initProps(b,c,d,e):this._overwrite>1&&this._firstPT&&d.length>1&&Q(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e)):h},e.render=function(a,b,c){var d,e,f,g,h=this._time,i=this._duration;if(a>=i)this._totalTime=this._time=i,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete"),0===i&&(g=this._rawPrevTime,this._startTime===this._timeline._duration&&(a=0),(0===a||0>g||g===j)&&g!==a&&(c=!0,g>j&&(e="onReverseComplete")),this._rawPrevTime=g=!b||a||this._rawPrevTime===a?a:j);else if(1e-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==h||0===i&&this._rawPrevTime>0&&this._rawPrevTime!==j)&&(e="onReverseComplete",d=this._reversed),0>a?(this._active=!1,0===i&&(this._rawPrevTime>=0&&(c=!0),this._rawPrevTime=g=!b||a||this._rawPrevTime===a?a:j)):this._initted||(c=!0);else if(this._totalTime=this._time=a,this._easeType){var k=a/i,l=this._easeType,m=this._easePower;(1===l||3===l&&k>=.5)&&(k=1-k),3===l&&(k*=2),1===m?k*=k:2===m?k*=k*k:3===m?k*=k*k*k:4===m&&(k*=k*k*k*k),this.ratio=1===l?1-k:2===l?k:.5>a/i?k/2:1-k/2}else this.ratio=this._ease.getRatio(a/i);if(this._time!==h||c){if(!this._initted){if(this._init(),!this._initted||this._gc)return;this._time&&!d?this.ratio=this._ease.getRatio(this._time/i):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==h&&a>=0&&(this._active=!0),0===h&&(this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._time||0===i)&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||s))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&this._startTime&&this._startAt.render(a,b,c),b||(this._time!==h||d)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s)),e&&(this._gc||(0>a&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this.vars[e].apply(this.vars[e+"Scope"]||this,this.vars[e+"Params"]||s),0===i&&this._rawPrevTime===j&&g!==j&&(this._rawPrevTime=0)))}},e._kill=function(a,b){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:E.selector(b)||b;var c,d,e,f,g,h,i,j;if((m(b)||F(b))&&"number"!=typeof b[0])for(c=b.length;--c>-1;)this._kill(a,b[c])&&(h=!0);else{if(this._targets){for(c=this._targets.length;--c>-1;)if(b===this._targets[c]){g=this._propLookup[c]||{},this._overwrittenProps=this._overwrittenProps||[],d=this._overwrittenProps[c]=a?this._overwrittenProps[c]||{}:"all";break}}else{if(b!==this.target)return!1;g=this._propLookup,d=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(g){i=a||g,j=a!==d&&"all"!==d&&a!==g&&("object"!=typeof a||!a._tempKill);for(e in i)(f=g[e])&&(f.pg&&f.t._kill(i)&&(h=!0),f.pg&&0!==f.t._overwriteProps.length||(f._prev?f._prev._next=f._next:f===this._firstPT&&(this._firstPT=f._next),f._next&&(f._next._prev=f._prev),f._next=f._prev=null),
delete g[e]),j&&(d[e]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},e.invalidate=function(){return this._notifyPluginsOfEnabled&&E._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},e._enabled=function(a,b){if(g||f.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=P(d[c],this,!0);else this._siblings=P(this.target,this,!0)}return B.prototype._enabled.call(this,a,b),this._notifyPluginsOfEnabled&&this._firstPT?E._onPluginEvent(a?"_onEnable":"_onDisable",this):!1},E.to=function(a,b,c){return new E(a,b,c)},E.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new E(a,b,c)},E.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new E(a,b,d)},E.delayedCall=function(a,b,c,d,e){return new E(b,0,{delay:a,onComplete:b,onCompleteParams:c,onCompleteScope:d,onReverseComplete:b,onReverseCompleteParams:c,onReverseCompleteScope:d,immediateRender:!1,useFrames:e,overwrite:0})},E.set=function(a,b){return new E(a,0,b)},E.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:E.selector(a)||a;var c,d,e,f;if((m(a)||F(a))&&"number"!=typeof a[0]){for(c=a.length,d=[];--c>-1;)d=d.concat(E.getTweensOf(a[c],b));for(c=d.length;--c>-1;)for(f=d[c],e=c;--e>-1;)f===d[e]&&d.splice(c,1)}else for(d=P(a).concat(),c=d.length;--c>-1;)(d[c]._gc||b&&!d[c].isActive())&&d.splice(c,1);return d},E.killTweensOf=E.killDelayedCallsTo=function(a,b,c){"object"==typeof b&&(c=b,b=!1);for(var d=E.getTweensOf(a,b),e=d.length;--e>-1;)d[e]._kill(c,a)};var S=q("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=S.prototype},!0);if(e=S.prototype,S.version="1.10.1",S.API=2,e._firstPT=null,e._addTween=function(a,b,c,d,e,f){var g,h;return null!=d&&(g="number"==typeof d||"="!==d.charAt(1)?Number(d)-c:parseInt(d.charAt(0)+"1",10)*Number(d.substr(2)))?(this._firstPT=h={_next:this._firstPT,t:a,p:b,s:c,c:g,f:"function"==typeof a[b],n:e||b,r:f},h._next&&(h._next._prev=h),h):void 0},e.setRatio=function(a){for(var b,c=this._firstPT,d=1e-6;c;)b=c.c*a+c.s,c.r?b=Math.round(b):d>b&&b>-d&&(b=0),c.f?c.t[c.p](b):c.t[c.p]=b,c=c._next},e._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},e._roundProps=function(a,b){for(var c=this._firstPT;c;)(a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")])&&(c.r=b),c=c._next},E._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},S.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===S.API&&(I[(new a[b])._propName]=a[b]);return!0},p.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},g=q("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){S.call(this,c,d),this._overwriteProps=e||[]},a.global===!0),h=g.prototype=new S(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,S.activate([g]),g},c=a._gsQueue){for(d=0;c.length>d;d++)c[d]();for(e in n)n[e].func||a.console.log("GSAP encountered missing dependency: com.greensock."+e)}g=!1}}(window),define("tween-lite",function(a){return function(){var b;return b||a.TweenLite}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("easing.Back",["easing.Ease"],function(a){var b,c,d,e=window.GreenSockGlobals||window,f=e.com.greensock,g=2*Math.PI,h=Math.PI/2,i=f._class,j=function(b,c){var d=i("easing."+b,function(){},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,d},k=a.register||function(){},l=function(a,b,c,d){var e=i("easing."+a,{easeOut:new b,easeIn:new c,easeInOut:new d},!0);return k(e,a),e},m=function(a,b,c){this.t=a,this.v=b,c&&(this.next=c,c.prev=this,this.c=c.v-b,this.gap=c.t-a)},n=function(b,c){var d=i("easing."+b,function(a){this._p1=a||0===a?a:1.70158,this._p2=1.525*this._p1},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,e.config=function(a){return new d(a)},d},o=l("Back",n("BackOut",function(a){return(a-=1)*a*((this._p1+1)*a+this._p1)+1}),n("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),n("BackInOut",function(a){return 1>(a*=2)?.5*a*a*((this._p2+1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),p=i("easing.SlowMo",function(a,b,c){b=b||0===b?b:.7,null==a?a=.7:a>1&&(a=1),this._p=1!==a?b:0,this._p1=(1-a)/2,this._p2=a,this._p3=this._p1+this._p2,this._calcEnd=c===!0},!0),q=p.prototype=new a;return q.constructor=p,q.getRatio=function(a){var b=a+(.5-a)*this._p;return this._p1>a?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?1:b},p.ease=new p(.7,.7),q.config=p.config=function(a,b,c){return new p(a,b,c)},b=i("easing.SteppedEase",function(a){a=a||1,this._p1=1/a,this._p2=a+1},!0),q=b.prototype=new a,q.constructor=b,q.getRatio=function(a){return 0>a?a=0:a>=1&&(a=.999999999),(this._p2*a>>0)*this._p1},q.config=b.config=function(a){return new b(a)},c=i("easing.RoughEase",function(b){b=b||{};for(var c,d,e,f,g,h,i=b.taper||"none",j=[],k=0,l=0|(b.points||20),n=l,o=b.randomize!==!1,p=b.clamp===!0,q=b.template instanceof a?b.template:null,r="number"==typeof b.strength?.4*b.strength:.4;--n>-1;)c=o?Math.random():1/l*n,d=q?q.getRatio(c):c,"none"===i?e=r:"out"===i?(f=1-c,e=f*f*r):"in"===i?e=c*c*r:.5>c?(f=2*c,e=.5*f*f*r):(f=2*(1-c),e=.5*f*f*r),o?d+=Math.random()*e-.5*e:n%2?d+=.5*e:d-=.5*e,p&&(d>1?d=1:0>d&&(d=0)),j[k++]={x:c,y:d};for(j.sort(function(a,b){return a.x-b.x}),h=new m(1,1,null),n=l;--n>-1;)g=j[n],h=new m(g.x,g.y,h);this._prev=new m(0,0,0!==h.t?h:h.next)},!0),q=c.prototype=new a,q.constructor=c,q.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&b.t>=a;)b=b.prev;return this._prev=b,b.v+(a-b.t)/b.gap*b.c},q.config=function(a){return new c(a)},c.ease=new c,l("Bounce",j("BounceOut",function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}),j("BounceIn",function(a){return 1/2.75>(a=1-a)?1-7.5625*a*a:2/2.75>a?1-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1-(7.5625*(a-=2.25/2.75)*a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),j("BounceInOut",function(a){var b=.5>a;return a=b?1-2*a:2*a-1,a=1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,b?.5*(1-a):.5*a+.5})),l("Circ",j("CircOut",function(a){return Math.sqrt(1-(a-=1)*a)}),j("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),j("CircInOut",function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)})),d=function(b,c,d){var e=i("easing."+b,function(a,b){this._p1=a||1,this._p2=b||d,this._p3=this._p2/g*(Math.asin(1/this._p1)||0)},!0),f=e.prototype=new a;return f.constructor=e,f.getRatio=c,f.config=function(a,b){return new e(a,b)},e},l("Elastic",d("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*g/this._p2)+1},.3),d("ElasticIn",function(a){return-(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*g/this._p2))},.3),d("ElasticInOut",function(a){return 1>(a*=2)?-.5*this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*g/this._p2):.5*this._p1*Math.pow(2,-10*(a-=1))*Math.sin((a-this._p3)*g/this._p2)+1},.45)),l("Expo",j("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),j("ExpoIn",function(a){return Math.pow(2,10*(a-1))-.001}),j("ExpoInOut",function(a){return 1>(a*=2)?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))})),l("Sine",j("SineOut",function(a){return Math.sin(a*h)}),j("SineIn",function(a){return-Math.cos(a*h)+1}),j("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)})),i("easing.EaseLookup",{find:function(b){return a.map[b]}},!0),k(e.SlowMo,"SlowMo","ease,"),k(c,"RoughEase","ease,"),k(b,"SteppedEase","ease,"),o},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("ease-pack",function(a){return function(){var b;return b||a.EasePack}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,b){var c,d,e,f,g=function(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=g.prototype.setRatio},h={},i=g.prototype=new a("css");i.constructor=g,g.version="1.11.8",g.API=2,g.defaultTransformPerspective=0,g.defaultSkewType="compensated",i="px",g.suffixMap={top:i,right:i,bottom:i,left:i,width:i,height:i,fontSize:i,padding:i,margin:i,perspective:i,lineHeight:""};var j,k,l,m,n,o,p=/(?:\d|\-\d|\.\d|\-\.\d)+/g,q=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,r=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,s=/[^\d\-\.]/g,t=/(?:\d|\-|\+|=|#|\.)*/g,u=/opacity *= *([^)]*)/,v=/opacity:([^;]*)/,w=/alpha\(opacity *=.+?\)/i,x=/^(rgb|hsl)/,y=/([A-Z])/g,z=/-([a-z])/gi,A=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,B=function(a,b){return b.toUpperCase()},C=/(?:Left|Right|Width)/i,D=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,E=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,F=/,(?=[^\)]*(?:\(|$))/gi,G=Math.PI/180,H=180/Math.PI,I={},J=document,K=J.createElement("div"),L=J.createElement("img"),M=g._internals={_specialProps:h},N=navigator.userAgent,O=function(){var a,b=N.indexOf("Android"),c=J.createElement("div");return l=-1!==N.indexOf("Safari")&&-1===N.indexOf("Chrome")&&(-1===b||Number(N.substr(b+8,1))>3),n=l&&6>Number(N.substr(N.indexOf("Version/")+8,1)),m=-1!==N.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(N)&&(o=parseFloat(RegExp.$1)),c.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",a=c.getElementsByTagName("a")[0],a?/^0.55/.test(a.style.opacity):!1}(),P=function(a){return u.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Q=function(a){window.console&&console.log(a)},R="",S="",T=function(a,b){b=b||K;var c,d,e=b.style;if(void 0!==e[a])return a;for(a=a.charAt(0).toUpperCase()+a.substr(1),c=["O","Moz","ms","Ms","Webkit"],d=5;--d>-1&&void 0===e[c[d]+a];);return d>=0?(S=3===d?"ms":c[d],R="-"+S.toLowerCase()+"-",S+a):null},U=J.defaultView?J.defaultView.getComputedStyle:function(){},V=g.getStyle=function(a,b,c,d,e){var f;return O||"opacity"!==b?(!d&&a.style[b]?f=a.style[b]:(c=c||U(a,null))?f=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(y,"-$1").toLowerCase()):a.currentStyle&&(f=a.currentStyle[b]),null==e||f&&"none"!==f&&"auto"!==f&&"auto auto"!==f?f:e):P(a)},W=M.convertToPixels=function(a,c,d,e,f){if("px"===e||!e)return d;if("auto"===e||!d)return 0;var h,i,j,k=C.test(c),l=a,m=K.style,n=0>d;if(n&&(d=-d),"%"===e&&-1!==c.indexOf("border"))h=d/100*(k?a.clientWidth:a.clientHeight);else{if(m.cssText="border:0 solid red;position:"+V(a,"position")+";line-height:0;","%"!==e&&l.appendChild)m[k?"borderLeftWidth":"borderTopWidth"]=d+e;else{if(l=a.parentNode||J.body,i=l._gsCache,j=b.ticker.frame,i&&k&&i.time===j)return i.width*d/100;m[k?"width":"height"]=d+e}l.appendChild(K),h=parseFloat(K[k?"offsetWidth":"offsetHeight"]),l.removeChild(K),k&&"%"===e&&g.cacheWidths!==!1&&(i=l._gsCache=l._gsCache||{},i.time=j,i.width=100*(h/d)),0!==h||f||(h=W(a,c,d,e,!0))}return n?-h:h},X=M.calculateOffset=function(a,b,c){if("absolute"!==V(a,"position",c))return 0;var d="left"===b?"Left":"Top",e=V(a,"margin"+d,c);return a["offset"+d]-(W(a,b,parseFloat(e),e.replace(t,""))||0)},Y=function(a,b){var c,d,e={};if(b=b||U(a,null))if(c=b.length)for(;--c>-1;)e[b[c].replace(z,B)]=b.getPropertyValue(b[c]);else for(c in b)e[c]=b[c];else if(b=a.currentStyle||a.style)for(c in b)"string"==typeof c&&void 0===e[c]&&(e[c.replace(z,B)]=b[c]);return O||(e.opacity=P(a)),d=ya(a,b,!1),e.rotation=d.rotation,e.skewX=d.skewX,e.scaleX=d.scaleX,e.scaleY=d.scaleY,e.x=d.x,e.y=d.y,wa&&(e.z=d.z,e.rotationX=d.rotationX,e.rotationY=d.rotationY,e.scaleZ=d.scaleZ),e.filters&&delete e.filters,e},Z=function(a,b,c,d,e){var f,g,h,i={},j=a.style;for(g in c)"cssText"!==g&&"length"!==g&&isNaN(g)&&(b[g]!==(f=c[g])||e&&e[g])&&-1===g.indexOf("Origin")&&("number"==typeof f||"string"==typeof f)&&(i[g]="auto"!==f||"left"!==g&&"top"!==g?""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof b[g]||""===b[g].replace(s,"")?f:0:X(a,g),void 0!==j[g]&&(h=new la(j,g,j[g],h)));if(d)for(g in d)"className"!==g&&(i[g]=d[g]);return{difs:i,firstMPT:h}},$={width:["Left","Right"],height:["Top","Bottom"]},_=["marginLeft","marginRight","marginTop","marginBottom"],aa=function(a,b,c){var d=parseFloat("width"===b?a.offsetWidth:a.offsetHeight),e=$[b],f=e.length;for(c=c||U(a,null);--f>-1;)d-=parseFloat(V(a,"padding"+e[f],c,!0))||0,d-=parseFloat(V(a,"border"+e[f]+"Width",c,!0))||0;return d},ba=function(a,b){(null==a||""===a||"auto"===a||"auto auto"===a)&&(a="0 0");var c=a.split(" "),d=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":c[0],e=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":c[1];return null==e?e="0":"center"===e&&(e="50%"),("center"===d||isNaN(parseFloat(d))&&-1===(d+"").indexOf("="))&&(d="50%"),b&&(b.oxp=-1!==d.indexOf("%"),b.oyp=-1!==e.indexOf("%"),b.oxr="="===d.charAt(1),b.oyr="="===e.charAt(1),b.ox=parseFloat(d.replace(s,"")),b.oy=parseFloat(e.replace(s,""))),d+" "+e+(c.length>2?" "+c[2]:"")},ca=function(a,b){return"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)},da=function(a,b){return null==a?b:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*Number(a.substr(2))+b:parseFloat(a)},ea=function(a,b,c,d){var e,f,g,h,i=1e-6;return null==a?h=b:"number"==typeof a?h=a:(e=360,f=a.split("_"),g=Number(f[0].replace(s,""))*(-1===a.indexOf("rad")?1:H)-("="===a.charAt(1)?0:b),f.length&&(d&&(d[c]=b+g),-1!==a.indexOf("short")&&(g%=e,g!==g%(e/2)&&(g=0>g?g+e:g-e)),-1!==a.indexOf("_cw")&&0>g?g=(g+9999999999*e)%e-(0|g/e)*e:-1!==a.indexOf("ccw")&&g>0&&(g=(g-9999999999*e)%e-(0|g/e)*e)),h=b+g),i>h&&h>-i&&(h=0),h},fa={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ga=function(a,b,c){return a=0>a?a+1:a>1?a-1:a,0|255*(1>6*a?b+6*(c-b)*a:.5>a?c:2>3*a?b+6*(c-b)*(2/3-a):b)+.5},ha=function(a){var b,c,d,e,f,g;return a&&""!==a?"number"==typeof a?[a>>16,255&a>>8,255&a]:(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),fa[a]?fa[a]:"#"===a.charAt(0)?(4===a.length&&(b=a.charAt(1),c=a.charAt(2),d=a.charAt(3),a="#"+b+b+c+c+d+d),a=parseInt(a.substr(1),16),[a>>16,255&a>>8,255&a]):"hsl"===a.substr(0,3)?(a=a.match(p),e=Number(a[0])%360/360,f=Number(a[1])/100,g=Number(a[2])/100,c=.5>=g?g*(f+1):g+f-g*f,b=2*g-c,a.length>3&&(a[3]=Number(a[3])),a[0]=ga(e+1/3,b,c),a[1]=ga(e,b,c),a[2]=ga(e-1/3,b,c),a):(a=a.match(p)||fa.transparent,a[0]=Number(a[0]),a[1]=Number(a[1]),a[2]=Number(a[2]),a.length>3&&(a[3]=Number(a[3])),a)):fa.black},ia="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(i in fa)ia+="|"+i+"\\b";ia=RegExp(ia+")","gi");var ja=function(a,b,c,d){if(null==a)return function(a){return a};var e,f=b?(a.match(ia)||[""])[0]:"",g=a.split(f).join("").match(r)||[],h=a.substr(0,a.indexOf(g[0])),i=")"===a.charAt(a.length-1)?")":"",j=-1!==a.indexOf(" ")?" ":",",k=g.length,l=k>0?g[0].replace(p,""):"";return k?e=b?function(a){var b,m,n,o;if("number"==typeof a)a+=l;else if(d&&F.test(a)){for(o=a.replace(F,"|").split("|"),n=0;o.length>n;n++)o[n]=e(o[n]);return o.join(",")}if(b=(a.match(ia)||[f])[0],m=a.split(b).join("").match(r)||[],n=m.length,k>n--)for(;k>++n;)m[n]=c?m[0|(n-1)/2]:g[n];return h+m.join(j)+j+b+i+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var b,f,m;if("number"==typeof a)a+=l;else if(d&&F.test(a)){for(f=a.replace(F,"|").split("|"),m=0;f.length>m;m++)f[m]=e(f[m]);return f.join(",")}if(b=a.match(r)||[],m=b.length,k>m--)for(;k>++m;)b[m]=c?b[0|(m-1)/2]:g[m];return h+b.join(j)+i}:function(a){return a}},ka=function(a){return a=a.split(","),function(b,c,d,e,f,g,h){var i,j=(c+"").split(" ");for(h={},i=0;4>i;i++)h[a[i]]=j[i]=j[i]||j[(i-1)/2>>0];return e.parse(b,h,f,g)}},la=(M._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b,c,d,e,f=this.data,g=f.proxy,h=f.firstMPT,i=1e-6;h;)b=g[h.v],h.r?b=Math.round(b):i>b&&b>-i&&(b=0),h.t[h.p]=b,h=h._next;if(f.autoRotate&&(f.autoRotate.rotation=g.rotation),1===a)for(h=f.firstMPT;h;){if(c=h.t,c.type){if(1===c.type){for(e=c.xs0+c.s+c.xs1,d=1;c.l>d;d++)e+=c["xn"+d]+c["xs"+(d+1)];c.e=e}}else c.e=c.s+c.xs0;h=h._next}},function(a,b,c,d,e){this.t=a,this.p=b,this.v=c,this.r=e,d&&(d._prev=this,this._next=d)}),ma=(M._parseToProxy=function(a,b,c,d,e,f){var g,h,i,j,k,l=d,m={},n={},o=c._transform,p=I;for(c._transform=null,I=b,d=k=c.parse(a,b,d,e),I=p,f&&(c._transform=o,l&&(l._prev=null,l._prev&&(l._prev._next=null)));d&&d!==l;){if(1>=d.type&&(h=d.p,n[h]=d.s+d.c,m[h]=d.s,f||(j=new la(d,"s",h,j,d.r),d.c=0),1===d.type))for(g=d.l;--g>0;)i="xn"+g,h=d.p+"_"+i,n[h]=d.data[i],m[h]=d[i],f||(j=new la(d,i,h,j,d.rxp[i]));d=d._next}return{proxy:m,end:n,firstMPT:j,pt:k}},M.CSSPropTween=function(a,b,d,e,g,h,i,j,k,l,m){this.t=a,this.p=b,this.s=d,this.c=e,this.n=i||b,a instanceof ma||f.push(this.n),this.r=j,this.type=h||0,k&&(this.pr=k,c=!0),this.b=void 0===l?d:l,this.e=void 0===m?d+e:m,g&&(this._next=g,g._prev=this)}),na=g.parseComplex=function(a,b,c,d,e,f,g,h,i,k){c=c||f||"",g=new ma(a,b,0,0,g,k?2:1,null,!1,h,c,d),d+="";var l,m,n,o,r,s,t,u,v,w,y,z,A=c.split(", ").join(",").split(" "),B=d.split(", ").join(",").split(" "),C=A.length,D=j!==!1;for((-1!==d.indexOf(",")||-1!==c.indexOf(","))&&(A=A.join(" ").replace(F,", ").split(" "),B=B.join(" ").replace(F,", ").split(" "),C=A.length),C!==B.length&&(A=(f||"").split(" "),C=A.length),g.plugin=i,g.setRatio=k,l=0;C>l;l++)if(o=A[l],r=B[l],u=parseFloat(o),u||0===u)g.appendXtra("",u,ca(r,u),r.replace(q,""),D&&-1!==r.indexOf("px"),!0);else if(e&&("#"===o.charAt(0)||fa[o]||x.test(o)))z=","===r.charAt(r.length-1)?"),":")",o=ha(o),r=ha(r),v=o.length+r.length>6,v&&!O&&0===r[3]?(g["xs"+g.l]+=g.l?" transparent":"transparent",g.e=g.e.split(B[l]).join("transparent")):(O||(v=!1),g.appendXtra(v?"rgba(":"rgb(",o[0],r[0]-o[0],",",!0,!0).appendXtra("",o[1],r[1]-o[1],",",!0).appendXtra("",o[2],r[2]-o[2],v?",":z,!0),v&&(o=4>o.length?1:o[3],g.appendXtra("",o,(4>r.length?1:r[3])-o,z,!1)));else if(s=o.match(p)){if(t=r.match(q),!t||t.length!==s.length)return g;for(n=0,m=0;s.length>m;m++)y=s[m],w=o.indexOf(y,n),g.appendXtra(o.substr(n,w-n),Number(y),ca(t[m],y),"",D&&"px"===o.substr(w+y.length,2),0===m),n=w+y.length;g["xs"+g.l]+=o.substr(n)}else g["xs"+g.l]+=g.l?" "+o:o;if(-1!==d.indexOf("=")&&g.data){for(z=g.xs0+g.data.s,l=1;g.l>l;l++)z+=g["xs"+l]+g.data["xn"+l];g.e=z+g["xs"+l]}return g.l||(g.type=-1,g.xs0=g.e),g.xfirst||g},oa=9;for(i=ma.prototype,i.l=i.pr=0;--oa>0;)i["xn"+oa]=0,i["xs"+oa]="";i.xs0="",i._next=i._prev=i.xfirst=i.data=i.plugin=i.setRatio=i.rxp=null,i.appendXtra=function(a,b,c,d,e,f){var g=this,h=g.l;return g["xs"+h]+=f&&h?" "+a:a||"",c||0===h||g.plugin?(g.l++,g.type=g.setRatio?2:1,g["xs"+g.l]=d||"",h>0?(g.data["xn"+h]=b+c,g.rxp["xn"+h]=e,g["xn"+h]=b,g.plugin||(g.xfirst=new ma(g,"xn"+h,b,c,g.xfirst||g,0,g.n,e,g.pr),g.xfirst.xs0=0),g):(g.data={s:b+c},g.rxp={},g.s=b,g.c=c,g.r=e,g)):(g["xs"+h]+=b+(d||""),g)};var pa=function(a,b){b=b||{},this.p=b.prefix?T(a)||a:a,h[a]=h[this.p]=this,this.format=b.formatter||ja(b.defaultValue,b.color,b.collapsible,b.multi),b.parser&&(this.parse=b.parser),this.clrs=b.color,this.multi=b.multi,this.keyword=b.keyword,this.dflt=b.defaultValue,this.pr=b.priority||0},qa=M._registerComplexSpecialProp=function(a,b,c){"object"!=typeof b&&(b={parser:c});var d,e,f=a.split(","),g=b.defaultValue;for(c=c||[g],d=0;f.length>d;d++)b.prefix=0===d&&b.prefix,b.defaultValue=c[d]||g,e=new pa(f[d],b)},ra=function(a){if(!h[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";qa(a,{parser:function(a,c,d,e,f,g,i){var j=(window.GreenSockGlobals||window).com.greensock.plugins[b];return j?(j._cssRegister(),h[d].parse(a,c,d,e,f,g,i)):(Q("Error: "+b+" js file not loaded."),f)}})}};i=pa.prototype,i.parseComplex=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=this.keyword;if(this.multi&&(F.test(c)||F.test(b)?(h=b.replace(F,"|").split("|"),i=c.replace(F,"|").split("|")):m&&(h=[b],i=[c])),i){for(j=i.length>h.length?i.length:h.length,g=0;j>g;g++)b=h[g]=h[g]||this.dflt,c=i[g]=i[g]||this.dflt,m&&(k=b.indexOf(m),l=c.indexOf(m),k!==l&&(c=-1===l?i:h,c[g]+=" "+m));b=h.join(", "),c=i.join(", ")}return na(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,f)},i.parse=function(a,b,c,d,f,g){return this.parseComplex(a.style,this.format(V(a,this.p,e,!1,this.dflt)),this.format(b),f,g)},g.registerSpecialProp=function(a,b,c){qa(a,{parser:function(a,d,e,f,g,h){var i=new ma(a,e,0,0,g,2,e,!1,c);return i.plugin=h,i.setRatio=b(a,d,f._tween,e),i},priority:c})};var sa="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective".split(","),ta=T("transform"),ua=R+"transform",va=T("transformOrigin"),wa=null!==T("perspective"),xa=M.Transform=function(){this.skewY=0},ya=M.getTransform=function(a,b,c,d){if(a._gsTransform&&c&&!d)return a._gsTransform;var e,f,h,i,j,k,l,m,n,o,p,q,r,s=c?a._gsTransform||new xa:new xa,t=0>s.scaleX,u=2e-5,v=1e5,w=179.99,x=w*G,y=wa?parseFloat(V(a,va,b,!1,"0 0 0").split(" ")[2])||s.zOrigin||0:0;for(ta?e=V(a,ua,b,!0):a.currentStyle&&(e=a.currentStyle.filter.match(D),e=e&&4===e.length?[e[0].substr(4),Number(e[2].substr(4)),Number(e[1].substr(4)),e[3].substr(4),s.x||0,s.y||0].join(","):""),f=(e||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],h=f.length;--h>-1;)i=Number(f[h]),f[h]=(j=i-(i|=0))?(0|j*v+(0>j?-.5:.5))/v+i:i;if(16===f.length){var z=f[8],A=f[9],B=f[10],C=f[12],E=f[13],F=f[14];if(s.zOrigin&&(F=-s.zOrigin,C=z*F-f[12],E=A*F-f[13],F=B*F+s.zOrigin-f[14]),!c||d||null==s.rotationX){var I,J,K,L,M,N,O,P=f[0],Q=f[1],R=f[2],S=f[3],T=f[4],U=f[5],W=f[6],X=f[7],Y=f[11],Z=Math.atan2(W,B),$=-x>Z||Z>x;s.rotationX=Z*H,Z&&(L=Math.cos(-Z),M=Math.sin(-Z),I=T*L+z*M,J=U*L+A*M,K=W*L+B*M,z=T*-M+z*L,A=U*-M+A*L,B=W*-M+B*L,Y=X*-M+Y*L,T=I,U=J,W=K),Z=Math.atan2(z,P),s.rotationY=Z*H,Z&&(N=-x>Z||Z>x,L=Math.cos(-Z),M=Math.sin(-Z),I=P*L-z*M,J=Q*L-A*M,K=R*L-B*M,A=Q*M+A*L,B=R*M+B*L,Y=S*M+Y*L,P=I,Q=J,R=K),Z=Math.atan2(Q,U),s.rotation=Z*H,Z&&(O=-x>Z||Z>x,L=Math.cos(-Z),M=Math.sin(-Z),P=P*L+T*M,J=Q*L+U*M,U=Q*-M+U*L,W=R*-M+W*L,Q=J),O&&$?s.rotation=s.rotationX=0:O&&N?s.rotation=s.rotationY=0:N&&$&&(s.rotationY=s.rotationX=0),s.scaleX=(0|Math.sqrt(P*P+Q*Q)*v+.5)/v,s.scaleY=(0|Math.sqrt(U*U+A*A)*v+.5)/v,s.scaleZ=(0|Math.sqrt(W*W+B*B)*v+.5)/v,s.skewX=0,s.perspective=Y?1/(0>Y?-Y:Y):0,s.x=C,s.y=E,s.z=F}}else if(!(wa&&!d&&f.length&&s.x===f[4]&&s.y===f[5]&&(s.rotationX||s.rotationY)||void 0!==s.x&&"none"===V(a,"display",b))){var _=f.length>=6,aa=_?f[0]:1,ba=f[1]||0,ca=f[2]||0,da=_?f[3]:1;s.x=f[4]||0,s.y=f[5]||0,k=Math.sqrt(aa*aa+ba*ba),l=Math.sqrt(da*da+ca*ca),m=aa||ba?Math.atan2(ba,aa)*H:s.rotation||0,n=ca||da?Math.atan2(ca,da)*H+m:s.skewX||0,o=k-Math.abs(s.scaleX||0),p=l-Math.abs(s.scaleY||0),Math.abs(n)>90&&270>Math.abs(n)&&(t?(k*=-1,n+=0>=m?180:-180,m+=0>=m?180:-180):(l*=-1,n+=0>=n?180:-180)),q=(m-s.rotation)%180,r=(n-s.skewX)%180,(void 0===s.skewX||o>u||-u>o||p>u||-u>p||q>-w&&w>q&&!1|q*v||r>-w&&w>r&&!1|r*v)&&(s.scaleX=k,s.scaleY=l,s.rotation=m,s.skewX=n),wa&&(s.rotationX=s.rotationY=s.z=0,s.perspective=parseFloat(g.defaultTransformPerspective)||0,s.scaleZ=1)}s.zOrigin=y;for(h in s)u>s[h]&&s[h]>-u&&(s[h]=0);return c&&(a._gsTransform=s),s},za=function(a){var b,c,d=this.data,e=-d.rotation*G,f=e+d.skewX*G,g=1e5,h=(0|Math.cos(e)*d.scaleX*g)/g,i=(0|Math.sin(e)*d.scaleX*g)/g,j=(0|Math.sin(f)*-d.scaleY*g)/g,k=(0|Math.cos(f)*d.scaleY*g)/g,l=this.t.style,m=this.t.currentStyle;if(m){c=i,i=-j,j=-c,b=m.filter,l.filter="";var n,p,q=this.t.offsetWidth,r=this.t.offsetHeight,s="absolute"!==m.position,v="progid:DXImageTransform.Microsoft.Matrix(M11="+h+", M12="+i+", M21="+j+", M22="+k,w=d.x,x=d.y;if(null!=d.ox&&(n=(d.oxp?.01*q*d.ox:d.ox)-q/2,p=(d.oyp?.01*r*d.oy:d.oy)-r/2,w+=n-(n*h+p*i),x+=p-(n*j+p*k)),s?(n=q/2,p=r/2,v+=", Dx="+(n-(n*h+p*i)+w)+", Dy="+(p-(n*j+p*k)+x)+")"):v+=", sizingMethod='auto expand')",l.filter=-1!==b.indexOf("DXImageTransform.Microsoft.Matrix(")?b.replace(E,v):v+" "+b,(0===a||1===a)&&1===h&&0===i&&0===j&&1===k&&(s&&-1===v.indexOf("Dx=0, Dy=0")||u.test(b)&&100!==parseFloat(RegExp.$1)||-1===b.indexOf(b.indexOf("Alpha"))&&l.removeAttribute("filter")),!s){var y,z,A,B=8>o?1:-1;for(n=d.ieOffsetX||0,p=d.ieOffsetY||0,d.ieOffsetX=Math.round((q-((0>h?-h:h)*q+(0>i?-i:i)*r))/2+w),d.ieOffsetY=Math.round((r-((0>k?-k:k)*r+(0>j?-j:j)*q))/2+x),oa=0;4>oa;oa++)z=_[oa],y=m[z],c=-1!==y.indexOf("px")?parseFloat(y):W(this.t,z,parseFloat(y),y.replace(t,""))||0,A=c!==d[z]?2>oa?-d.ieOffsetX:-d.ieOffsetY:2>oa?n-d.ieOffsetX:p-d.ieOffsetY,l[z]=(d[z]=Math.round(c-A*(0===oa||2===oa?1:B)))+"px"}}},Aa=M.set3DTransformRatio=function(){var a,b,c,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t,u,v,w,x,y=this.data,z=this.t.style,A=y.rotation*G,B=y.scaleX,C=y.scaleY,D=y.scaleZ,E=y.perspective;if(m){var F=1e-4;F>B&&B>-F&&(B=D=2e-5),F>C&&C>-F&&(C=D=2e-5),!E||y.z||y.rotationX||y.rotationY||(E=0)}if(A||y.skewX)s=Math.cos(A),t=Math.sin(A),a=s,e=t,y.skewX&&(A-=y.skewX*G,s=Math.cos(A),t=Math.sin(A),"simple"===y.skewType&&(u=Math.tan(y.skewX*G),u=Math.sqrt(1+u*u),s*=u,t*=u)),b=-t,f=s;else{if(!(y.rotationY||y.rotationX||1!==D||E))return void(z[ta]="translate3d("+y.x+"px,"+y.y+"px,"+y.z+"px)"+(1!==B||1!==C?" scale("+B+","+C+")":""));a=f=1,b=e=0}k=1,c=d=g=h=i=j=l=n=o=0,p=E?-1/E:0,q=y.zOrigin,r=1e5,A=y.rotationY*G,A&&(s=Math.cos(A),t=Math.sin(A),i=k*-t,n=p*-t,c=a*t,g=e*t,k*=s,p*=s,a*=s,e*=s),A=y.rotationX*G,A&&(s=Math.cos(A),t=Math.sin(A),u=b*s+c*t,v=f*s+g*t,w=j*s+k*t,x=o*s+p*t,c=b*-t+c*s,g=f*-t+g*s,k=j*-t+k*s,p=o*-t+p*s,b=u,f=v,j=w,o=x),1!==D&&(c*=D,g*=D,k*=D,p*=D),1!==C&&(b*=C,f*=C,j*=C,o*=C),1!==B&&(a*=B,e*=B,i*=B,n*=B),q&&(l-=q,d=c*l,h=g*l,l=k*l+q),d=(u=(d+=y.x)-(d|=0))?(0|u*r+(0>u?-.5:.5))/r+d:d,h=(u=(h+=y.y)-(h|=0))?(0|u*r+(0>u?-.5:.5))/r+h:h,l=(u=(l+=y.z)-(l|=0))?(0|u*r+(0>u?-.5:.5))/r+l:l,z[ta]="matrix3d("+[(0|a*r)/r,(0|e*r)/r,(0|i*r)/r,(0|n*r)/r,(0|b*r)/r,(0|f*r)/r,(0|j*r)/r,(0|o*r)/r,(0|c*r)/r,(0|g*r)/r,(0|k*r)/r,(0|p*r)/r,d,h,l,E?1+-l/E:1].join(",")+")"},Ba=M.set2DTransformRatio=function(a){var b,c,d,e,f,g=this.data,h=this.t,i=h.style;return g.rotationX||g.rotationY||g.z||g.force3D?(this.setRatio=Aa,void Aa.call(this,a)):void(g.rotation||g.skewX?(b=g.rotation*G,c=b-g.skewX*G,d=1e5,e=g.scaleX*d,f=g.scaleY*d,i[ta]="matrix("+(0|Math.cos(b)*e)/d+","+(0|Math.sin(b)*e)/d+","+(0|Math.sin(c)*-f)/d+","+(0|Math.cos(c)*f)/d+","+g.x+","+g.y+")"):i[ta]="matrix("+g.scaleX+",0,0,"+g.scaleY+","+g.x+","+g.y+")")};qa("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType",{parser:function(a,b,c,d,f,h,i){if(d._transform)return f;var j,k,l,m,n,o,p,q=d._transform=ya(a,e,!0,i.parseTransform),r=a.style,s=1e-6,t=sa.length,u=i,v={};if("string"==typeof u.transform&&ta)l=r.cssText,r[ta]=u.transform,r.display="block",j=ya(a,null,!1),r.cssText=l;else if("object"==typeof u){if(j={scaleX:da(null!=u.scaleX?u.scaleX:u.scale,q.scaleX),scaleY:da(null!=u.scaleY?u.scaleY:u.scale,q.scaleY),scaleZ:da(u.scaleZ,q.scaleZ),x:da(u.x,q.x),y:da(u.y,q.y),z:da(u.z,q.z),perspective:da(u.transformPerspective,q.perspective)},p=u.directionalRotation,null!=p)if("object"==typeof p)for(l in p)u[l]=p[l];else u.rotation=p;j.rotation=ea("rotation"in u?u.rotation:"shortRotation"in u?u.shortRotation+"_short":"rotationZ"in u?u.rotationZ:q.rotation,q.rotation,"rotation",v),wa&&(j.rotationX=ea("rotationX"in u?u.rotationX:"shortRotationX"in u?u.shortRotationX+"_short":q.rotationX||0,q.rotationX,"rotationX",v),j.rotationY=ea("rotationY"in u?u.rotationY:"shortRotationY"in u?u.shortRotationY+"_short":q.rotationY||0,q.rotationY,"rotationY",v)),j.skewX=null==u.skewX?q.skewX:ea(u.skewX,q.skewX),j.skewY=null==u.skewY?q.skewY:ea(u.skewY,q.skewY),(k=j.skewY-q.skewY)&&(j.skewX+=k,j.rotation+=k)}for(wa&&null!=u.force3D&&(q.force3D=u.force3D,o=!0),q.skewType=u.skewType||q.skewType||g.defaultSkewType,n=q.force3D||q.z||q.rotationX||q.rotationY||j.z||j.rotationX||j.rotationY||j.perspective,n||null==u.scale||(j.scaleZ=1);--t>-1;)c=sa[t],m=j[c]-q[c],(m>s||-s>m||null!=I[c])&&(o=!0,f=new ma(q,c,q[c],m,f),c in v&&(f.e=v[c]),f.xs0=0,f.plugin=h,d._overwriteProps.push(f.n));return m=u.transformOrigin,(m||wa&&n&&q.zOrigin)&&(ta?(o=!0,c=va,m=(m||V(a,c,e,!1,"50% 50%"))+"",f=new ma(r,c,0,0,f,-1,"transformOrigin"),f.b=r[c],f.plugin=h,wa?(l=q.zOrigin,m=m.split(" "),q.zOrigin=(m.length>2&&(0===l||"0px"!==m[2])?parseFloat(m[2]):l)||0,f.xs0=f.e=r[c]=m[0]+" "+(m[1]||"50%")+" 0px",f=new ma(q,"zOrigin",0,0,f,-1,f.n),f.b=l,f.xs0=f.e=q.zOrigin):f.xs0=f.e=r[c]=m):ba(m+"",q)),o&&(d._transformType=n||3===this._transformType?3:2),f},prefix:!0}),qa("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),qa("borderRadius",{defaultValue:"0px",parser:function(a,b,c,f,g){b=this.format(b);var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],y=a.style;for(p=parseFloat(a.offsetWidth),q=parseFloat(a.offsetHeight),h=b.split(" "),i=0;x.length>i;i++)this.p.indexOf("border")&&(x[i]=T(x[i])),l=k=V(a,x[i],e,!1,"0px"),-1!==l.indexOf(" ")&&(k=l.split(" "),l=k[0],k=k[1]),m=j=h[i],n=parseFloat(l),s=l.substr((n+"").length),t="="===m.charAt(1),t?(o=parseInt(m.charAt(0)+"1",10),m=m.substr(2),o*=parseFloat(m),r=m.substr((o+"").length-(0>o?1:0))||""):(o=parseFloat(m),r=m.substr((o+"").length)),""===r&&(r=d[c]||s),r!==s&&(u=W(a,"borderLeft",n,s),v=W(a,"borderTop",n,s),"%"===r?(l=100*(u/p)+"%",k=100*(v/q)+"%"):"em"===r?(w=W(a,"borderLeft",1,"em"),l=u/w+"em",k=v/w+"em"):(l=u+"px",k=v+"px"),t&&(m=parseFloat(l)+o+r,j=parseFloat(k)+o+r)),g=na(y,x[i],l+" "+k,m+" "+j,!1,"0px",g);return g},prefix:!0,formatter:ja("0px 0px 0px 0px",!1,!0)}),qa("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,c,d,f,g){var h,i,j,k,l,m,n="background-position",p=e||U(a,null),q=this.format((p?o?p.getPropertyValue(n+"-x")+" "+p.getPropertyValue(n+"-y"):p.getPropertyValue(n):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0"),r=this.format(b);if(-1!==q.indexOf("%")!=(-1!==r.indexOf("%"))&&(m=V(a,"backgroundImage").replace(A,""),m&&"none"!==m)){for(h=q.split(" "),i=r.split(" "),L.setAttribute("src",m),j=2;--j>-1;)q=h[j],k=-1!==q.indexOf("%"),k!==(-1!==i[j].indexOf("%"))&&(l=0===j?a.offsetWidth-L.width:a.offsetHeight-L.height,h[j]=k?parseFloat(q)/100*l+"px":100*(parseFloat(q)/l)+"%");q=h.join(" ")}return this.parseComplex(a.style,q,r,f,g)},formatter:ba}),qa("backgroundSize",{defaultValue:"0 0",formatter:ba}),qa("perspective",{defaultValue:"0px",prefix:!0}),qa("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),qa("transformStyle",{prefix:!0}),qa("backfaceVisibility",{prefix:!0}),qa("userSelect",{prefix:!0}),qa("margin",{parser:ka("marginTop,marginRight,marginBottom,marginLeft")}),qa("padding",{parser:ka("paddingTop,paddingRight,paddingBottom,paddingLeft")
}),qa("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,f,g){var h,i,j;return 9>o?(i=a.currentStyle,j=8>o?" ":",",h="rect("+i.clipTop+j+i.clipRight+j+i.clipBottom+j+i.clipLeft+")",b=this.format(b).split(",").join(j)):(h=this.format(V(a,this.p,e,!1,this.dflt)),b=this.format(b)),this.parseComplex(a.style,h,b,f,g)}}),qa("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),qa("autoRound,strictUnits",{parser:function(a,b,c,d,e){return e}}),qa("border",{defaultValue:"0px solid #000",parser:function(a,b,c,d,f,g){return this.parseComplex(a.style,this.format(V(a,"borderTopWidth",e,!1,"0px")+" "+V(a,"borderTopStyle",e,!1,"solid")+" "+V(a,"borderTopColor",e,!1,"#000")),this.format(b),f,g)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(ia)||["#000"])[0]}}),qa("borderWidth",{parser:ka("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),qa("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e){var f=a.style,g="cssFloat"in f?"cssFloat":"styleFloat";return new ma(f,g,0,0,e,-1,c,!1,0,f[g],b)}});var Ca=function(a){var b,c=this.t,d=c.filter||V(this.data,"filter"),e=0|this.s+this.c*a;100===e&&(-1===d.indexOf("atrix(")&&-1===d.indexOf("radient(")&&-1===d.indexOf("oader(")?(c.removeAttribute("filter"),b=!V(this.data,"filter")):(c.filter=d.replace(w,""),b=!0)),b||(this.xn1&&(c.filter=d=d||"alpha(opacity="+e+")"),-1===d.indexOf("opacity")?0===e&&this.xn1||(c.filter=d+" alpha(opacity="+e+")"):c.filter=d.replace(u,"opacity="+e))};qa("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,f,g){var h=parseFloat(V(a,"opacity",e,!1,"1")),i=a.style,j="autoAlpha"===c;return"string"==typeof b&&"="===b.charAt(1)&&(b=("-"===b.charAt(0)?-1:1)*parseFloat(b.substr(2))+h),j&&1===h&&"hidden"===V(a,"visibility",e)&&0!==b&&(h=0),O?f=new ma(i,"opacity",h,b-h,f):(f=new ma(i,"opacity",100*h,100*(b-h),f),f.xn1=j?1:0,i.zoom=1,f.type=2,f.b="alpha(opacity="+f.s+")",f.e="alpha(opacity="+(f.s+f.c)+")",f.data=a,f.plugin=g,f.setRatio=Ca),j&&(f=new ma(i,"visibility",0,0,f,-1,null,!1,0,0!==h?"inherit":"hidden",0===b?"hidden":"inherit"),f.xs0="inherit",d._overwriteProps.push(f.n),d._overwriteProps.push(c)),f}});var Da=function(a,b){b&&(a.removeProperty?("ms"===b.substr(0,2)&&(b="M"+b.substr(1)),a.removeProperty(b.replace(y,"-$1").toLowerCase())):a.removeAttribute(b))},Ea=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.className=0===a?this.b:this.e;for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:Da(c,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.className!==this.e&&(this.t.className=this.e)};qa("className",{parser:function(a,b,d,f,g,h,i){var j,k,l,m,n,o=a.className,p=a.style.cssText;if(g=f._classNamePT=new ma(a,d,0,0,g,2),g.setRatio=Ea,g.pr=-11,c=!0,g.b=o,k=Y(a,e),l=a._gsClassPT){for(m={},n=l.data;n;)m[n.p]=1,n=n._next;l.setRatio(1)}return a._gsClassPT=g,g.e="="!==b.charAt(1)?b:o.replace(RegExp("\\s*\\b"+b.substr(2)+"\\b"),"")+("+"===b.charAt(0)?" "+b.substr(2):""),f._tween._duration&&(a.className=g.e,j=Z(a,k,Y(a),i,m),a.className=o,g.data=j.firstMPT,a.style.cssText=p,g=g.xfirst=f.parse(a,j.difs,g,h)),g}});var Fa=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var b,c,d,e,f=this.t.style,g=h.transform.parse;if("all"===this.e)f.cssText="",e=!0;else for(b=this.e.split(","),d=b.length;--d>-1;)c=b[d],h[c]&&(h[c].parse===g?e=!0:c="transformOrigin"===c?va:h[c].p),Da(f,c);e&&(Da(f,ta),this.t._gsTransform&&delete this.t._gsTransform)}};for(qa("clearProps",{parser:function(a,b,d,e,f){return f=new ma(a,d,0,0,f,2),f.setRatio=Fa,f.e=b,f.pr=-10,f.data=e._tween,c=!0,f}}),i="bezier,throwProps,physicsProps,physics2D".split(","),oa=i.length;oa--;)ra(i[oa]);i=g.prototype,i._firstPT=null,i._onInitTween=function(a,b,h){if(!a.nodeType)return!1;this._target=a,this._tween=h,this._vars=b,j=b.autoRound,c=!1,d=b.suffixMap||g.suffixMap,e=U(a,""),f=this._overwriteProps;var i,m,o,p,q,r,s,t,u,w=a.style;if(k&&""===w.zIndex&&(i=V(a,"zIndex",e),("auto"===i||""===i)&&(w.zIndex=0)),"string"==typeof b&&(p=w.cssText,i=Y(a,e),w.cssText=p+";"+b,i=Z(a,i,Y(a)).difs,!O&&v.test(b)&&(i.opacity=parseFloat(RegExp.$1)),b=i,w.cssText=p),this._firstPT=m=this.parse(a,b,null),this._transformType){for(u=3===this._transformType,ta?l&&(k=!0,""===w.zIndex&&(s=V(a,"zIndex",e),("auto"===s||""===s)&&(w.zIndex=0)),n&&(w.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(u?"visible":"hidden"))):w.zoom=1,o=m;o&&o._next;)o=o._next;t=new ma(a,"transform",0,0,null,2),this._linkCSSP(t,null,o),t.setRatio=u&&wa?Aa:ta?Ba:za,t.data=this._transform||ya(a,e,!0),f.pop()}if(c){for(;m;){for(r=m._next,o=p;o&&o.pr>m.pr;)o=o._next;(m._prev=o?o._prev:q)?m._prev._next=m:p=m,(m._next=o)?o._prev=m:q=m,m=r}this._firstPT=p}return!0},i.parse=function(a,b,c,f){var g,i,k,l,m,n,o,p,q,r,s=a.style;for(g in b)n=b[g],i=h[g],i?c=i.parse(a,n,g,this,c,f,b):(m=V(a,g,e)+"",q="string"==typeof n,"color"===g||"fill"===g||"stroke"===g||-1!==g.indexOf("Color")||q&&x.test(n)?(q||(n=ha(n),n=(n.length>3?"rgba(":"rgb(")+n.join(",")+")"),c=na(s,g,m,n,!0,"transparent",c,0,f)):!q||-1===n.indexOf(" ")&&-1===n.indexOf(",")?(k=parseFloat(m),o=k||0===k?m.substr((k+"").length):"",(""===m||"auto"===m)&&("width"===g||"height"===g?(k=aa(a,g,e),o="px"):"left"===g||"top"===g?(k=X(a,g,e),o="px"):(k="opacity"!==g?0:1,o="")),r=q&&"="===n.charAt(1),r?(l=parseInt(n.charAt(0)+"1",10),n=n.substr(2),l*=parseFloat(n),p=n.replace(t,"")):(l=parseFloat(n),p=q?n.substr((l+"").length)||"":""),""===p&&(p=g in d?d[g]:o),n=l||0===l?(r?l+k:l)+p:b[g],o!==p&&""!==p&&(l||0===l)&&k&&(k=W(a,g,k,o),"%"===p?(k/=W(a,g,100,"%")/100,b.strictUnits!==!0&&(m=k+"%")):"em"===p?k/=W(a,g,1,"em"):"px"!==p&&(l=W(a,g,l,p),p="px"),r&&(l||0===l)&&(n=l+k+p)),r&&(l+=k),!k&&0!==k||!l&&0!==l?void 0!==s[g]&&(n||"NaN"!=n+""&&null!=n)?(c=new ma(s,g,l||k||0,0,c,-1,g,!1,0,m,n),c.xs0="none"!==n||"display"!==g&&-1===g.indexOf("Style")?n:m):Q("invalid "+g+" tween value: "+b[g]):(c=new ma(s,g,k,l-k,c,0,g,j!==!1&&("px"===p||"zIndex"===g),0,m,n),c.xs0=p)):c=na(s,g,m,n,!0,null,c,0,f)),f&&c&&!c.plugin&&(c.plugin=f);return c},i.setRatio=function(a){var b,c,d,e=this._firstPT,f=1e-6;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;e;){if(b=e.c*a+e.s,e.r?b=Math.round(b):f>b&&b>-f&&(b=0),e.type)if(1===e.type)if(d=e.l,2===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2;else if(3===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3;else if(4===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4;else if(5===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4+e.xn4+e.xs5;else{for(c=e.xs0+b+e.xs1,d=1;e.l>d;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}else-1===e.type?e.t[e.p]=e.xs0:e.setRatio&&e.setRatio(a);else e.t[e.p]=b+e.xs0;e=e._next}else for(;e;)2!==e.type?e.t[e.p]=e.b:e.setRatio(a),e=e._next;else for(;e;)2!==e.type?e.t[e.p]=e.e:e.setRatio(a),e=e._next},i._enableTransforms=function(a){this._transformType=a||3===this._transformType?3:2,this._transform=this._transform||ya(this._target,e,!0)},i._linkCSSP=function(a,b,c,d){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,d=!0),c?c._next=a:d||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c),a},i._kill=function(b){var c,d,e,f=b;if(b.autoAlpha||b.alpha){f={};for(d in b)f[d]=b[d];f.opacity=1,f.autoAlpha&&(f.visibility=1)}return b.className&&(c=this._classNamePT)&&(e=c.xfirst,e&&e._prev?this._linkCSSP(e._prev,c._next,e._prev._prev):e===this._firstPT&&(this._firstPT=c._next),c._next&&this._linkCSSP(c._next,c._next._next,e._prev),this._classNamePT=null),a.prototype._kill.call(this,f)};var Ga=function(a,b,c){var d,e,f,g;if(a.slice)for(e=a.length;--e>-1;)Ga(a[e],b,c);else for(d=a.childNodes,e=d.length;--e>-1;)f=d[e],g=f.type,f.style&&(b.push(Y(f)),c&&c.push(f)),1!==g&&9!==g&&11!==g||!f.childNodes.length||Ga(f,b,c)};return g.cascadeTo=function(a,c,d){var e,f,g,h=b.to(a,c,d),i=[h],j=[],k=[],l=[],m=b._internals.reservedProps;for(a=h._targets||h.target,Ga(a,j,l),h.render(c,!0),Ga(a,k),h.render(0,!0),h._enabled(!0),e=l.length;--e>-1;)if(f=Z(l[e],j[e],k[e]),f.firstMPT){f=f.difs;for(g in d)m[g]&&(f[g]=d[g]);i.push(b.to(l[e],c,f))}return i},a.activate([g]),g},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("css-plugin",function(a){return function(){var b;return b||a.CSSPlugin}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var a=180/Math.PI,b=[],c=[],d=[],e={},f=function(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},g=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",h=function(a,b,c,d){var e={a:a},f={},g={},h={c:d},i=(a+b)/2,j=(b+c)/2,k=(c+d)/2,l=(i+j)/2,m=(j+k)/2,n=(m-l)/8;return e.b=i+(a-i)/4,f.b=l+n,e.c=f.a=(e.b+f.b)/2,f.c=g.a=(l+m)/2,g.b=m-n,h.b=k+(d-k)/4,g.c=h.a=(g.b+h.b)/2,[e,f,g,h]},i=function(a,e,f,g,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w=a.length-1,x=0,y=a[0].a;for(j=0;w>j;j++)n=a[x],k=n.a,l=n.d,m=a[x+1].d,i?(t=b[j],u=c[j],v=.25*(u+t)*e/(g?.5:d[j]||.5),o=l-(l-k)*(g?.5*e:0!==t?v/t:0),p=l+(m-l)*(g?.5*e:0!==u?v/u:0),q=l-(o+((p-o)*(3*t/(t+u)+.5)/4||0))):(o=l-.5*(l-k)*e,p=l+.5*(m-l)*e,q=l-(o+p)/2),o+=q,p+=q,n.c=r=o,n.b=0!==j?y:y=n.a+.6*(n.c-n.a),n.da=l-k,n.ca=r-k,n.ba=y-k,f?(s=h(k,y,r,l),a.splice(x,1,s[0],s[1],s[2],s[3]),x+=4):x++,y=p;n=a[x],n.b=y,n.c=y+.4*(n.d-y),n.da=n.d-n.a,n.ca=n.c-n.a,n.ba=y-n.a,f&&(s=h(n.a,y,n.c,n.d),a.splice(x,1,s[0],s[1],s[2],s[3]))},j=function(a,d,e,g){var h,i,j,k,l,m,n=[];if(g)for(a=[g].concat(a),i=a.length;--i>-1;)"string"==typeof(m=a[i][d])&&"="===m.charAt(1)&&(a[i][d]=g[d]+Number(m.charAt(0)+m.substr(2)));if(h=a.length-2,0>h)return n[0]=new f(a[0][d],0,0,a[-1>h?0:1][d]),n;for(i=0;h>i;i++)j=a[i][d],k=a[i+1][d],n[i]=new f(j,0,0,k),e&&(l=a[i+2][d],b[i]=(b[i]||0)+(k-j)*(k-j),c[i]=(c[i]||0)+(l-k)*(l-k));return n[i]=new f(a[i][d],0,0,a[i+1][d]),n},k=function(a,f,h,k,l,m){var n,o,p,q,r,s,t,u,v={},w=[],x=m||a[0];l="string"==typeof l?","+l+",":g,null==f&&(f=1);for(o in a[0])w.push(o);if(a.length>1){for(u=a[a.length-1],t=!0,n=w.length;--n>-1;)if(o=w[n],Math.abs(x[o]-u[o])>.05){t=!1;break}t&&(a=a.concat(),m&&a.unshift(m),a.push(a[1]),m=a[a.length-3])}for(b.length=c.length=d.length=0,n=w.length;--n>-1;)o=w[n],e[o]=-1!==l.indexOf(","+o+","),v[o]=j(a,o,e[o],m);for(n=b.length;--n>-1;)b[n]=Math.sqrt(b[n]),c[n]=Math.sqrt(c[n]);if(!k){for(n=w.length;--n>-1;)if(e[o])for(p=v[w[n]],s=p.length-1,q=0;s>q;q++)r=p[q+1].da/c[q]+p[q].da/b[q],d[q]=(d[q]||0)+r*r;for(n=d.length;--n>-1;)d[n]=Math.sqrt(d[n])}for(n=w.length,q=h?4:1;--n>-1;)o=w[n],p=v[o],i(p,f,h,k,e[o]),t&&(p.splice(0,q),p.splice(p.length-q,q));return v},l=function(a,b,c){b=b||"soft";var d,e,g,h,i,j,k,l,m,n,o,p={},q="cubic"===b?3:2,r="soft"===b,s=[];if(r&&c&&(a=[c].concat(a)),null==a||q+1>a.length)throw"invalid Bezier data";for(m in a[0])s.push(m);for(j=s.length;--j>-1;){for(m=s[j],p[m]=i=[],n=0,l=a.length,k=0;l>k;k++)d=null==c?a[k][m]:"string"==typeof(o=a[k][m])&&"="===o.charAt(1)?c[m]+Number(o.charAt(0)+o.substr(2)):Number(o),r&&k>1&&l-1>k&&(i[n++]=(d+i[n-2])/2),i[n++]=d;for(l=n-q+1,n=0,k=0;l>k;k+=q)d=i[k],e=i[k+1],g=i[k+2],h=2===q?0:i[k+3],i[n++]=o=3===q?new f(d,e,g,h):new f(d,(2*e+d)/3,(2*e+g)/3,g);i.length=n}return p},m=function(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n,o=1/c,p=a.length;--p>-1;)for(m=a[p],f=m.a,g=m.d-f,h=m.c-f,i=m.b-f,d=e=0,k=1;c>=k;k++)j=o*k,l=1-j,d=e-(e=(j*j*g+3*l*(j*h+l*i))*j),n=p*c+k-1,b[n]=(b[n]||0)+d*d},n=function(a,b){b=b>>0||6;var c,d,e,f,g=[],h=[],i=0,j=0,k=b-1,l=[],n=[];for(c in a)m(a[c],g,b);for(e=g.length,d=0;e>d;d++)i+=Math.sqrt(g[d]),f=d%b,n[f]=i,f===k&&(j+=i,f=d/b>>0,l[f]=n,h[f]=j,i=0,n=[]);return{length:j,lengths:h,segments:l}},o=window._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.2",API:2,global:!0,init:function(a,b,c){this._target=a,b instanceof Array&&(b={values:b}),this._func={},this._round={},this._props=[],this._timeRes=null==b.timeResolution?6:parseInt(b.timeResolution,10);var d,e,f,g,h,i=b.values||[],j={},m=i[0],o=b.autoRotate||c.vars.orientToBezier;this._autoRotate=o?o instanceof Array?o:[["x","y","rotation",o===!0?0:Number(o)||0]]:null;for(d in m)this._props.push(d);for(f=this._props.length;--f>-1;)d=this._props[f],this._overwriteProps.push(d),e=this._func[d]="function"==typeof a[d],j[d]=e?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(a[d]),h||j[d]!==i[0][d]&&(h=j);if(this._beziers="cubic"!==b.type&&"quadratic"!==b.type&&"soft"!==b.type?k(i,isNaN(b.curviness)?1:b.curviness,!1,"thruBasic"===b.type,b.correlate,h):l(i,b.type,j),this._segCount=this._beziers[d].length,this._timeRes){var p=n(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(o=this._autoRotate)for(this._initialRotations=[],o[0]instanceof Array||(this._autoRotate=o=[o]),f=o.length;--f>-1;){for(g=0;3>g;g++)d=o[f][g],this._func[d]="function"==typeof a[d]?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]:!1;d=o[f][2],this._initialRotations[f]=this._func[d]?this._func[d].call(this._target):this._target[d]}return this._startRatio=c.vars.runBackwards?1:0,!0},set:function(b){var c,d,e,f,g,h,i,j,k,l,m=this._segCount,n=this._func,o=this._target,p=b!==this._startRatio;if(this._timeRes){if(k=this._lengths,l=this._curSeg,b*=this._length,e=this._li,b>this._l2&&m-1>e){for(j=m-1;j>e&&b>=(this._l2=k[++e]););this._l1=k[e-1],this._li=e,this._curSeg=l=this._segments[e],this._s2=l[this._s1=this._si=0]}else if(this._l1>b&&e>0){for(;e>0&&(this._l1=k[--e])>=b;);0===e&&this._l1>b?this._l1=0:e++,this._l2=k[e],this._li=e,this._curSeg=l=this._segments[e],this._s1=l[(this._si=l.length-1)-1]||0,this._s2=l[this._si]}if(c=e,b-=this._l1,e=this._si,b>this._s2&&l.length-1>e){for(j=l.length-1;j>e&&b>=(this._s2=l[++e]););this._s1=l[e-1],this._si=e}else if(this._s1>b&&e>0){for(;e>0&&(this._s1=l[--e])>=b;);0===e&&this._s1>b?this._s1=0:e++,this._s2=l[e],this._si=e}h=(e+(b-this._s1)/(this._s2-this._s1))*this._prec}else c=0>b?0:b>=1?m-1:m*b>>0,h=(b-c*(1/m))*m;for(d=1-h,e=this._props.length;--e>-1;)f=this._props[e],g=this._beziers[f][c],i=(h*h*g.da+3*d*(h*g.ca+d*g.ba))*h+g.a,this._round[f]&&(i=Math.round(i)),n[f]?o[f](i):o[f]=i;if(this._autoRotate){var q,r,s,t,u,v,w,x=this._autoRotate;for(e=x.length;--e>-1;)f=x[e][2],v=x[e][3]||0,w=x[e][4]===!0?1:a,g=this._beziers[x[e][0]],q=this._beziers[x[e][1]],g&&q&&(g=g[c],q=q[c],r=g.a+(g.b-g.a)*h,t=g.b+(g.c-g.b)*h,r+=(t-r)*h,t+=(g.c+(g.d-g.c)*h-t)*h,s=q.a+(q.b-q.a)*h,u=q.b+(q.c-q.b)*h,s+=(u-s)*h,u+=(q.c+(q.d-q.c)*h-u)*h,i=p?Math.atan2(u-s,t-r)*w+v:this._initialRotations[e],n[f]?o[f](i):o[f]=i)}}}),p=o.prototype;o.bezierThrough=k,o.cubicToQuadratic=h,o._autoCSS=!0,o.quadraticToCubic=function(a,b,c){return new f(a,(2*b+a)/3,(2*b+c)/3,c)},o._cssRegister=function(){var a=window._gsDefine.globals.CSSPlugin;if(a){var b=a._internals,c=b._parseToProxy,d=b._setPluginRatio,e=b.CSSPropTween;b._registerComplexSpecialProp("bezier",{parser:function(a,b,f,g,h,i){b instanceof Array&&(b={values:b}),i=new o;var j,k,l,m=b.values,n=m.length-1,p=[],q={};if(0>n)return h;for(j=0;n>=j;j++)l=c(a,m[j],g,h,i,n!==j),p[j]=l.end;for(k in b)q[k]=b[k];return q.values=p,h=new e(a,"bezier",0,0,l.pt,2),h.data=l,h.plugin=i,h.setRatio=d,0===q.autoRotate&&(q.autoRotate=!0),!q.autoRotate||q.autoRotate instanceof Array||(j=q.autoRotate===!0?0:Number(q.autoRotate),q.autoRotate=null!=l.end.left?[["left","top","rotation",j,!1]]:null!=l.end.x?[["x","y","rotation",j,!1]]:!1),q.autoRotate&&(g._transform||g._enableTransforms(!1),l.autoRotate=g._target._gsTransform),i._onInitTween(l.proxy,q,g._tween),h}})}},p._roundProps=function(a,b){for(var c=this._overwriteProps,d=c.length;--d>-1;)(a[c[d]]||a.bezier||a.bezierThrough)&&(this._round[c[d]]=b)},p._kill=function(a){var b,c,d=this._props;for(b in this._beziers)if(b in a)for(delete this._beziers[b],delete this._func[b],c=d.length;--c>-1;)d[c]===b&&d.splice(c,1);return this._super._kill.call(this,a)}}),window._gsDefine&&window._gsQueue.pop()(),define("bezier-plugin",function(a){return function(){var b;return b||a.BezierPlugin}}(this)),define("helpers/GsapTweenLite",["require","tween-lite","ease-pack","css-plugin","bezier-plugin"],function(a){"use strict";var b=a("tween-lite");return a("ease-pack"),a("css-plugin"),a("bezier-plugin"),b.defaultOverwrite=!1,b}),define("helpers/external/ao",["require","lodash","external/superagent","polyfills/detection","helpers/utils","helpers/resolver","helpers/GsapTweenLite","helpers/vow","views/helpers/dom"],function(a){"use strict";var b,c,d=a("lodash"),e=a("external/superagent"),f=a("polyfills/detection"),g=a("helpers/utils"),h=(a("helpers/resolver"),a("helpers/GsapTweenLite")),i=a("helpers/vow"),j=a("views/helpers/dom"),k=0,l="SavePlayerData",m="SaveResume",n="GetResumeInfo",o="RefreshSession",p="GetSessionId",q="GetResumeInfoResponse",r="GetSessionIdResponse",s=["<soap:Envelope ",'xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ','xmlns:xsd="http://www.w3.org/2001/XMLSchema" ','xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">',"<soap:Body>"].join(""),t="</soap:Body></soap:Envelope>",u=window.location.origin,v=d.first(window.location.toString().split("#")),w="http://articulate.com",x=function(a){var b=d.rest(arguments);return[a].concat(b).join("/")},y="",z={};z[n]="sendResumeReady",z[p]="onSessionId",z[o]="dontDoAnything",z[m]="dontDoAnything",z[l]="dontDoAnything";var A={queue:[],resumer:null,scoring:null,htmlUpdate:"",lastData:"",unloaded:!1,awaitingResponse:!1,initialize:function(a,b){return window.globals.aoSupport?(this.activityId=a,this.scoring=b||{},this.sessionId=Date.now().toString(),window.addEventListener("beforeunload",this.onBeforeUnload.bind(this)),window.addEventListener("unload",this.onBeforeUnload.bind(this)),this):void 0},setTotalSlides:function(a){this.totalSlides=a},setResumer:function(a){this.resumer=a,this.queueRequest(p)},interactionAnswered:function(a,b){this.updateResults()},quizComplete:function(a){this.updateResults()},courseComplete:function(a){this.updateResults().sendResultsData(),this.scoring.markAttemptsSent(),this.updateResults()},courseStarted:d.noop,reportStatus:d.noop,viewedComplete:d.noop,slideViewed:function(a){var b=[j.writeNode("viewdata",{total:this.totalSlides,viewed:this.resumer.getUniqueViewedSlides().length,viewedcomplete:this.resumer.getUniqueTotalSlides().length})];this.getViewedEls(this.resumer.viewedSlides).forEach(function(a){b.push(a)}),b.push(j.writeCloseNode("viewdata")),this.updateViewData(b.join("")),null!=this.scoring&&this.scoring.isView()&&(this.setViewedResults(),this.scoring.isPastViewThreshold()&&this.sendResultsData())},getViewedEls:function(a){return a.reduce(function(a,b){return a.push(j.writeNode("slide",{id:g.stripPlayer(b.absoluteId),viewgroupid:b.getViewGroupId()},!0)),a},[])},setViewedResults:function(){var a=[j.writeNode("results"),j.writeNode("summary",{slidesviewed:this.resumer.totalViewedSlides.length,slidestotal:this.totalSlides,duration:this.resumer.getCourseTime(),status:this.scoring.getViewedStatus()},!0),j.writeCloseNode("results")].join("");this.updateResultsData(a,!0)},updateResults:function(){if(null!=this.scoring&&!this.scoring.isView()){var a=[j.writeNode("results"),j.writeNode("summary",this.getSummaryAttributes(),!0),j.writeNode("quizzes")];return null!=this.scoring.quiz&&a.push(this.scoring.quiz.getAoSoapXml()),a.push(j.writeCloseNode("quizzes"),j.writeCloseNode("results")),this.updateResultsData(a.join(""),!1),this}},getSummaryAttributes:function(a){return a={},null==this.scoring||this.scoring.isView()||(this.scoring.isType("quiz")&&(a.score=this.scoring.prop("PercentScore"),a.possibleScore=100),a.duration=this.resumer.getCourseTime(),a.status=this.scoring.prop("Status")),a},onSessionId:function(a){this.sessionId=a.querySelector(r).textContent,this.createRefreshInterval()},killRefreshInterval:function(){h.killDelayedCallsTo(this.onIntervalComplete)},createRefreshInterval:function(){h.delayedCall(60,this.onIntervalComplete,void 0,this)},onIntervalComplete:function(){this.queueRequest(o).createRefreshInterval()},dontDoAnything:d.noop,getItem:function(){return this.resumeDfd=new i.Deferred,this.queueRequest(n),this.resumeDfd.promise()},setItem:function(a,b){b!==this.lastData&&(this.lastData=b,this.updateResumeData(b))},sendResumeReady:function(a){var b=a.querySelector(q);this.resumeDfd.resolve(b.textContent)},getWrapperDiv:function(){return document.createElement("div")},updateResumeData:function(a){var c;b=["<resumeData>",a,"</resumeData>"].join(""),c=['<playerdata sessionid="',this.sessionId,'">',b,"</playerdata>"].join(""),this.killRefreshInterval(),this.queueRequest(m,c),this.createRefreshInterval(),this.prepareHtmlUpdate()},updateViewData:function(a){c=a,this.prepareHtmlUpdate()},updateResultsData:function(a,b){y=a,b&&this.prepareHtmlUpdate()},getPlayerData:function(){return['<playerdata sessionid="',this.sessionId,'" ','sendcount="',k,'">',b,c,y,"</playerdata>"].join("")},sendResultsData:function(){var a=this.getPlayerData();k++,this.queueRequest(l,a,!0),this.htmlUpdate=b=c=y=""},prepareHtmlUpdate:function(){this.htmlUpdate=this.getPlayerData()},onBeforeUnload:function(a){var b;return void(this.htmlUpdate.length&&null==this.hasEnded&&(this.hasEnded=!0,b=f.isIE()?"sendSyncRequest":"sendRequest",this[b]({command:l,xmlData:this.htmlUpdate})))},queueRequest:function(a,b,c){var d=c?"push":"unshift",e={command:a,xmlData:b};return 0===this.queue.length&&this.awaitingResponse===!1?this.sendRequest(e):this.queue[d](e),this},requestCallback:function(a,b,c){var d,e;this.awaitingResponse=!1,b||(d=new window.DOMParser,e=d.parseFromString(c.text,"application/xml")),this[a](e),this.popQueue()},popQueue:function(){this.queue.length>0&&this.sendRequest(this.queue.pop())},sendRequest:function(a,b){f.isIE()&&this.hasEnded&&this.sendSyncRequest(a);var c=this.createBaseUrl("services/content/api.asmx"),d=this.createActionUrl("KnowledgeFlash/Services/Content/Api",a.command),g=this.createSoapRequest(a),h=z[a.command];this.awaitingResponse=!0,e.post(c).set("Content-Type","text/xml").set("soapaction",d).send(g).end(this.requestCallback.bind(this,h))},createActionUrl:d.partial(x,w),createBaseUrl:d.partial(x,u),createSoapRequest:function(a){return[s,"<command ".replace("command",a.command),'xmlns="serverUrl/KnowledgeFlash/Services/Content/Api">'.replace("serverUrl",w),"<contentUrl>",v,"</contentUrl>",null!=a.xmlData?a.xmlData:"","</command>".replace("command",a.command),t].join("")},sendSyncRequest:function(a){var b=this.createBaseUrl("services/content/api.asmx"),c=this.createActionUrl("KnowledgeFlash/Services/Content/Api",a.command),d=this.createSoapRequest(a),e=new window.XMLHttpRequest;e.open("POST",b,!1),e.setRequestHeader("SOAPAction",c),e.send(d)}};return window.handleBeforeUnload=A.onBeforeUnload.bind(A),A}),define("helpers/external/lmsInteractionMethods",["require","lodash","helpers/constants"],function(a){"use strict";var b=a("lodash"),c=(a("helpers/constants"),"_"),d=function(a,b){return null==b&&(b=""),a.push(window.CreateResponseIdentifier(b.substr(0,1),b)),a},e=function(a,b,c){var d=b.statement.id||b.statement,e=b.choice.id||b.choice,f=window.CreateResponseIdentifier(c.toString(),e),g=window.CreateResponseIdentifier(d.charAt(0),d);return a.push(new window.MatchingResponse(f,g)),a},f=function(a){return null==a.choice&&""===a?a=c:""===a.choice&&(a.choice=c),a},g={C:window.INTERACTION_RESULT_CORRECT,I:window.INTERACTION_RESULT_WRONG,W:window.INTERACTION_RESULT_WRONG,U:window.INTERACTION_RESULT_UNANTICIPATED,N:window.INTERACTION_RESULT_NEUTRAL},h=function(a){var c=b.first(a).toUpperCase();return g[c]||a},i=function(a){return null!=a?"true"===a.lmstext.toLowerCase():!1},j=function(a,b){var c,d=b,e=[b.prop("AttemptCount")-1,a.getAttempts()];do c=d.get("lmsId"),c&&e.push(c);while(d=d.parent);return e.reverse().join("_")},k={truefalse:function(a,c,d){window.RecordTrueFalseInteraction(j(a,c),i(b.first(c.getResponseValues())),h(c.prop("Status")),i(b.first(c.getCorrectValues())),c.get("lmstext"),a.prop("Weight"),d,a.get("lmstext"))},multiEtc:function(a,c,e,g){var i=(e.isType("sequence"),function(a){return b.isString(a)?a:null!=a.choice?a.choice.lmstext:a.lmstext}),k=e.getResponseValues().map(i).reduce(d,[]),l=e.getCorrectValues().map(i);l=f(l).reduce(d,[]),window[a](j(c,e),k,h(e.prop("Status")),l,e.get("lmstext"),c.prop("Weight"),g,c.get("lmstext"))},numeric:function(a,b,c){window.RecordFillInInteraction(j(a,b),b.getResponseValues(),h(b.prop("Status")),b.getCorrectValues(),b.get("lmstext"),a.prop("Weight"),c,a.get("lmstext"))},matching:function(a,b,c){var d=b.getResponseValues().reduce(e,[]),g=b.getCorrectValues();g=f(g).reduce(e,[]),window.RecordMatchingInteraction(j(a,b),d,h(b.prop("Status")),g,b.get("lmstext"),a.prop("Weight"),c,a.get("lmstext"))},likert:function(a,c,e){var f=c.getResponseValues().map(function(a){return[a.statement,a.choice].join("|#|")});window.RecordLikertInteraction(j(a,c),b.first(f.reduce(d,[])),h(c.prop("Status")),"",c.get("lmstext"),a.prop("Weight"),e,a.get("lmstext"))}};return k.wordbank=k.hotspot=k.multiplechoice=k.multipleresponse=b.partial(k.multiEtc,"RecordMultipleChoiceInteraction"),k.sequence=b.partial(k.multiEtc,"RecordSequencingInteraction"),k.essay=k.fillin=k.numeric,k}),define("helpers/external/lms",["require","lodash","helpers/external/lmsInteractionMethods","helpers/GsapTweenLite","helpers/vow","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/external/lmsInteractionMethods"),d=a("helpers/GsapTweenLite"),e=a("helpers/vow"),f=(a("helpers/utils"),{complete:function(a){a.api.SetReachedEnd()},incomplete:function(a){a.api.ResetStatus()},fail:function(a){a.api.SetFailed()},pass:function(a){a.api.SetPassed()}}),g={queue:[],resumer:null,scoring:null,api:null,lessonCompleted:!1,setTotalSlides:b.noop,courseStarted:b.noop,quizComplete:b.noop,slideViewed:b.noop,initialize:function(a,b){var c=this.startWindow();return c&&(this.scoring=b,this.courseId=a,window.addEventListener("beforeunload",this.lmsUnload.bind(this)),this.initCommitTimeout()),c===!0?this:c},startWindow:function(){this.api=window;var a=b.isFunction(this.api.Start);return a&&this.api.Start(),a},setResumer:function(a){this.resumer=a},getItem:function(a){var b;return this.resumeDfd=this.resumeDfd||new e.Deferred,null!=this.api.IsLoaded&&this.api.IsLoaded()?(b=this.api.GetDataChunk(),this.resumeDfd.resolve(b),this.listenToResumer(),this.lessonCompleted=this.api.GetStatus()===this.api.LESSON_STATUS_COMPLETED):d.delayedCall(.5,this.getItem,void 0,this),null!=a?this.resumeDfd.promise():void 0},listenToResumer:function(){var a=this;this.resumer.resumeDfd.always(function(){"rejected"===this.state()&&(a.lastStatus="incomplete",f.incomplete(a))})},setItem:function(a,b){this.resumeData=b,this.sendDataCall||(this.sendDataCall=d.delayedCall(5,this.sendData,void 0,this))},initCommitTimeout:function(){d.delayedCall(60,this.onCommitDelayComplete,void 0,this)},onCommitDelayComplete:function(){this.commit().initCommitTimeout()},sendData:function(){return this.sendDataCall=null,d.killDelayedCallsTo(this.sendData),this.api.SetDataChunk(this.resumeData),this},interactionAnswered:function(a,b){if(this.scoring){var d=c[b.type()];d(a,b,this.resumer.getCourseTime())}},reportStatus:function(){return this.updateScore(),this.updateStatus(),this},updateStatus:function(){var a=this.scoring.prop("Status"),c=f[a]||b.noop;return this.lastStatus&&this.lastStatus===a||(this.lastStatus=a,c(this)),this},updateScore:function(){var a=this.scoring.prop("PercentScore");this.lastScore!==a&&(this.lastScore=a,this.api.SetScore(a,100,0))},viewedComplete:function(){return f.pass(this),this.resumer.savePresentationData(),this.commit(),this},forceCommit:function(){return this.resumer.savePresentationData(),this.sendData().commit(),this},lmsUnload:function(){return this.resumer.savePresentationData(),this.reportStatus().forceCommit(),this.api.ConcedeControl(),void this.api.Unload()},commit:function(){return this.api.CommitData(),this},courseComplete:function(){return this.reportStatus().forceCommit(),this}};return g}),define("models/presentation/helpers/utils",["require","lodash"],function(a){"use strict";var b=(a("lodash"),{isResumable:function(a){return a.shouldResume?a.shouldResume():!(!a.resume||!a.resume())},meetConditionOrReturn:function(a,b,c){return b.call(a)?a.getResumeData():c}});return b}),define("helpers/resume/localStorageHelper",["require","lodash","helpers/vow"],function(a){"use strict";var b=a("lodash"),c=a("helpers/vow"),d="path=/",e=4048,f=function(a){return a.split("=")},g=function(a){return a[0]},h=function(){var a=new Date(Date.now()+31536e7);return["expires",a.toGMTString()].join("=")},i={setCookie:function(a,b){var c=[a,b].join("=");return document.cookie=[c,h(),d].join("; "),this},getCookies:function(a){var b=document.cookie.split("; "),c=function(b){return 0===b[0].indexOf(a)};return b.map(f).filter(c)},getItem:function(a){var d=new c.Deferred,e=b(this.getCookies(a)).sortBy(g).reduce(function(a,b){return a+b[1]},"");return d.resolve(e),d.promise()},setItem:function(a,b){for(var c,d,f=0;b.length>0;)d=[a,f++].join("_"),c=b.slice(0,e),this.setCookie(d,c),b=b.slice(e);return this}},j={getItem:function(a){var b=new c.Deferred,d=window.localStorage.getItem(a);return b.resolve(d),b.promise()},setItem:function(a,b){return window.localStorage.setItem(a,b)}},k={setResumer:b.noop};return{hasStorage:function(){return null!=window.vInterfaceObject||!b.isUndefined(window.localStorage)},getStorage:function(){return b.extend(k,this.hasStorage()?j:i)}}}),define("helpers/resume/Chunk",["require","lodash","models/BaseModel"],function(a){"use strict";var b=a("lodash"),c=a("models/BaseModel"),d=64,e=6,f="abcdefghijklmnopqrstuvwxyz",g=function(a){return a.toString()},h=b.union(b.range(10).map(g),f.split(""),f.toUpperCase().split(""),"_$".split("")),i=function(a){return h.indexOf(a)},j=/([^a-zA-Z0-9_$])/,k=c.extend({shorthand:["encodedLength","strLength","fullString","encodedString","strVal","remainder"],initialize:function(a){var b,c=1,d=0;"~"===this.fullString().charAt(0)&&(d=2,c=parseInt(this.fullString().charAt(1))),b=d+c,this.encodedLength(this.fullString().slice(d,b)),this.strLength(parseInt(k.fromUnsignedString64(this.encodedLength()))),this.encodedString(this.fullString().slice(b,b+this.strLength())),this.remainder(this.fullString().slice(b+this.strLength()))},getDecodedValue:function(a){var b=this.encodedString();return j.test(b)||(b=k[a](b)),b},reChunk:function(){return new k({fullString:this.remainder()})}}),l=k.prototype;return l.getSignedValue=b.partial(l.getDecodedValue,"fromSignedString64"),l.getUnsignedValue=b.partial(l.getDecodedValue,"fromUnsignedString64"),k.EMPTY_CHUNK=0,k.create=function(a){null==a&&(a="");var b="",c=a.toString().length,d=k.toUnsignedString64(c);return c>63&&(b+="~"+d.length),b+=d+a},k.toUnsignedString64=function(a,c,f){var g="",i=!0,j=a,l=0;for(f=f||k.EMPTY_CHUNK;j>0||i;)i=!1,l=j&d-1,g+=h[l],j>>=e;return g+=b.times(c-g.length,b.partial(b.identity,f)).join("")},k.toSignedString64=function(a,b){var c,e=a,f=0>a,g=1,h=0;for(b=b||-1;Math.pow(d,g)/2<=Math.abs(a);)g++;if(c=Math.max(b,g),f){for(;-a>=Math.pow(d,h)/2;)h++;e=Math.pow(d,h)+a}return k.toUnsignedString64(e,c,f?"$":"0")},k.fromUnsignedString64=function(a){var b=a.toString().split(""),c=function(a,b,c){return a+=i(b)<<e*c};return b.reduce(c,0)},k.fromSignedString64=function(a){var b=k.fromUnsignedString64(a.toString()),c=Math.pow(d,a.length)/2;return b>=c&&(b-=2*c),b},k}),define("helpers/resume/resumer",["require","lodash","helpers/appState","helpers/pubSub","helpers/external/tinCan","helpers/external/ao","helpers/external/lms","models/presentation/helpers/utils","helpers/resume/localStorageHelper","helpers/resume/Chunk","helpers/vow","helpers/errorManager","polyfills/detection"],function(a){
"use strict";var b,c,d,e,f=a("lodash"),g=a("helpers/appState"),h=a("helpers/pubSub"),i=a("helpers/external/tinCan"),j=a("helpers/external/ao"),k=a("helpers/external/lms"),l=(a("models/presentation/helpers/utils"),a("helpers/resume/localStorageHelper")),m=a("helpers/resume/Chunk"),n=a("helpers/vow"),o=a("helpers/errorManager"),p=a("polyfills/detection"),q=(o.warn("resumer"),function(a){return a.remainder().length===a.getUnsignedValue()}),r=function(a){return a.match(/.{2}/g)},s=function(a){return a.getViewGroupId()},t={viewedSlides:[],totalViewedSlides:[],courseStartTime:!1,initialize:function(a){return f.bindAll(this,"savePresentationData"),b=a,c=a.resume()||{},this.resumeDfd=new n.Deferred,this.resumeDfd.fail(function(){this.setViewedSlidesFromString("")}.bind(this)),this.setProperLms(),this.isResumable()?this.informExternals().setListeners().createSceneResumeArray().setResumeDataCallback().initResumeData():this.checkAndReject(),this.resumeDfd.promise()},isResumable:function(){return!!e},setProperLms:function(){var a=c.lmsresume===!0,d=b.get("scoring"),f=b.get("courseId");return this.hasLms=!0,window.globals.tinCanPresent&&a?e=i.initialize(f,b.get("tincanVersion"),d):window.globals.aoSupport&&a?e=j.initialize(f,d):window.globals.lmsPresent&&a?(e=k.initialize(f,d),this.hasLms=this.isResumable()):c.flashresume===!0?(this.hasLms=!1,e=l.getStorage()):this.hasLms=!1,this},informExternals:function(){return e.setResumer(this),this},setListeners:function(){return h.on({"player:closing":this.closePlayer.bind(this),"slide:viewed":this.slideViewed.bind(this)}),this.hasLms&&h.on({"interaction:evaluated":this.onInteractionEvaluated,"quiz:completed":e.quizComplete.bind(e),"course:completed":e.courseComplete.bind(e),"course:viewed":e.viewedComplete.bind(e),"status:updated":e.reportStatus.bind(e)}),this},onInteractionEvaluated:function(a,b){a.hasScoring()&&e.interactionAnswered(a,b)},closePlayer:function(){f.isFunction(e.lmsUnload)?e.lmsUnload():window.top.window.open("","_self","").close()},setWindowManager:function(a){d=a,this.checkQuickResume()},createSceneResumeArray:function(){return this.sceneResume=b.scenes().map(function(a,b){return m.EMPTY_CHUNK}),this},callForLightboxClose:function(){return h.trigger("window:closing",c.window),this},resolveDeferred:function(){return this.resumeDfd.resolve(),h.trigger("resume:setdata",this.totalViewedSlides),this},rejectDeferred:function(){return this.resumeDfd.reject(),h.trigger("resume:setdata"),this},checkAndReject:function(){p.isMobile?g.getAppCompletePromise().done(function(){h.trigger("mobileStart:requesting",this.rejectDeferred.bind(this))}.bind(this)):this.rejectDeferred()},initResumeData:function(){e.getItem(c.id).done(function(a){var b=!1;null!=a&&a.length&&(b=this.processResumeData(a)),b?this.checkApplyResumeData():this.checkAndReject()}.bind(this))},processResumeData:function(a){var b=!1,c=new m({fullString:a});return q(c)?(this.resumeData=c.reChunk(),b=!0):o.warn("processResumeData","the data is the incorrect length, resume not attempted"),b},checkApplyResumeData:function(){return c.prompt&&g.getAppCompletePromise().done(function(){h.trigger("nextSlide:requesting",c.slideId,c.window)}),this},checkQuickResume:function(){null==this.resumeData||c.prompt||this.resolveDeferred()},applyResumeData:function(a){var b=a?"resolveDeferred":"rejectDeferred";this.callForLightboxClose(),this[b]()},slideViewed:function(a){a.get("trackViews")&&(this.addSlideToViewedList(a),this.hasLms&&e.slideViewed(a))},addSlideToViewedList:function(a){this.viewedSlides.push(a),this.viewedSlides=f.uniq(this.viewedSlides),this.totalViewedSlides.push.apply(this.totalViewedSlides,this.viewedSlides),this.totalViewedSlides=f.uniq(this.totalViewedSlides)},getViewedSlidesString:function(){return this.totalViewedSlides.reduce(function(a,b){return a+m.toUnsignedString64(b.prop("Index"),2)},"")},setViewedSlidesFromString:function(a){if(a.length){var c=b.getFlatSlides(),d=b.get("scoring");this.totalViewedSlides=r(a).map(m.fromUnsignedString64).map(function(a){var b=c[a];return b}.bind(this)),d.viewedSlides=this.totalViewedSlides.length}this.hasLms&&e.setTotalSlides(b.getUniqueSlides().length)},getUniqueSlides:function(a){return f.uniq(this[a],s)},collectResumeData:function(){return[m.create(this.getViewedSlidesString()),m.create(d.getResumeData()),m.create(b.variables().getResumeDataOrReturn("")),this.sceneResume.join(""),b.quizzes().getResumeData()].join("")},savePresentationData:function(a){if(!this.isResumable()||n.isPending(this.resumeDfd))return this;var b,f,g=d.getCurrentWindowSlide();this.saveSceneData(a),null!=g&&(b=this.collectResumeData(),f=m.toUnsignedString64(b.length),this.resumeData=b,e.setItem(c.id,m.create(f)+b))},saveSceneData:function(a){null!=a&&(this.sceneResume[a.index()]=m.create(a.getResumeData()))},setResumeDataCallback:function(){return this.resumeDfd.done(this.setResumeData.bind(this)),this},setResumeData:function(){var a,c=this.resumeData.encodedString(),e=this.resumeData.reChunk(),f=e.reChunk(),g=f.reChunk();b.variables().setResumeData(f.encodedString()),a=this.setSceneResumeData(g),b.quizzes().setResumeData(new m({fullString:a})),this.setViewedSlidesFromString(c),d.setResumeData(e.encodedString())},setSceneResumeData:function(a){return b.scenes().forEach(function(b){b.setResumeData(a.encodedString()),a=a.reChunk()}),a.fullString()},courseStarted:function(a){this.courseStartTime=Date.now(),this.hasLms&&e.courseStarted(a)},getCourseTime:function(){return Date.now()-this.courseStartTime}};return t.getUniqueViewedSlides=f.partial(t.getUniqueSlides,"viewedSlides"),t.getUniqueTotalSlides=f.partial(t.getUniqueSlides,"totalViewedSlides"),t}),define("helpers/slidesController",["require","lodash","backbone","helpers/errorManager","mixins/subscribable","helpers/pubSub","helpers/resolver"],function(a){"use strict";var b,c=a("lodash"),d=a("backbone"),e=a("helpers/errorManager"),f=a("mixins/subscribable"),g=(a("helpers/pubSub"),a("helpers/resolver")),h=(e.throwError("slidesController"),e.warn("slidesController")),i=e.backtick,j=c.extend({initialize:function(a){b=a,this.addSubscriptions()},ensureSlideIsSlide:function(a){return a.isScene&&(a=this.getStartingSlide(a)),a.isSlideDraw&&(a=a.slides().first()),a},getSlide:function(a,c){var d=g.isRelativePath(a)?c:b,e=g.resolvePath(a,d,{optional:!0});return e||(h("getSlide","could not resolve slide",i(a),"so defaulting to entry point"),e=this.getSlide(this.getEntrypoint())),e=this.ensureSlideIsSlide(e)},getRef:function(a){var c=b.slideMap().slideRefs();return c.get(a.fullId())||c.get(a.id)},getStartingSlide:function(a){return g.resolvePath(a.startingSlide(),b)},getEntrypoint:function(){return b.entryPoint()},loadSlide:function(a,c){var d=this.getSlide(a,c),e=d.load(this.getRef(d));return b.slideMap().setCurrent(d.absoluteId,e),e},getSlideFromIndices:function(a,c){return b.scenes().at(a).slides().at(c)},getDrawFromIndices:function(a,c,d){return b.scenes().at(c).slidedraws().at(a).slides().at(d)}},d.Events,f);return j}),define("views/presentation/mixins/slideWindow",["require","lodash","helpers/resume/Chunk"],function(a){"use strict";var b=a("lodash"),c=a("helpers/resume/Chunk"),d={componentWillUpdate:function(a,b){b.currentSlide&&b.currentSlide.resetBeforeView().applyResumeData().resetCurrentTimeline()},componentDidMount:function(){this.slideContainer=this.findComponent("SlideContainer")},getInitialState:function(){return{history:[],currentSlide:this.getCurrentSlide()}},forceTransition:function(){this.getCurSlidePromise().done(function(a){a.forceTransition()})},getCurrentSlide:function(){return b.last(this.state?this.state.history:[])},getPrevSlide:function(){var a=this.state.history;return a.length>1&&a[a.length-2]},canGoForward:function(a){return b.last(this.state.history)!==a},pushHistory:function(a){return this.canGoForward(a)&&this.refreshHistory(a),this},popHistory:function(){return this.getPrevSlide()&&this.refreshHistory(),this},refreshHistory:function(a){var c=this.state.history.slice();return a?c.push(a):c.pop(),this.setState({history:c,currentSlide:b.last(c)}),this},prepareToUpdateSlide:function(a){return this.slideContainer.prepareToUpdateSlide(a),this},replaceSlideWith:function(a){return this.slideContainer.replaceSlideWith(a),this},rebuildCurSlide:function(){return this.slideContainer.rebuildCurSlide(),this},getCurSlide:function(){return this.slideContainer.curSlide},getCurSlidePromise:function(){return this.slideContainer.getCurSlidePromise()},unmountSlide:function(){this.slideContainer.unmountSlide()},getHistoryResumeData:function(){var a=function(a){return a.getWindowResumeRef()},c=this.state.history.map(a);return[b.last(c)].concat(b.initial(c)).join("")},getResumeData:function(){var a=this.props.model,b=null==a?0:a.index()+1;return[c.toUnsignedString64(b),this.getHistoryResumeData()].map(c.create).join("")},setPreviousHistory:function(a){var b=this.state.history;b.unshift.apply(b,a)}};return d}),define("views/presentation/LightBox",["require","lodash","react","helpers/constants","views/mixins/baseView","helpers/pubSub","views/presentation/mixins/slideWindow"],function(a){"use strict";var b=(a("lodash"),a("react")),c=a("helpers/constants"),d=a("views/mixins/baseView"),e=a("helpers/pubSub"),f=a("views/presentation/mixins/slideWindow"),g=b.createClass({displayName:"LightBox",mixins:[d,f],getTabbableItems:function(){return this.refs.close.dsFocusController=this,[{idx:c.tabIndices.LIGHTBOX_CLOSE,item:this.refs.close}]},shouldUpdate:function(a,b){return this.state.currentSlide!==b.currentSlide?(this.updateSizeCalculations(b.currentSlide),!0):!1},updateSizeCalculations:function(a){this.slideScale=this.calcSlideScale(a),this.slideWrapperHeight=this.calcSlideWrapperHeight(a)},calcSlideWrapperHeight:function(a){return a.get("height")*this.slideScale},calcSlideScale:function(a){var b=a.get("width"),c=this.getAdjustedWindowWidth();return c/b},getAdjustedWindowWidth:function(){return this.props.model.get("width")-this.getWindowOffsetWidth()},getWindowOffsetWidth:function(){var a=window.getComputedStyle(this.find(".lightbox")),b=parseFloat(a.paddingTop),c=parseFloat(a.borderTopWidth);return 2*(b+c)},close:function(a){e.trigger("window:closing",this.getPath("props.model.id"))},stealFocus:function(a){var c=b.findDOMNode(a);c.focus(),c.classList.add("focused")},releaseFocus:function(a){var c=b.findDOMNode(a);c.blur(),c.classList.remove("focused")}});return g}),define("views/presentation/MessageWindow",["require","lodash","react","views/mixins/baseView","views/presentation/mixins/slideWindow"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("views/presentation/mixins/slideWindow"),f=c.createClass({displayName:"MessageWindow",mixins:[d,e],windowType:function(){return this.state.currentSlide?b.kebabCase(this.state.currentSlide.id).split("-").slice(0,3).join("-"):""},isScaleable:function(){return"resume-prompt-slide"===this.windowType()}});return f}),define("helpers/windowManager",["require","lodash","helpers/utils","backbone","react","helpers/resume/resumer","helpers/resume/Chunk","mixins/subscribable","helpers/pubSub","helpers/appState","helpers/slidesController","views/presentation/LightBox","views/presentation/MessageWindow"],function(a){"use strict";var b,c=a("lodash"),d=a("helpers/utils"),e=a("backbone"),f=a("react"),g=a("helpers/resume/resumer"),h=a("helpers/resume/Chunk"),i=a("mixins/subscribable"),j=a("helpers/pubSub"),k=a("helpers/appState"),l=a("helpers/slidesController"),m=a("views/presentation/LightBox"),n=a("views/presentation/MessageWindow"),o=100,p=function(a,b){return f.createElement(a,b)},q=function(a,b){return a.classList.add("opaque"),a.style.zIndex=o++,j.trigger("window:created",b),f.render(b,a)},r=function(a,c,d){return q(document.querySelector("#overlay-container"+(a?"-controls":"")),p(m,{hasControls:a,state:k,model:b.windows().get(c)}))},s=function(a,c){return q(document.querySelector("#overlay"),p(n,{model:b.windows().get(a)}))},t={LightboxControlsWnd:c.partial(r,!0),LightboxWnd:c.partial(r,!1),MessageWnd:s},u="_current",v=c.extend({subscriptions:{"mainWindow:created":"onMainWindowCreated","nextSlide:requesting":"onRequestingNextSlide","prevSlide:requesting":"onRequestingPrevSlide","nextDrawSlide:requesting":"onRequestingNextDrawSlide","window:closing":"onCloseWindowById"},initialize:function(a){b=a,this.windows=[],this.addSubscriptions(),j.trigger("windowManager:created",this)},getCurrentWindow:function(){return c.last(this.windows)},getMainWindow:function(){return c.first(this.windows)},getCurrentWindowSlide:function(){var a=this.getCurrentWindow();return a&&a.state.currentSlide},removeWindow:function(a){return this.windows=c.without(this.windows,a),this},addWindow:function(a){return this.removeWindow(a),this.windows.push(a),this},getOrCreateWindow:function(a,b){var c,d=this.getCurrentWindow();return a&&a!==u?(d&&(c=d.getCurSlide(),c&&(this.lastTimeline=c.props.model.currentTimeline(),this.lastTimeline.pause())),this.findWindowById(a)||t[a](a,b)):d},findWindowById:function(a){var b;return a===u?this.getCurrentWindow():(b=function(b){return d.getPath(b,"props.model.id")===a},c.find(this.windows,b))},isLightBoxActive:function(){return this.getCurrentWindow()!==this.getMainWindow()},moveMainWindowSlideToOtherWindow:function(a){var b=this.getMainWindow(),c=b.getCurSlide();a.replaceSlideWith(c),b.hasHadSlideMoved=!0;var d=function(c){c===a&&(b.hasHadSlideMoved=!1,b.rebuildCurSlide(),j.off("window:closed",d))};return j.on("window:closed",d),this},onMainWindowCreated:function(a){this.addWindow(a),g.setWindowManager(this)},onCloseWindowById:function(a){var b,c=this.findWindowById(a);c&&(c.el&&(b=c.el.parentNode)&&(b.classList.remove("opaque"),this.lastTimeline&&(this.lastTimeline.play(),this.lastTimeline=null),c.unmountSlide(),f.unmountComponentAtNode(b)),this.removeWindow(c),j.trigger("window:closed",c),g.savePresentationData())},loadSlide:function(a,b){l.loadSlide(a,this.getCurrentWindowSlide()).done(b.bind(this)),j.trigger("slide:hasChanged",d.stripPlayer(a))},onRequestingPrevSlide:function(){var a=this.getCurrentWindow(),b=a.getPrevSlide(),c=function(b){this.updateWindowHistory(a)};b&&this.loadSlide(b.absoluteId,c)},onRequestingNextSlide:function(a,b){var c=this.getCurrentWindowSlide();c?this.getCurrentWindow().forceTransition():a=a||l.getEntrypoint(),a?this.loadSlide(a,function(a){var c=this.getOrCreateWindow(b);this.addWindow(c),this.updateWindowHistory(c,a)}):c.executePlayerEvent("onnextslide")},onRequestingNextDrawSlide:function(){var a,b=this.getCurrentWindowSlide(),c=b.getSlideDraw();c&&(a=c.getNextSlideId(b),a?this.onRequestingNextSlide(a):c.performExitAction())},updateWindowHistory:function(a,b){var c,d=!!b,e=this.getMainWindow(),f=a===e;c=!f&&b===e.state.currentSlide&&!e.hasHadSlideMoved,a.prepareToUpdateSlide(c),d?a.pushHistory(b):a.popHistory(),c&&(this.lastTimeline&&this.lastTimeline.play(),this.moveMainWindowSlideToOtherWindow(a))},getResumeData:function(){return this.windows.reduce(function(a,b){return a+h.create(b.getResumeData())},"")},setResumeData:function(a){for(var b=new h({fullString:a}),c=b.encodedString();c.length;)this.setWindowAndHistory(c),b=b.reChunk(),c=b.encodedString()},setWindowAndHistory:function(a){var b=new h({fullString:a}),c=b.getUnsignedValue(),d=b.reChunk(),e=this.createSlideHistoryArray(d.encodedString());this.setLoadedWindow(c,e)},setLoadedWindow:function(a,b){var c=this.getWindowFromIndex(a,b),d=b.pop();this.loadSlide(d.absoluteId,function(a){c.setPreviousHistory(b),this.updateWindowHistory(c,a)})},getWindowFromIndex:function(a,c){var d,e;return 0===a?d=this.getMainWindow():(e=b.windows().at(a-1).id,d=this.getOrCreateWindow(e),this.addWindow(d)),d},createSlideHistoryArray:function(a){for(var b,d,e=[];a.length;)d="1"===a.charAt(0)?"getDrawFromResumeData":"getSlideFromResumeData",b=this[d](a.slice(1)),e.push(b.slide),a=b.data;return c.rest(e).concat([c.first(e)])},getSlideFromResumeData:function(a){var b=new h({fullString:a}),c=b.reChunk(),d=b.getUnsignedValue(),e=c.getUnsignedValue();return{slide:l.getSlideFromIndices(e,d),data:c.remainder()}},getDrawFromResumeData:function(a){var b=new h({fullString:a}),c=b.reChunk(),d=c.reChunk(),e=b.getUnsignedValue(),f=c.getUnsignedValue(),g=d.getUnsignedValue();return{slide:l.getDrawFromIndices(g,f,e),data:d.remainder()}}},e.Events,i);return k.windowManager=v,v}),define("views/player/mixins/appStateable",["require","lodash","views/helpers/dom","helpers/appState","backbone","helpers/utils","helpers/windowManager"],function(a){"use strict";var b=a("lodash"),c=a("views/helpers/dom"),d=a("helpers/appState"),e=(a("backbone"),a("helpers/utils"),a("helpers/windowManager")),f={componentDidMount:function(){this.layoutProps=[],this.liveCallbacks={};var a=b.isFunction(this.stateableValues)?this.stateableValues():this.stateableValues;b.forOwn(a,function(a,b){a&&(this.liveCallbacks[b]=a),this.layoutProps.push(b)}.bind(this)),this.isInLightBox=!!c.closest(this.el,function(a){return a.classList.contains("lightbox")}),this.listenTo(d,"layout:changed",this.onLayoutChanged),this.onLayoutChanged(d,d.currentLayout()||{})},componentWillUnmount:function(){this.stopListening()},onLayoutChanged:function(a,c){this.layoutProps.forEach(function(a){var d=this.getLayoutPropVal(c,a);if((!e.isLightBoxActive()||this.isInLightBox)&&"undefined"!=typeof d){var f,g,h={},i=this.liveCallbacks[a],j=!!(d&&null!=d.enabled?d.enabled:d);null!=i?i(j):(f=a.split("."),g=f.length>1?b.last(f):b.first(f),h["stateable_"+g]=j,this.setState(h))}}.bind(this)),this.stateableValuesUpdated&&this.stateableValuesUpdated(c)},getLayoutPropVal:function(a,c){return b.reduce(c.split("."),function(a,b){return a[b]},a)}};return f}),define("views/player/Topbar",["require","lodash","views/helpers/dom","react","views/player/mixins/appStateable","views/mixins/baseView","helpers/utils"],function(a){"use strict";var b=(a("lodash"),a("views/helpers/dom")),c=a("react"),d=a("views/player/mixins/appStateable"),e=a("views/mixins/baseView"),f=a("helpers/utils"),g=c.createClass({displayName:"Topbar",mixins:[e,d],componentDidMount:function(){this.afterHtmlReady(this.adjustLayout)},componentDidUpdate:function(){this.adjustLayout()},stateableValuesUpdated:function(a){this.htmlReady(this.adjustLayout)},hasLinkLeft:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.tabs.linkLeft")},hasLinkRight:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.tabs.linkRight")},hasTitle:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.titleEnabled")},hasTimer:function(){return this.getPath("props.timers").length>0},adjustLayout:function(){var a=".topmenu-item:not(.hidden) .topmenu-tab",c=this.find(".presentation-title"),d=this.find(".top-tabs"),e=this.findAll(".top-tabs-right "+a),f=this.findAll(".top-tabs-left "+a),g=e.concat(f),h=c&&this.hasSpaceForTitle(c,f,e);this.el.classList[h?"add":"remove"]("centered-title"),this.el.classList[g.length&&c?"add":"remove"]("extended-height"),b.resizeToFit(d,g,void 0,-2)},hasSpaceForTitle:function(a,b,c){return!b.length&&(!c.length||a.getBoundingClientRect().right<c[0].getBoundingClientRect().left)},onTimerShow:function(a){f.showTimer(this,a)}});return g}),define("views/mixins/propertizable",["require","lodash","helpers/constants"],function(a){"use strict";var b=(a("lodash"),a("helpers/constants")),c=(b.PLAYER_PROPS_KEYPATH,{getInitialState:function(){return this.constructProps(),this.playerPropsModel.toJSON()},constructProps:function(){var a=this.props.model;return this.playerPropsModel={},a&&a.createPlayerProps&&(this.playerPropsModel=a.createPlayerProps(),this.listenTo(this.playerPropsModel,"change",this.onUpdatePlayerProps)),this},onUpdatePlayerProps:function(){this.isMounted()&&this.setState(this.playerPropsModel.toJSON())},componentWillUnmount:function(){this.props.model&&this.props.model.prepareResumeData()},getPlayerProp:function(a){return this.state[a]},setPlayerProp:function(a,b){return this.props.model.prop(a,b)}});return c}),define("views/mixins/mouseable",["require","lodash","views/events/mouseEvents"],function(a){"use strict";var b=a("lodash"),c=a("views/events/mouseEvents"),d={componentWillMount:function(){this.offs=[]},registerEvent:function(a,b,d){d=d||this.el,this.offs.push(c[a](d,b,this))},componentWillUnmount:function(){b(this.offs).flatten().invoke("teardown").value()}};return d}),define("helpers/svg/svgUtils",["require","lodash","helpers/utils","helpers/constants","helpers/cssPrefix"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("helpers/constants"),e=a("helpers/cssPrefix"),f="http://www.w3.org/1999/xlink",g="http://www.w3.org/2000/svg",h=d.math.TWO_PI,i=function(a){return function(){return b.toArray(arguments).concat(a)}},j=function(a,c,d){var e,f=i(b.slice(arguments,3));return e=c.apply(null,f(d)),e=a.apply(null,f(f,c,e,d))},k=function(a,b,c,d){return null!=c&&c!==!1||!d.children||d.children.every(function(d){var e=a(b,d),f=n.getFromNodeConfig.apply(null,e);return null!=f&&f!==!1?(c=f,!1):!0}),c},l=function(a,c,d){return d.children&&!d.children.skipTraversal&&(d.children=d.children.map(function(d){if(b.isString(d))return d;var e=a(c,d);return m.apply(null,e)})),d},m=b.partial(j,l),n={isNodeOfType:function(a,b){var c;return b&&(c=b.tagName||b.nodeType),c?a.toLowerCase()===c.toLowerCase():!1},svgPrefix:function(a){return[d.SVG_NODE_PREFIX,a].join(d.NODE_DELIMITER)},buildTransformFn:function(a){var c;return b.isPlainObject(a)?(c=a.args.slice(),a=a.type):c=b.rest(arguments),[a,"(",c.join(", "),")"].join("")},buildTransformConfig:function(a){return{type:a,args:b.rest(arguments)}},applyTransformTo:function(a,b){return a.transform=[b],a},getTransformOf:function(a){return a.transform=a.transform||[],a.transform},transformNodeConfig:function(a,c){b.isFunction(a.beforeStart)&&a.beforeStart();var d=m.apply(null,arguments);return b.isFunction(a.afterFinish)&&(d=a.afterFinish(d)),d},getFromNodeConfig:b.partial(j,k),getFullSvgConfig:function(a,d,h){var i={height:d.fullHeight+Math.ceil(d.strokewidth/2),width:d.fullWidth+Math.ceil(d.strokewidth/2)},j={nodeType:"svg",xmlns:g,"xmlns:xlink":f,"data-xmlns-xlink":f,version:"1.1",baseprofile:"full",height:d.fullHeight,width:d.fullWidth,viewBox:[d.fullX,d.fullY,d.fullWidth,d.fullHeight].join(" "),children:[a],"data-commandset-id":h,"data-accepts":"events",ref:b.uniqueId("ref-")};return i[e.camelCase("transform")]=n.transformTranslate(c.pxify(d.fullX),c.pxify(d.fullY)),{nodeType:"div",className:"slideobject-maskable",style:i,children:[j]}},createSvgNode:function(a,b){var c=document.createElementNS(g,"svg");return c.setAttribute("width",a),c.setAttribute("height",b),c},getFirstTransformOfType:function(a,c){return b.find(c,{type:a})},buildUrl:function(a){return["url(#",a,")"].join("")},namespaceSvgImages:function(a){var b=a.findAll("[data-xlink-href]");b.forEach(function(a){a.setAttributeNS(f,"href",a.getAttribute("data-xlink-href"))})},createElement:function(a){return document.createElementNS(g,a)},rectPath:function(a,b,c,d){var e=a+c,f=b+d;return["M",a,b,"L",e,b,e,f,a,f].join(" ")},ellipsePath:function(a,b,c,d){var e=2*c;return["M",a,b,"m",-c,0,"a",c,d,0,1,0,e,0,"a",c,d,0,1,0,-e,0].join(" ")},diamondPath:function(a,b,c,d){var e=c/2,f=d/2,g=e+a,h=f+b;return["M",g,b,"L",c+a,h,g,d+b,a,h].join(" ")},rightRoundedRectPath:function(a,b,c,d,e){return["M",a,b,"h",c-e,"a",e,e,"0 0 1",e,e,"v",d-2*e,"a",e,e,"0 0 1",-e,e,"h",e-c,"z"].join(" ")},wheelPath:function(a,b,d,e,f){if(!f)return"";e=c.degToRad(e),f=c.degToRad(f),f===h&&(f=h-1e-5);var g=f-e>Math.PI?1:0,i=c.fix(d*Math.cos(e),4),j=c.fix(d*Math.sin(e),4),k=c.fix(a+d*Math.cos(f),4),l=c.fix(b+d*Math.sin(f),4);return["M",a,b,"l",i,j,"A",d,d,0,g,1,k,l,"z"].join(" ")}};return n.getFirstTranslate=b.partial(n.getFirstTransformOfType,"translate"),n.getFirstRotate=b.partial(n.getFirstTransformOfType,"rotate"),n.getFirstScale=b.partial(n.getFirstTransformOfType,"scale"),n.buildTranslateConfig=b.partial(n.buildTransformConfig,"translate"),n.buildRotateConfig=b.partial(n.buildTransformConfig,"rotate"),n.buildScaleConfig=b.partial(n.buildTransformConfig,"scale"),n.isImageNode=b.partial(n.isNodeOfType,"image"),n.isPatternNode=b.partial(n.isNodeOfType,"pattern"),n.isDefsNode=b.partial(n.isNodeOfType,"defs"),n.isUseNode=b.partial(n.isNodeOfType,"use"),n.isPathNode=b.partial(n.isNodeOfType,"path"),n.isTextNode=b.partial(n.isNodeOfType,"text"),n.isTspanNode=b.partial(n.isNodeOfType,"tspan"),n.transformScale=b.partial(n.buildTransformFn,"scale"),n.transformRotate=b.partial(n.buildTransformFn,"rotate"),n.transformTranslate=b.partial(n.buildTransformFn,"translate"),n.scaleFromCenter=function(a,b){return null==b&&(b=a),[n.transformTranslate(.5,.5),n.transformScale(a,b),n.transformTranslate(-.5,-.5)].join(" ")},n.getDefsNode=b.partial(n.getFromNodeConfig,function(a){return n.isDefsNode(a)?a:void 0}),n}),define("helpers/assetManager",["require","lodash","helpers/errorManager","helpers/vow"],function(a){"use strict";var b,c=a("lodash"),d=a("helpers/errorManager"),e=a("helpers/vow"),f=d.throwError("assetManager"),g=d.backtick,h="No asset with id of",i="Must pass in an array of asset ids",j={initialize:function(a){return b=a,this},getAsset:function(a){var c=b.get(a);return c||f("getAsset",h,g(a)),c},getAssetUrl:function(a){return this.getAsset(a).url()},loadAsset:function(a){return this.getAsset(a).load()},loadAssets:function(a){c.isArray(a)||f("loadAssets",i);var b=a.map(this.loadAsset.bind(this)),d=e.after.apply(null,b);return d.dfds=c.pluck(b,"dfd"),d}};return j}),define("views/mixins/zoompanable",["require","lodash","helpers/GsapTweenLite","helpers/svg/svgUtils","helpers/utils","helpers/assetManager","views/helpers/dom"],function(a){"use strict";var b=(a("lodash"),a("helpers/GsapTweenLite")),c=(a("helpers/svg/svgUtils"),a("helpers/utils")),d=a("helpers/assetManager"),e=a("views/helpers/dom"),f=.1,g=function(a,b,c){return(c*a-c)/2-b*a},h={componentWillMount:function(){this.listenTo(this.props.model,"zoompan",this.zoomPan),this.zoomPans={},this.zoomBackgrounds=[]},zoomPan:function(a){if(!this.zoomPans[a.event.time]&&this.el){var h,i,j,k,l=a.action,m=a.event,n=this.props.model,o=n.currentTimeline(),p=n.get("width"),q=n.get("height"),r=this.el,s=l.duration/1e3,t=(m.time+l.duration*f)/1e3,u=p/l.width,v=g(u,l.xPos,p),w=g(u,l.yPos,q);this.zoomPans[m.time]=l,r.style[this.cssTransformOrigin]="50% 50%",h=b.to(r,s,{x:v,y:w,scale:u,ease:"Cubic.easeIn"}),o.addChildTimeline(h,m.timelineLabel),this.lastZoomBackground&&(k=b.to(this.lastZoomBackground,0,{autoAlpha:0}),o.addChildTimeline(k,t)),-1!==l.staticimageassetid&&(i=r.querySelector(".zoom-bg-container"),j=document.createElement("img"),j.src=d.getAssetUrl(l.staticimageassetid),e.setStyles(j,{position:"absolute",left:c.pxify(l.xPos),top:c.pxify(l.yPos),width:c.pxify(l.width),height:c.pxify(l.height),visibility:"hidden"}),i.appendChild(j),k=b.to(j,0,{autoAlpha:1}),o.addChildTimeline(k,t)),this.lastZoomBackground=j}}};return h}),define("helpers/TransMatrix",["require","lodash","helpers/svg/svgUtils","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=a("helpers/utils"),e=6,f=1e-12,g=function(a){return Math.abs(a)<=f},h=function(){this.reset()};return b.extend(h.prototype,{adjustByViewProps:function(a){return this.translate(a.RawXPos,a.RawYPos).scale(a.ScaleX,a.ScaleY,a.rotateXPos,a.rotateYPos).rotate(a.Rotation,a.rotateXPos,a.rotateYPos),this},reset:function(){return this.a=this.d=1,this.c=this.b=this.tx=this.ty=0,this},translate:function(a,b){return this.tx+=a*this.a+b*this.b,this.ty+=a*this.c+b*this.d,this},scale:function(a,b,c,d){var e=c||d;return e&&this.translate(c,d),this.a*=a,this.c*=a,this.b*=b,this.d*=b,e&&this.translate(-c,-d),this},rotate:function(a,b,c){a*=Math.PI/180;var d=Math.cos(a),e=Math.sin(a),f=b-b*d+c*e,g=c-b*e-c*d,h=this.a,i=this.b,j=this.c,k=this.d;return this.a=d*h+e*i,this.b=-e*h+d*i,this.c=d*j+e*k,this.d=-e*j+d*k,this.tx+=f*h+g*i,this.ty+=f*j+g*k,this},transform:function(a,b){return{x:a*this.a+b*this.b+this.tx,y:a*this.c+b*this.d+this.ty}},copy:function(){var a=new h;return a.a=this.a,a.b=this.b,a.c=this.c,a.d=this.d,a.tx=this.tx,a.ty=this.ty,a},invert:function(){var a=1/(this.a*this.d-this.b*this.c),b=this.d*a,c=-this.b*a,d=-this.c*a,e=this.a*a,f=a*(this.c*this.ty-this.d*this.tx),g=a*(this.b*this.tx-this.a*this.ty);return this.a=b,this.b=c,this.c=d,this.d=e,this.tx=f,this.ty=g,this},toCssTransform:function(){var a=d.fix(this.a,e),b=d.fix(this.b,e),f=d.fix(this.c,e),g=d.fix(this.d,e),h=d.fix(this.tx,e),i=d.fix(this.ty,e);return c.buildTransformFn("matrix",a,b,f,g,h,i)},getScale:function(){var a=d.hypot(this.a,this.c),b=d.hypot(this.b,this.d);return{x:a,y:b}},transformPoint:function(a,b){return{x:a*this.a+b*this.c+this.tx,y:a*this.b+b*this.d+this.ty}},unTransformPoint:function(a,b){return this.copy().invert().transformPoint(a,b)},decompose:function(){var a,b,c=this.a,d=this.b,e=this.c,f=this.d;return g(c*f-d*e)?null:(a=Math.sqrt(c*c+d*d),c/=a,d/=a,b=Math.sqrt(e*e+f*f),e/=b,f/=b,d*e>c*f&&(c=-c,d=-d,a=-a),{scaling:{x:a,y:b},rotation:180*-Math.atan2(d,c)/Math.PI})}}),h}),define("helpers/slideObjectUtils",["require","lodash","views/helpers/dom"],function(a){"use strict";var b=a("lodash"),c=a("views/helpers/dom"),d=function(a,b){return b(a)?!0:!!c.closest(a,b)},e=function(a){return a.scrollHeight>a.offsetHeight},f=b.partialRight(d,function(a){return c.hasClass(a,"scrollarea-area")}),g=function(a){return c.hasClass(a,"draggable")},h=b.partialRight(d,function(a){return g(a)}),i=function(a){return c.hasClass(a,"eventable")},j=b.partialRight(d,function(a){return i(a)}),k={isRelated:d,isScrollable:e,isScrollRelated:f,isDraggable:g,isDraggableRelated:h,isEventable:i,isEventableRelated:j};return k}),define("views/mixins/pinchzoomable",["require","lodash","polyfills/detection","helpers/TransMatrix","helpers/utils","helpers/cssPrefix","helpers/errorManager","helpers/slideObjectUtils"],function(a){"use strict";var b=a("lodash"),c=a("polyfills/detection"),d=a("helpers/TransMatrix"),e=a("helpers/utils"),f=a("helpers/cssPrefix"),g=(a("helpers/errorManager"),a("helpers/slideObjectUtils")),h=6,i=function(a){return!a||a.length<2},j=function(a){var b={x:0,y:0};return i(a)?b:(b.x=(a[0].pageX+a[1].pageX)/2,b.y=(a[0].pageY+a[1].pageY)/2,b)},k=function(a){return i(a)?1:e.dist(a[0].pageX,a[0].pageY,a[1].pageX,a[1].pageY)},l={initPinchZoom:function(){c.isMobile&&(this.container=this.el.parentNode,this.pinch={scale:1,matrix:new d,panning:!1,zooming:!1,width:document.body.clientWidth,height:document.body.clientHeight,disable:!1},this.container.addEventListener("gesturestart",this.onPrevent),this.container.addEventListener("touchstart",this.onTouchStart,!0),this.container.addEventListener("touchmove",this.onTouchMove),this.container.addEventListener("touchend",this.onTouchEnd))},transTouch:function(a){var c=this.props.model.parentTransform,d=b(a).map(function(a){return{pageX:a.pageX/c.scale-c.xOff,pageY:a.pageY/c.scale-c.yOff}}).value();return d},updatePinchPan:function(a){var b=this.pinch.matrix.unTransformPoint(a[0].pageX,a[0].pageY);this.pinch.currMatrix=this.pinch.matrix.copy().translate(b.x-this.pinch.startCenter.x,b.y-this.pinch.startCenter.y),this.container.style[this.cssTransform]=this.pinch.currMatrix.toCssTransform()},updatePinchZoom:function(a){var b=k(a),c=j(a),d=this.pinch.matrix.unTransformPoint(c.x,c.y),e=b/this.pinch.startDistance;e=Math.max(1/this.pinch.scale,Math.min(e,h/this.pinch.scale)),this.pinch.currMatrix=this.pinch.matrix.copy().translate(d.x,d.y).scale(e,e).translate(-this.pinch.startCenter.x,-this.pinch.startCenter.y),this.container.style[this.cssTransform]=this.pinch.currMatrix.toCssTransform()},onPrevent:function(a){a.preventDefault()},onTouchStart:function(a){if(this.shouldDisablePan(a))this.pinch.disable=!0;else{a.preventDefault();var b,c=this.transTouch(a.touches);2===c.length?(this.pinch.panning=!1,this.pinch.zooming=!0,b=j(c),this.pinch.startCenter=this.pinch.matrix.unTransformPoint(b.x,b.y),
this.pinch.startDistance=k(c)):1===c.length&&1!==this.pinch.scale&&(this.pinch.panning=!0,this.pinch.zooming=!1,this.pinch.startCenter=this.pinch.matrix.unTransformPoint(c[0].pageX,c[0].pageY))}},onTouchEnd:function(a){a.preventDefault(),this.pinch.disable=!1,a.touches.length<2&&(this.pinch.panning=!1,this.pinch.zooming=!1,this.pinch.currMatrix&&(this.pinch.scale=this.pinch.currMatrix.getScale().x,this.screenBounds(),this.pinch.matrix=this.pinch.currMatrix,this.props.model.pinchZoomScale=this.pinch.scale))},onTouchMove:function(a){if(!this.pinch.disable){a.preventDefault();var b=this.transTouch(a.touches);2===b.length?this.updatePinchZoom(b):1===b.length&&1!==this.pinch.scale&&this.pinch.panning&&this.updatePinchPan(b)}},screenBounds:function(){this.pinch.width=this.props.model.get("width"),this.pinch.height=this.props.model.get("height");var a=this.pinch.currMatrix.transformPoint(0,0),b=this.pinch.currMatrix.transformPoint(this.pinch.width,this.pinch.height),c=!1;a.x>0&&(c=!0,this.pinch.currMatrix.translate(-a.x/this.pinch.scale,0)),a.y>0&&(c=!0,this.pinch.currMatrix.translate(0,-a.y/this.pinch.scale)),b.x<this.pinch.width&&(c=!0,this.pinch.currMatrix.translate((this.pinch.width-b.x)/this.pinch.scale,0)),b.y<this.pinch.height&&(c=!0,this.pinch.currMatrix.translate(0,(this.pinch.height-b.y)/this.pinch.scale)),c&&(this.container.style[this.cssTransitionProperty]=f.kebabCase("transform"),this.container.style[this.cssTransitionDuration]="0.4s",this.container.style[this.cssTransform]=this.pinch.currMatrix.toCssTransform(),setTimeout(this.endTransition,400))},endTransition:function(){this.container.style[this.cssTransitionProperty]="none",this.container.style[this.cssTransitionDuration]="0"},killPinchZoom:function(){c.isMobile&&(this.container.removeEventListener("gesturestart",this.onPrevent),this.container.removeEventListener("touchstart",this.onTouchStart),this.container.removeEventListener("touchmove",this.onTouchMove),this.container.removeEventListener("touchend",this.onTouchEnd),this.container.style[this.cssTransform]="")},componentWillUnmount:function(){this.killPinchZoom()},shouldDisablePan:function(a){return 1===a.touches.length&&(g.isDraggableRelated(a.target)||g.isScrollRelated(a.target))}};return l}),define("views/mixins/swipeable",["require","lodash","helpers/appState","helpers/cssPrefix","helpers/constants","polyfills/detection","views/helpers/dom","helpers/slideObjectUtils","helpers/utils"],function(a){"use strict";var b=(a("lodash"),a("helpers/appState")),c=a("helpers/cssPrefix"),d=a("helpers/constants"),e=a("polyfills/detection"),f=(a("views/helpers/dom"),a("helpers/slideObjectUtils")),g=a("helpers/utils"),h=30,i=75,j=3,k=d.math.QUARTER_PI,l=d.math.THREE_QUARTER_PI,m=1,n=2,o=3,p=4,q={SWIPE_TOLERANCE:h,SWIPE_CANCEL_TOLERANCE:i,DIRECTION_UP:m,DIRECTION_RIGHT:n,DIRECTION_DOWN:o,DIRECTION_LEFT:p,componentWillMount:function(){this.swipe={swiping:!1}},componentDidMount:function(){var a=this.el;e.isMobile&&(a.addEventListener("touchstart",this.onSwipeableTouchStart,!0),a.addEventListener("touchmove",this.onSwipeableTouchMove),a.addEventListener("touchend",this.onSwipeableTouchEnd))},componentWillUnmount:function(){var a=this.el;e.isMobile&&(a.removeEventListener("touchstart",this.onSwipeableTouchStart),a.removeEventListener("touchmove",this.onSwipeableTouchMove),a.removeEventListener("touchend",this.onSwipeableTouchEnd))},onSwipeableTouchStart:function(a){var b,c=this.swipe;this.shouldSwipe(a.target)&&1===a.touches.length&&(b=a.touches[0],c.startX=b.pageX,c.startY=b.pageY,c.changedDirection=!1)},onSwipeableTouchMove:function(a){var b,c,d,e=this.swipe;this.shouldSwipe(a.target)&&1===a.touches.length?(c=a.touches[0],e.x=c.pageX,e.y=c.pageY,b=this.getSwipeLength(),this.animateSwipe(),e.swiping?(e.maxLength=Math.max(e.maxLength,b),d=this.getSwipeDirection(),d===e.direction?(e.directionX=e.x,e.directionY=e.y):(e.direction=d,e.directionX=c.pageX,e.directionY=c.pageY,e.changedDirection=!0)):b>=h&&(e.swiping=!0,e.direction=this.getSwipeDirection(),e.directionX=c.pageX,e.directionY=c.pageY,e.maxLength=b)):this.endSwipe()},onSwipeableTouchEnd:function(){var a,b=this.swipe;if(b.swiping){if(b.changedDirection&&b.maxLength>=i&&(a=b.direction===p||b.direction===n?"x":"y",Math.abs(b["start"+a.toUpperCase()]-b[a])<i))return void this.endSwipe();this.doSwipe(b.direction),this.endSwipe()}},doSwipe:function(a){var b={};return b[p]=this.onSwipeLeft,b[n]=this.onSwipeRight,b.hasOwnProperty(a)&&b[a](),this},onSwipeLeft:function(){var a=b.currentLayout().previous;a&&this.props.model.executePlayerEvent("onprevslide")},onSwipeRight:function(){var a,c=b.currentLayout(),d=c.submit,e=c.next;d?a="submit":e&&(a="next"),null!=a&&this.props.model.executePlayerEvent(["on",a,"slide"].join(""))},shouldSwipe:function(a){var b=this.props.model.pinchZoomScale,c=null!=b&&1!==b;return!f.isScrollRelated(a)&&!f.isDraggableRelated(a)&&!c},endSwipe:function(){this.swipe.swiping=!1,this.animateSwipeEnd()},getSwipeLength:function(){var a=this.swipe;return g.dist(a.startX,a.startY,a.x,a.y)},getSwipeDirection:function(){var a=this.swipe,b=Math.atan2(a.startY-a.y,a.startX-a.x),c=Math.abs(b);return k>=c?n:b>k&&l>=b?m:-k>b&&b>=-l?o:p},animateSwipe:function(){var a=this.el,b=this.swipe,c=b.startX-b.x,d=0>c?-1:1,e=Math.sqrt(Math.abs(c))*d*j;a.style[this.cssTransitionProperty]="none",a.style[this.cssTransitionDuration]=0,a.style[this.cssTransform]=["translateX(",-e,"px)"].join("")},animateSwipeEnd:function(){var a=this.el;a.style[this.cssTransitionProperty]=c.kebabCase("transform"),a.style[this.cssTransitionDuration]="0.4s",a.style[this.cssTransform]="translateX(0)"}};return q}),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){b.call(this,a),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var c,d,e=this.vars;for(d in e)c=e[d],g(c)&&-1!==c.join("").indexOf("{self}")&&(e[d]=this._swapSelfInParams(c));g(e.tweens)&&this.add(e.tweens,0,e.align,e.stagger)},e=1e-10,f=c._internals.isSelector,g=c._internals.isArray,h=[],i=window._gsDefine.globals,j=function(a){var b,c={};for(b in a)c[b]=a[b];return c},k=function(a,b,c,d){a._timeline.pause(a._startTime),b&&b.apply(d||a._timeline,c||h)},l=h.slice,m=d.prototype=new b;return d.version="1.11.8",m.constructor=d,m.kill()._gc=!1,m.to=function(a,b,d,e){var f=d.repeat&&i.TweenMax||c;return b?this.add(new f(a,b,d),e):this.set(a,d,e)},m.from=function(a,b,d,e){return this.add((d.repeat&&i.TweenMax||c).from(a,b,d),e)},m.fromTo=function(a,b,d,e,f){var g=e.repeat&&i.TweenMax||c;return b?this.add(g.fromTo(a,b,d,e),f):this.set(a,e,f)},m.staggerTo=function(a,b,e,g,h,i,k,m){var n,o=new d({onComplete:i,onCompleteParams:k,onCompleteScope:m,smoothChildTiming:this.smoothChildTiming});for("string"==typeof a&&(a=c.selector(a)||a),f(a)&&(a=l.call(a,0)),g=g||0,n=0;a.length>n;n++)e.startAt&&(e.startAt=j(e.startAt)),o.to(a[n],b,j(e),n*g);return this.add(o,h)},m.staggerFrom=function(a,b,c,d,e,f,g,h){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,d,e,f,g,h)},m.staggerFromTo=function(a,b,c,d,e,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,this.staggerTo(a,b,d,e,f,g,h,i)},m.call=function(a,b,d,e){return this.add(c.delayedCall(0,a,b,d),e)},m.set=function(a,b,d){return d=this._parseTimeOrLabel(d,0,!0),null==b.immediateRender&&(b.immediateRender=d===this._time&&!this._paused),this.add(new c(a,0,b),d)},d.exportRoot=function(a,b){a=a||{},null==a.smoothChildTiming&&(a.smoothChildTiming=!0);var e,f,g=new d(a),h=g._timeline;for(null==b&&(b=!0),h._remove(g,!0),g._startTime=0,g._rawPrevTime=g._time=g._totalTime=h._time,e=h._first;e;)f=e._next,b&&e instanceof c&&e.target===e.vars.onComplete||g.add(e,e._startTime-e._delay),e=f;return h.add(g,0),g},m.add=function(e,f,h,i){var j,k,l,m,n,o;if("number"!=typeof f&&(f=this._parseTimeOrLabel(f,0,!0,e)),!(e instanceof a)){if(e instanceof Array||e&&e.push&&g(e)){for(h=h||"normal",i=i||0,j=f,k=e.length,l=0;k>l;l++)g(m=e[l])&&(m=new d({tweens:m})),this.add(m,j),"string"!=typeof m&&"function"!=typeof m&&("sequence"===h?j=m._startTime+m.totalDuration()/m._timeScale:"start"===h&&(m._startTime-=m.delay())),j+=i;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,f);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=c.delayedCall(0,e)}if(b.prototype.add.call(this,e,f),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(n=this,o=n.rawTime()>e._startTime;n._timeline;)o&&n._timeline.smoothChildTiming?n.totalTime(n._totalTime,!0):n._gc&&n._enabled(!0,!1),n=n._timeline;return this},m.remove=function(b){if(b instanceof a)return this._remove(b,!1);if(b instanceof Array||b&&b.push&&g(b)){for(var c=b.length;--c>-1;)this.remove(b[c]);return this}return"string"==typeof b?this.removeLabel(b):this.kill(null,b)},m._remove=function(a,c){b.prototype._remove.call(this,a,c);var d=this._last;return d?this._time>d._startTime+d._totalDuration/d._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},m.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},m.insert=m.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)},m.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,d)},m.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},m.addPause=function(a,b,c,d){return this.call(k,["{self}",b,c,d],this,a)},m.removeLabel=function(a){return delete this._labels[a],this},m.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},m._parseTimeOrLabel=function(b,c,d,e){var f;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e&&(e instanceof Array||e.push&&g(e)))for(f=e.length;--f>-1;)e[f]instanceof a&&e[f].timeline===this&&this.remove(e[f]);if("string"==typeof c)return this._parseTimeOrLabel(c,d&&"number"==typeof b&&null==this._labels[c]?b-this.duration():0,d);if(c=c||0,"string"!=typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=this.duration());else{if(f=b.indexOf("="),-1===f)return null==this._labels[b]?d?this._labels[b]=this.duration()+c:c:this._labels[b]+c;c=parseInt(b.charAt(f-1)+"1",10)*Number(b.substr(f+1)),b=f>1?this._parseTimeOrLabel(b.substr(0,f-1),0,d):this.duration()}return Number(b)+c},m.seek=function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),b!==!1)},m.stop=function(){return this.paused(!0)},m.gotoAndPlay=function(a,b){return this.play(a,b)},m.gotoAndStop=function(a,b){return this.pause(a,b)},m.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,i,j,k=this._dirty?this.totalDuration():this._totalDuration,l=this._time,m=this._startTime,n=this._timeScale,o=this._paused;if(a>=k?(this._totalTime=this._time=k,this._reversed||this._hasPausedChild()||(f=!0,i="onComplete",0===this._duration&&(0===a||0>this._rawPrevTime||this._rawPrevTime===e)&&this._rawPrevTime!==a&&this._first&&(j=!0,this._rawPrevTime>e&&(i="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,a=k+1e-4):1e-7>a?(this._totalTime=this._time=0,(0!==l||0===this._duration&&this._rawPrevTime!==e&&(this._rawPrevTime>0||0>a&&this._rawPrevTime>=0))&&(i="onReverseComplete",f=this._reversed),0>a?(this._active=!1,0===this._duration&&this._rawPrevTime>=0&&this._first&&(j=!0),this._rawPrevTime=a):(this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,a=0,this._initted||(j=!0))):this._totalTime=this._time=this._rawPrevTime=a,this._time!==l&&this._first||c||j){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==l&&a>0&&(this._active=!0),0===l&&this.vars.onStart&&0!==this._time&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||h)),this._time>=l)for(d=this._first;d&&(g=d._next,!this._paused||o);)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,!this._paused||o);)(d._active||l>=d._startTime&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||h)),i&&(this._gc||(m===this._startTime||n!==this._timeScale)&&(0===this._time||k>=this.totalDuration())&&(f&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[i]&&this.vars[i].apply(this.vars[i+"Scope"]||this,this.vars[i+"Params"]||h)))}},m._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof d&&a._hasPausedChild())return!0;a=a._next}return!1},m.getChildren=function(a,b,d,e){e=e||-9999999999;for(var f=[],g=this._first,h=0;g;)e>g._startTime||(g instanceof c?b!==!1&&(f[h++]=g):(d!==!1&&(f[h++]=g),a!==!1&&(f=f.concat(g.getChildren(!0,b,d)),h=f.length))),g=g._next;return f},m.getTweensOf=function(a,b){for(var d=c.getTweensOf(a),e=d.length,f=[],g=0;--e>-1;)(d[e].timeline===this||b&&this._contains(d[e]))&&(f[g++]=d[e]);return f},m._contains=function(a){for(var b=a.timeline;b;){if(b===this)return!0;b=b.timeline}return!1},m.shiftChildren=function(a,b,c){c=c||0;for(var d,e=this._first,f=this._labels;e;)e._startTime>=c&&(e._startTime+=a),e=e._next;if(b)for(d in f)f[d]>=c&&(f[d]+=a);return this._uncache(!0)},m._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;--d>-1;)c[d]._kill(a,b)&&(e=!0);return e},m.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;--c>-1;)b[c]._enabled(!1,!1);return a!==!1&&(this._labels={}),this._uncache(!0)},m.invalidate=function(){for(var a=this._first;a;)a.invalidate(),a=a._next;return this},m._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)},m.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},m.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b,c,d=0,e=this._last,f=999999999999;e;)b=e._prev,e._dirty&&e.totalDuration(),e._startTime>f&&this._sortChildren&&!e._paused?this.add(e,e._startTime-e._delay):f=e._startTime,0>e._startTime&&!e._paused&&(d-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=e._startTime/this._timeScale),this.shiftChildren(-e._startTime,!1,-9999999999),f=0),c=e._startTime+e._totalDuration/e._timeScale,c>d&&(d=c),e=b;this._duration=this._totalDuration=d,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==a&&this.timeScale(this._totalDuration/a),this},m.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline},m.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},d},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("timeline-lite",["tween-lite"],function(a){return function(){var b;return b||a.TimelineLite}}(this)),define("helpers/svg/masks/Mask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=a("views/helpers/dom"),e=function(a,b,c){this.tween=c,this.createSvg(a,b),this.setupAnimation(),this.getAnimateFn&&(this.animate=this.getAnimateFn()),this.animate(0)};return b.extend(e.prototype,{setupAnimation:b.noop,animate:b.noop,getDirection:function(){return this.tween.mask().settings().findWhere({name:"direction"}).get("value")},isExit:function(){return"exit"===this.tween.mask().get("effecttype")},createSvg:function(a,e){return this.width=a,this.height=e,this.maskId=b.uniqueId("mask-"),this.maskNode=c.createSvgNode(a,e),this.clipPath=c.createElement("clipPath"),this.clipPath.setAttribute("id",this.maskId),this.maskNode.appendChild(this.clipPath),this.halfWidth=this.width/2,this.halfHeight=this.height/2,this.clipShape=d.setAttributes(c.createElement("path"),{"clip-rule":"evenodd"}),this.clipPath.appendChild(this.clipShape),document.querySelector("#mask-library").appendChild(this.maskNode),this.direction=this.getDirection(),this.fullRect=c.rectPath(0,0,this.width,this.height),this.invertRect=this.isExit()?this.fullRect:"",this.inRect="in"===this.direction?this.fullRect:"",this},destroy:function(){this.maskNode.parentNode&&this.maskNode.parentNode.removeChild(this.maskNode)}}),e}),define("helpers/svg/masks/CheckerboardMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=function(a,b,c){d.call(this,a,b,c)};return b.extend(e.prototype,d.prototype,{setupAnimation:function(){var a,b,c,d,e,f,g="across"===this.direction,h=10,i=14,j=g?h/2:h,k=g?i:i/2,l=function(a){return this.isHorizontal?{x:-1*this.finalWidth/2,y:2*a*this.finalHeight+this.finalHeight}:{x:2*a*this.finalWidth+this.finalWidth,y:-1*this.finalHeight/2}}.bind(this);for(this.isHorizontal=g,this.finalWidth=this.width/j,this.finalHeight=this.height/k,this.points=[],a=h*i/2;a--;)b=a%h,c=b%j,d=Math.floor(a/j),this.isHorizontal?(e=j>b?0:this.finalWidth/2,f=0):(e=0,f=c%2?this.finalHeight/2:0),this.points[a]={x:c*this.finalWidth+e,y:d*this.finalHeight+f};for(a=this.isHorizontal?k:j;a--;)this.points.push(l(a))},animate:function(a){var b=this.isHorizontal?a:1,d=this.isHorizontal?1:a,e=this.points.map(function(a){return c.rectPath(a.x,a.y,this.finalWidth*b,this.finalHeight*d)}.bind(this));this.clipShape.setAttribute("d",e.join(" "))}}),e}),define("helpers/svg/masks/CircleMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=a("helpers/utils"),f=function(a,b,c){d.call(this,a,b,c)};return b.extend(f.prototype,d.prototype,{setupAnimation:function(){this.scaleY=this.height/this.width,this.finalScale=Math.sqrt(2*Math.pow(this.height,2))/this.height},drawCircle:function(a){a*=this.finalScale,this.clipShape.setAttribute("d",[this.invertRect,this.inRect,c.ellipsePath(this.halfWidth,this.halfHeight,this.halfWidth*a,this.halfHeight*a)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawCircle:function(a){this.drawCircle(e.invertPercent(a))}}}),f}),define("helpers/svg/masks/BoxMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=a("helpers/utils"),f=function(a,b,c){d.call(this,a,b,c)};return b.extend(f.prototype,d.prototype,{setupAnimation:function(){this.scaleY=this.height/this.width},drawBox:function(a){var b=this.halfWidth-this.halfWidth*a,d=this.halfHeight-this.halfHeight*a,e=this.width*a,f=this.height*a;this.clipShape.setAttribute("d",[this.invertRect,this.inRect,c.rectPath(b,d,e,f)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawBox:function(a){this.drawBox(e.invertPercent(a))}}}),f}),define("helpers/svg/masks/DiamondMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=a("helpers/utils"),f=function(a,b,c){d.call(this,a,b,c)};return b.extend(f.prototype,d.prototype,{drawDiamond:function(a){var b=e.invertPercent(a),d=this.width*b-this.halfWidth,f=this.height*b-this.halfHeight;a*=2,this.clipShape.setAttribute("d",[this.invertRect,this.inRect,c.diamondPath(d,f,this.width*a,this.height*a)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawDiamond:function(a){this.drawDiamond(e.invertPercent(a))}}}),f}),define("helpers/svg/masks/BlindsMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=function(a,b,c){d.call(this,a,b,c)};return b.extend(e.prototype,d.prototype,{setupAnimation:function(){var a;this.numBlinds=6,a="horizontal"===this.direction?"height":"width",this.blindThickness=this[a]/this.numBlinds},animate:function(a){for(var b,d=[];d.length<this.numBlinds;)b=d.length*this.blindThickness,d.push("horizontal"===this.direction?c.rectPath(0,b,this.width,this.blindThickness*a):c.rectPath(b,0,this.blindThickness*a,this.height));this.clipShape.setAttribute("d",d.join(" "))}}),e}),define("helpers/svg/masks/RandomBarsMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=(a("helpers/svg/svgUtils"),a("views/helpers/dom"),a("helpers/svg/masks/Mask")),d=a("helpers/utils"),e=1e3,f=1,g="M 0 0",h=function(a){return Math.max(f,Math.ceil(a)/e)},i=function(a,b){return Math.ceil(a/b)},j=function(a,b,c,d,e){return a?["M",0,e*b,"h",c,"v",b,"h",-c,"Z"].join(" "):["M",e*b,0,"v",d,"h",b,"v",-d,"Z"].join(" ")},k=function(a,b,d){c.call(this,a,b,d)};return b.extend(k.prototype,c.prototype,{getBarPaths:function(){if(this.barPaths)return this.barPaths;var a="horizontal"===this.direction,c=a?this.height:this.width,d=h(c),e=i(c,d),f=c/e,g=b.partial(j,a,f,this.width,this.height),k=b.range(e).map(g);return this.barPaths=b.shuffle(k),this.barPaths},animate:function(a){var b=Math.round(d.invertPercent(a)*this.getBarPaths().length),c=this.getBarPaths().slice(b).join(" ")||g;this.clipShape.setAttribute("d",this.invertRect+c)}}),k}),define("helpers/svg/masks/SplitMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=a("helpers/utils"),f=function(a,b,c){d.call(this,a,b,c)};return b.extend(f.prototype,d.prototype,{setupAnimation:function(){var a="verticalout"===this.direction||"horizontalout"===this.direction||"horizontal"===this.direction;this.isVertical="verticalout"===this.direction||"verticalin"===this.direction,this.isOut=this.isExit()?!a:a,this.adjustScale=this.isExit()?e.invertPercent:b.identity},getAnimateFn:function(){return this.isOut?function(a){var b,d=0,f=0;a=this.adjustScale(a),b=e.invertPercent(a),this.clipShape.setAttribute("d",this.isVertical?c.rectPath(b*this.halfWidth,f,this.width*a,this.height):c.rectPath(d,b*this.halfHeight,this.width,this.height*a))}:function(a){var b,d,e=[];a=this.adjustScale(a),this.isVertical?(b=a*this.halfWidth,d=this.height):(b=this.width,d=a*this.halfHeight),e.push(c.rectPath(0,0,b,d)),b*=-1,d*=-1,e.push(c.rectPath(this.width,this.height,b,d)),this.clipShape.setAttribute("d",e.join(" "))}}}),f}),define("helpers/svg/masks/WheelMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=a("helpers/utils"),f=function(a){var b=a.m,c=a.l,d=a.a;return["M",b.x,b.y,"L",c.x,c.y,"A",d.rx,d.ry,d.xRot,d.lgArc,d.sweep,d.x,d.y].join(" ")},g=function(a,b,c,d){var f=360*d-90;return b+a(e.degToRad(f))*c},h=function(a,b,c,d){var e=a+c,f=b+d;return["M",a,b,"L",e,b,e,f,a,f].join(" ")},i=b.partial(g,Math.cos),j=b.partial(g,Math.sin),k=b.partial(i,.5),l=b.partial(j,.5),m=function(a,b,c){d.call(this,a,b,c)};return b.extend(m.prototype,d.prototype,{setupAnimation:function(){this.clipShape.setAttribute("transform",["scale(",this.width,",",this.height,")"].join(" ")),this.calcArcPath=this.createArcAnimationFunc(),this.invertRect=this.isExit()?c.rectPath(0,0,1.1,1.1):""},animate:function(a){this.clipShape.setAttribute("d",1===a?h(0,0,this.width,this.height):this.invertRect+this.calcArcPath(a))},createArcAnimationFunc:function(){var a=this.width,c=this.height,d=this.direction,g=parseInt(this.tween.mask().settings().findWhere({name:"spokes"}).get("value"),10),h=e.hypot(a,c),i=h/a/2,j=h/c/2,m=b.range(g).map(function(a){var b=a/g,c=Object.freeze({x:.5,y:.5}),e=Object.freeze({x:k(i,b),y:l(j,b)}),h=Object.defineProperties({},{rx:{value:i},ry:{value:j},xRot:{value:0},lgArc:{value:1},sweep:{value:"clockwise"===d?1:-1},x:{value:e.x,writable:!0},y:{value:e.y,writable:!0}});return{initRotDec:b,m:c,l:e,a:h,update:function(a){var b=a+this.initRotDec;return this.a.x=k(i,b),this.a.y=l(j,b),this},toPathCommands:function(){return f(this)}}});return function(a){return m.map(function(b){return b.update(a/g).toPathCommands()}).join(" ")}}}),m}),define("helpers/svg/masks/DissolveMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=a("helpers/utils"),f=255,g=9,h=function(a,b){var c=Math.ceil(a/f),d=Math.ceil(b/f);return{width:Math.max(g,c),height:Math.max(g,d)}},i=function(a,b,c){d.call(this,a,b,c)};return b.extend(i.prototype,d.prototype,{setupAnimation:function(){var a,d=h(this.width,this.height),e=Math.ceil(this.height/d.height),f=Math.ceil(this.width/d.width);for(this.grains=[],this.numGrains=e*f,a=this.numGrains;a--;){var g=a%f*d.width,i=Math.floor(a/f)*d.height;this.grains[a]=c.rectPath(g,i,d.width,d.height)}this.grains=b.shuffle(this.grains),this.pathData=""},animate:function(a){for(var b=e.invertPercent(a)*this.numGrains;this.grains.length>b;)this.pathData+=this.grains.pop();this.clipShape.setAttribute("d",this.pathData)}}),i}),define("helpers/svg/masks/PlusMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=a("helpers/utils"),f=function(a,b,c){d.call(this,a,b,c)};return b.extend(f.prototype,d.prototype,{drawPlus:function(a){var b=e.invertPercent(a),d={x:0,y:0,width:this.halfWidth,height:this.halfHeight},f={x:this.halfWidth,y:0,width:this.halfWidth,height:this.halfHeight},g={x:0,y:this.halfHeight,width:this.halfWidth,height:this.halfHeight},h={x:this.halfWidth,y:this.halfHeight,width:this.halfWidth,height:this.halfHeight};d.width=b*this.halfWidth,d.height=b*this.halfHeight,f.x=this.halfWidth+this.halfWidth*a,f.height=d.height,g.width=b*this.halfWidth,g.y=this.halfHeight+this.halfHeight*a,h.x=this.halfWidth+this.halfWidth*a,h.y=g.y,this.clipShape.setAttribute("d",[this.invertRect,c.rectPath(0,0,this.width,this.height),this.inRect,c.rectPath(d.x,d.y,d.width,d.height),c.rectPath(f.x,f.y,f.width,f.height),c.rectPath(g.x,g.y,g.width,g.height),c.rectPath(h.x,h.y,h.width,h.height)].join(" "))},getAnimateFn:function(a){return"out"===this.direction?this.drawPlus:function(a){this.drawPlus(e.invertPercent(a))}}}),f}),define("helpers/svg/masks/WipeMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("views/helpers/dom"),a("helpers/svg/masks/Mask")),e=a("helpers/utils"),f=function(a,b,c){d.call(this,a,b,c)};return b.extend(f.prototype,d.prototype,{setupAnimation:function(){b.bindAll(this),this.adjustRect={frombottom:this.fromBottom,fromleft:this.fromLeft,fromright:this.fromRight,fromtop:this.fromTop,horizontal:this.fromLeft}},fromBottom:function(a,b){b.y=this.height*e.invertPercent(a)},fromTop:function(a,b){b.height=this.height*a},fromLeft:function(a,b){b.width=this.width*a},fromRight:function(a,b){b.x=this.width*e.invertPercent(a)},animate:function(a){var b={x:0,y:0,width:this.width,height:this.height};this.adjustRect[this.direction](a,b),this.clipShape.setAttribute("d",this.invertRect+c.rectPath(b.x,b.y,b.width,b.height))}}),f}),define("helpers/svg/MaskHelper",["require","lodash","helpers/utils","views/helpers/dom","helpers/svg/svgUtils","helpers/svg/masks/CheckerboardMask","helpers/svg/masks/CircleMask","helpers/svg/masks/BoxMask","helpers/svg/masks/DiamondMask","helpers/svg/masks/BlindsMask","helpers/svg/masks/RandomBarsMask","helpers/svg/masks/SplitMask","helpers/svg/masks/WheelMask","helpers/svg/masks/DissolveMask","helpers/svg/masks/PlusMask","helpers/svg/masks/WipeMask"],function(a){"use strict";var b=a("lodash"),c=(a("helpers/utils"),a("views/helpers/dom")),d=a("helpers/svg/svgUtils"),e=a("helpers/svg/masks/CheckerboardMask"),f=a("helpers/svg/masks/CircleMask"),g=a("helpers/svg/masks/BoxMask"),h=a("helpers/svg/masks/DiamondMask"),i=a("helpers/svg/masks/BlindsMask"),j=a("helpers/svg/masks/RandomBarsMask"),k=a("helpers/svg/masks/SplitMask"),l=a("helpers/svg/masks/WheelMask"),m=a("helpers/svg/masks/DissolveMask"),n=a("helpers/svg/masks/PlusMask"),o=a("helpers/svg/masks/WipeMask"),p={checkerboard:e,circle:f,box:g,diamond:h,blinds:i,randombars:j,split:k,wheel:l,dissolve:m,plus:n,wipe:o},q=function(a){var b=a.el.firstElementChild;this.view=a,this.maskedEl=c.hasClass(b,"slideobject-maskable")?b:this.view.el,this.model=this.view.props.model};return b.extend(q.prototype,{prepareMaskAnimation:function(a){var b=a.getMaskTween(),c=a.getMaskType(),e=(this.model.getCurrentStateData&&this.model.getCurrentStateData()||{}).html5data,f=null!=e,g=f?e.width-(2*e.xPos-1):this.model.get("width"),h=f?e.height-(2*e.yPos-1):this.model.get("height");this.mask&&this.destroy(),this.mask=new p[c](g,h,b),this.animation={currentValue:0},this.maskedEl.style.WebkitClipPath=d.buildUrl(this.mask.maskId),this.maskedEl.style.clipPath=d.buildUrl(this.mask.maskId)},maskifyTweenData:function(a){a.onUpdate=this.animate.bind(this),a.onUpdateParams=["{self}"]},animate:function(a){var b=a.target.currentValue;this.mask.animate(b)},destroy:function(){this.maskedEl.style.WebkitClipPath="",this.maskedEl.style.clipPath="",this.mask.destroy()}}),q}),define("polyfills/fills/rangeSliders",["require","lodash"],function(a){"use strict";var b=a("lodash"),c="allowTheChangeEventToPropagate",d=function(a,d){var e=document.createEvent("Event");e.initEvent("change",!0,!0),b.defaults(e,d),Object.defineProperty(e,c,{value:!0}),a.dispatchEvent(e),document.removeEventListener("mouseup",a.fireChangeEvent)},e={patchEvents:function(){document.addEventListener("change",function(a){var e,f;a[c]||"range"!==a.target.getAttribute("type")||(a.stopPropagation(),e=document.createEvent("Event"),e.initEvent("input",!0,!0),b.defaults(e,a),a.target.dispatchEvent(e),document.removeEventListener("mouseup",a.target.fireChangeEvent),f=b.partial(d,a.target),a.target.fireChangeEvent=f,document.addEventListener("mouseup",f))},!0)}};return e}),define("views/presentation/TextShadowFilter",["require","react","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=b.createClass({displayName:"TextShadowFilter",mixins:[c]});return d}),define("polyfills/vendorOverrides",["require","jquery","lodash","polyfills/detection","helpers/svg/svgUtils","polyfills/fills/rangeSliders","tween-lite","helpers/windowManager","views/presentation/TextShadowFilter"],function(a){"use strict";var b=(a("jquery"),a("lodash")),c=a("polyfills/detection"),d=a("helpers/svg/svgUtils"),e=a("polyfills/fills/rangeSliders"),f=a("tween-lite");a("helpers/windowManager");a("views/presentation/TextShadowFilter");
var g={},h=function(a){a.style.display="inline-block";a.offsetHeight;a.style.display=""};return c.isWebKit()&&(g.forceSingleRepaint=function(a){h(a)},g.forceRepaint=function(a,b){return f.to(a,b,{onUpdate:function(){h(a)},onComplete:function(){h(a)}})}),c.isIE11()&&e.patchEvents(),c.isIE()&&(e.patchEvents(),g.mouseOver=function(){return"mouseover"},g.unwrapForeignObjectVarText=function(a){var c=a.children[0];return b.extend(c,b.pick(a,"x","y"))},g.moveVarTextOutOfSvg=function(a){var c=[],e={nodeType:"variableText"},f=function(a){return b.remove(a.children,e)},g=function(a){return c=c.concat(f(a)),a},h=function(a){var b={nodeType:"div",className:"textlib-wrapper"};return b.children=c.slice(),b.children.push(a),b};return g.afterFinish=h,d.transformNodeConfig(g,a)},g.applyTextShadow=function(a){var b=["text-shadow-filter",a.defaultCommandsetId].join("-");return a.textShadowProp="filter",a.textShadowVal=d.buildUrl(b),a.textShadowFilterId=b,a},g.elementsFromPoint=function(a,c,d){return b(document.msElementsFromPoint(a,c)).filter(d).value()}),c.isFF()||(g.offsetForeignObjectText=function(a,b){return a-b}),c.isIOS()&&(g.handleMediaLoading=function(a){"video"===a.type&&a.dfd.resolve()}),g}),define("helpers/tweenColorHelper",["require","lodash","tween-lite","helpers/utils","views/helpers/dom"],function(a){"use strict";var b=a("lodash"),c=a("tween-lite"),d=a("helpers/utils"),e=a("views/helpers/dom"),f={getType:function(a){var b=a.getColorPaths();return 1===b.length?"toBlackThenOut":"fromBlack"},transitionIn:function(a){var f=b.cloneDeep(a.aniValues),g=a.props.model,h=this.getType(a.transition),i=d.getPath(g,"data.html5data"),j=null!=i,k=j?i.width:g.get("width"),l=j?i.height:g.get("height"),m=e.setAttributes(document.createElement("div"),{"class":"slide-overlay"});c.set(m,{width:k,height:l}),f.onComplete=function(){m.parentNode&&m.parentNode.removeChild(m)},"fromBlack"===h?(a.el.appendChild(m),f.props.opacity=0,c.to(m,f.duration,f.props)):a.prevSlide&&(a.prevSlide.el.appendChild(m),m.style.opacity=0,a.aniValues.props.delay=f.duration,c.to(m,f.duration,{opacity:1}),c.to(m,f.duration,{delay:f.duration,opacity:0,onComplete:f.onComplete}))}};return f}),define("views/mixins/transitionableSlide",["require","lodash","react","tween-lite","timeline-lite","helpers/svg/svgUtils","helpers/svg/MaskHelper","polyfills/vendorOverrides","helpers/tweenColorHelper","helpers/pubSub"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("tween-lite"),e=a("timeline-lite"),f=(a("helpers/svg/svgUtils"),a("helpers/svg/MaskHelper")),g=a("polyfills/vendorOverrides"),h=a("helpers/tweenColorHelper"),i=a("helpers/pubSub"),j=g.forceRepaint||b.noop,k={right:{x:1},left:{x:-1},down:{y:1},up:{y:-1}},l=1e3,m={getInitialState:function(){return{transitionDepth:0}},componentWillMount:function(){this.transitionIsComplete=!1,this.transition=this.props.model.getTransitionAnimation(),this.completeHook=b.noop,this.transition&&(this.transitionTimeline=new e({paused:!0}),this.transitionPrevTimeline=new e({paused:!0}),this.isMaskTrans=this.transition.hasMaskAnimation(),this.hasColorTrans=this.transition.hasColorAnimation(),this.isWipeTrans=this.transition.get("wipeTrans"),this.initValues=this.transition.getInitValues(),this.aniValues=this.transition.getTransitionAnimation(),this.aniValues.props.onComplete=this.onTransitionComplete)},setPrevSlide:function(a){this.prevSlide=a,this.prevSlide.props.model.slideLayers().pauseAll(),this.transition||this.killPrevSlide()},setTransparent:function(a){this.el.classList[a?"add":"remove"]("transparent")},componentDidMount:function(){(this.transition||this.isMaskTrans)&&this.setTransparent(!0)},prepareTransition:function(){var a=this.el;this.isMaskTrans?(this.maskHelper=new f(this),this.maskHelper.prepareMaskAnimation(this.transition),this.maskHelper.maskifyTweenData(this.aniValues.props)):this.transition?(this.isWipeTrans&&this.prevSlide&&(a=this.prevSlide.el),d.set(a,this.initValues.props)):this.transitionIsComplete=!0,this.setTransparent(!1)},publishTransitionStarted:function(){i.trigger("slide:transitionStarted",this.transition.id,this.transition.duration())},transitionIn:function(a){var b=this.el;if(this.completeHook=a,this.isMaskTrans)this.publishTransitionStarted(),this.transitionTimeline.add(d.to(this.maskHelper.animation,this.aniValues.duration,this.aniValues.props)),this.transitionTimeline.play(),j(this.el,this.aniValues.duration);else if(this.transition){if(this.publishTransitionStarted(),this.hasColorTrans&&h.transitionIn(this),this.isWipeTrans&&!this.prevSlide)return void this.transitionComplete();this.isWipeTrans&&(this.prevSlide.killPinchZoom(),b=this.prevSlide.el,this.prevSlide.setState({transitionDepth:++l})),this.transitionTimeline.add(d.to(b,this.aniValues.duration,this.aniValues.props)),this.transitionTimeline.play(),this.impliedPrevSlideTransition()}else a()},impliedPrevSlideTransition:function(){if(this.prevSlide){var a,c,e=this.transition.get("pushdirection");e&&(a=b.cloneDeep(this.aniValues.props),c=k[e],this.offsetAnimationProps(a,c),this.transitionPrevTimeline.add(d.to(this.prevSlide.el,this.aniValues.duration,a)),this.transitionPrevTimeline.play())}},offsetAnimationProps:function(a,b){var c=this.props.model.get("width"),d=this.props.model.get("height"),e=0,f=0;this.prevSlide.el._gsTransform&&(e=this.prevSlide.el._gsTransform.x,f=this.prevSlide.el._gsTransform.y),a.bezier.values.forEach(function(a){a.x+=(b.x||0)*c+e,a.y+=(b.y||0)*d+f})},forceTransition:function(){!this.transitionIsComplete&&this.transition&&(d.killTweensOf(this.el),this.isMaskTrans?(d.killTweensOf(this.maskHelper.animation),d.set(this.maskHelper.animation,this.aniValues.props)):this.isWipeTrans||d.set(this.el,this.aniValues.props),this.transitionComplete())},killPrevSlide:function(){this.prevSlide&&this.prevSlide.el.parentNode&&(d.killTweensOf(this.prevSlide.el),c.unmountComponentAtNode(this.prevSlide.el.parentNode),this.prevSlide.props.model.executePlayerEvent("ontransitionout"),this.prevSlide=null)},transitionComplete:function(){this.transitionIsComplete=!0,this.completeHook(),this.killPrevSlide(),this.props.transitionComplete(),this.maskHelper&&this.maskHelper.destroy()},onTransitionComplete:function(){this.transitionComplete()},componentWillUnmount:function(){var a=this.previousHome;null!=a&&a.grandparent.appendChild(a.parent)}};return m}),define("views/presentation/Slide",["require","lodash","helpers/pubSub","helpers/keyManager","react","views/mixins/propertizable","views/mixins/mouseable","views/mixins/zoompanable","views/mixins/pinchzoomable","views/mixins/swipeable","views/mixins/baseView","views/mixins/transitionableSlide","helpers/resolver","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/pubSub"),d=a("helpers/keyManager"),e=a("react"),f=a("views/mixins/propertizable"),g=a("views/mixins/mouseable"),h=a("views/mixins/zoompanable"),i=a("views/mixins/pinchzoomable"),j=a("views/mixins/swipeable"),k=a("views/mixins/baseView"),l=a("views/mixins/transitionableSlide"),m=a("helpers/resolver"),n=a("helpers/utils"),o=e.createClass({displayName:"Slide",mixins:[k,f,g,l,h,i,j],componentWillMount:function(){this.mouseX=0,this.mouseY=0,this.props.model.executePlayerEvent("onbeforeslidein"),this.getSlideObjectViews=b.memoize(this.getSlideObjectViews)},componentDidMount:function(){d.onBuildComplete();var a=this.props.model;this.registerEvent("clickoutsideobjects",function(a){this.triggerClickOutside("on"+a.type,a.data)}.bind(this)),this.listenTo(a.getBaseLayer().timeline(),"reset",this.onBaseLayerTimelineReset),a.setAsViewed().executePlayerEvent("onbeforeslidein"),this.htmlReady(this.whenHtmlReady),c.trigger("slide:hasMounted")},componentWillUpdate:function(a,b){b.isVisible&&!this.state.isVisible&&this.props.model.executePlayerEvent("onbeforeslidein")},whenHtmlReady:function(){var a=this.props.model;a.getBaseLayer().timeline().pauseAtResetPoint(),a.executePlayerEvent("ontransitionin"),this.prepareTransition(),this.transitionIn(function(){a.getBaseLayer().timeline().play(),a.executePlayerEvent("ontransitionincomplete"),a.executePlayerEvent("onslidestart"),this.initPinchZoom(),this.publishSlideStarted()}.bind(this))},triggerClickOutside:function(a,c){this.props.model.executeFilteredPlayerEvent(function(a){return b(a.objects).pluck("value").map(m.splitPath).map(b.last).intersection(c).isEmpty()},a)},onStoreMouseLoc:function(a){var b=this.el.getBoundingClientRect(),c=a.pageX-b.left,d=a.pageY-b.top,e=this.slideScale?n.invertPercent(this.slideScale)+1:1;this.mouseX=c*e,this.mouseY=d*e},onStoreTouchLoc:function(a){1===a.touches.length&&this.onStoreMouseLoc(a.touches[0])},onBaseLayerTimelineReset:function(){this.props.model.slideLayers().hideAllHideableLayers(),this.props.model.executePlayerEvent("onslidestart")},publishSlideStarted:function(){c.trigger("slide:started",this.props.model.fullId())},onCtxMenu:function(a){a.preventDefault()},getSlideObjectViews:function(a,b){a=a||"",b=b||0;var c,d;return c=this.refs["layer"+b],d=c.findAllComponents("SlideObject"),""!==a?d.filter(function(b){return b.props.model.kind()===a}):d}});return o}),define("views/presentation/SlideContainer",["require","lodash","react","helpers/vow","views/mixins/baseView","views/presentation/Slide","views/helpers/dom","polyfills/detection","helpers/constants","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("helpers/vow"),e=a("views/mixins/baseView"),f=a("views/presentation/Slide"),g=a("views/helpers/dom"),h=a("polyfills/detection"),i=a("helpers/constants"),j=a("helpers/utils"),k=c.createClass({displayName:"SlideContainer",mixins:[e],componentDidMount:function(){h.isMobile?window.addEventListener("resize",this.onResize):this.mobilePositionSlide=b.noop},onResize:function(){this.injectedSlide&&this.mobilePositionSlide(this.injectedSlide)},componentWillUpdate:function(a){a.currentSlide===this.props.currentSlide||this.isShowingMovedSlide||(this.slideScale=a.scale,this.updateInnerSlides(a.currentSlide))},updateInnerSlides:function(a){return this.curSlideDfd=new d.Deferred,this.prevSlide=this.curSlide,this.curSlide=this.createSlideComponent(a),this.setState({overflowHide:!0}),this.injectSlide(this.curSlide),this.curSlideDfd.resolve(this.curSlide),this},getCurSlidePromise:function(){return this.curSlideDfd=this.curSlideDfd||new d.Deferred,this.curSlideDfd.promise()},createSlideComponent:function(a){return c.createElement(f,{model:a,transitionComplete:this.transitionComplete})},buildCurSlide:function(){if(this.props.currentSlide){var a=this.createSlideComponent(this.props.currentSlide);return a}},rebuildCurSlide:function(){return this.injectSlide(this.buildCurSlide()),this},findNextInsertionPoint:function(){var a;return this.findAll(".slide-transition-container").every(function(b){return 0===b.childNodes.length&&(a=b).parentNode.appendChild(b)}),a||(a=g.setAttributes(document.createElement("div"),{"class":"slide-transition-container"}),this.el.appendChild(a)),a},injectSlide:function(a){return this.injectedSlide=a,this.curSlide=c.render(a,this.findNextInsertionPoint(),function(){this.mobilePositionSlide(a)}.bind(this)),this.curSlide.slideScale=this.slideScale,this.prevSlide&&this.curSlide.setPrevSlide(this.prevSlide),this},transitionComplete:function(){h.isMobile&&this.setState({overflowHide:!1})},mobilePositionSlide:function(a){if(!(this.props.lightboxed||this.props.shouldScale&&!this.props.shouldScale())){var b,c,d,e,f,g,h,k,l,m,n,o,p=0,q=0,r=document.body.clientWidth,s=document.body.clientHeight,t=this.props.windowType?this.props.windowType():null,u="resume-prompt-slide"===t?0:i.MOBILE_UI_SIZE;n=r>=s?u:0,o=s>r?u:0,b=r-n,c=s-o,f=a.props.model,d=f.get("width"),e=f.get("height"),g=b/d,h=c/e,l=d*g,m=e*g,m>c?(k=h,l=d*h):k=g,b>l?p=b/2-l/2:c>=m&&(q=c/2-m/2);var v={xOff:j.fix(p,2),yOff:j.fix(q,2),scale:j.fix(k,4)};this.setState(v),f.parentTransform=v}},prepareToUpdateSlide:function(a){return this.isShowingMovedSlide=a,this},replaceSlideWith:function(a){var b=a.el.parentNode;return this.curSlide=a,this.prevSlide=a,a.previousHome={parent:b,grandparent:b.parentNode},this.htmlReady(function(){this.findNextInsertionPoint().appendChild(b)}.bind(this)),this},unmountSlide:function(){c.unmountComponentAtNode(this.curSlide.el.parentNode)}});return k}),define("views/presentation/MainWindow",["require","lodash","react","views/mixins/baseView","helpers/pubSub","views/player/mixins/appStateable","views/presentation/mixins/slideWindow","views/presentation/SlideContainer"],function(a){"use strict";var b=(a("lodash"),a("react")),c=a("views/mixins/baseView"),d=a("helpers/pubSub"),e=a("views/player/mixins/appStateable"),f=a("views/presentation/mixins/slideWindow");a("views/presentation/SlideContainer");var g=b.createClass({displayName:"MainWindow",mixins:[c,f,e],stateableValuesUpdated:function(a){var b=!a.outline.enabled&&!a.glossary&&!a.transcript;this.setState({hasTabs:b})},hasBottomBar:function(){return this.props.player.controlOptions().bottomBarOptions().get("bottomBarEnabled")},componentWillMount:function(){d.trigger("mainWindow:created",this)},componentWillUpdate:function(a,b){b.currentSlide&&d.trigger("mainWindow:slideChanged",b.currentSlide)}});return g}),define("views/player/Sidebar",["require","lodash","helpers/utils","views/helpers/dom","helpers/constants","react","views/mixins/baseView","views/player/mixins/appStateable","polyfills/vendorOverrides"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("views/helpers/dom"),e=a("helpers/constants"),f=a("react"),g=a("views/mixins/baseView"),h=a("views/player/mixins/appStateable"),i=a("polyfills/vendorOverrides"),j=i.forceSingleRepaint||b.noop,k=function(a){return a.isLive=!1,a},l=function(a,c){if(c){var d=b.findWhere(this.state.tabs,{name:a});this.setActiveTab(d)}},m=function(a){return!a.outline.enabled&&!a.glossary&&!a.transcript},n=e.tabIndices.SIDEBAR,o=f.createClass({displayName:"Sidebar",mixins:[g,h],isSidebar:!0,stateableValues:function(){return{logo:void 0,outline:l.bind(this,"outline"),glossary:l.bind(this,"glossary"),transcript:l.bind(this,"transcript")}},stateableValuesUpdated:function(a){var c;m(a)?(this.setState({activeTab:null}),a.logo||document.body.classList.add("no-sidebar")):(this.state.activeTab&&(c=a[this.state.activeTab.name],(c&&c===!0||b.result(c,"enabled"))&&this.setActiveTab(this.state.activeTab)),document.body.classList.remove("no-sidebar")),this.htmlReady(this.resizeTabs)},getTabbableItems:function(){var a,c,d=b.range(0,4),e=function(a,b,c){var d=this.refs[a+c];return d&&b.push({idx:n++,item:d}),b},f=e.bind(this,"sidebarTab"),g=e.bind(this,"sidebarPanel");return c=d.reduce(f,[]),a=d.reduce(g,[]),c.concat(a)},getInitialState:function(){return{activeTab:null,tabs:b.cloneDeep(this.props.model.getSidebar()).map(k)}},hasLogo:function(){return this.getPath("props.model.controlOptions.sidebarOptions.logoEnabled")},logoUrl:function(){return c.resolveAssetUrl(this.getPath("props.model.controlOptions.sidebarOptions.html5_logo_url"))},componentDidMount:function(){this.setFirstTab(),this.afterHtmlReady(this.resizeTabs)},componentDidUpdate:function(){this.resizeTabs()},componentWillUpdate:function(a,b){b.activeTab!==this.state.activeTab&&this.setFirstTab(),j(this.el)},setFirstTab:function(){this.hasLiveTab()||this.setActiveTab(b.findWhere(this.state.tabs,{isLive:!0}))},hasLiveTab:function(){return this.state.activeTab&&this.state.activeTab.isLive},setActiveTab:function(a){a&&(a.isLive=!0),this.setState({activeTab:a})},resizeTabs:function(){d.resizeToFit(this.find(".tabs-wrap"),this.findAll(".tabs > .tab:not(.hidden)"),2)}});return o}),define("routers/BaseRouter",["require","lodash","backbone","helpers/pubSub","helpers/utils"],function(a){"use strict";var b=(a("lodash"),a("backbone")),c=a("helpers/pubSub"),d=a("helpers/utils"),e=b.Router.extend({routes:{"":"root",":slideId":"slide"},initialize:function(){c.on("mainWindow:slideChanged",this.onSlideChanged.bind(this))},root:function(){c.trigger("nextSlide:requesting")},slide:function(a){c.trigger("nextSlide:requesting",d.prefixWithPlayer(a))},onSlideChanged:function(a){this.navigate(a.fullId())}});return e}),define("helpers/debug",["require","routers/BaseRouter","backbone","helpers/vow"],function(a){"use strict";var b=a("routers/BaseRouter"),c=a("backbone"),d=a("helpers/vow"),e={initialize:function(a,b,c){this.debugMode=a.get("debugMode"),this.setGlobals(a,b,c)},setGlobals:function(a,b,c){this.debugMode&&(window.presentation=a,window.player=b,window.app=c)},initRouter:function(a){if(this.debugMode){var e=d.isResolved(a);new b;c.history.start({silent:e})}}};return e}),define("views/player/MobileStartOverlay",["require","react","views/mixins/baseView","helpers/debug"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=(a("helpers/debug"),b.createClass({displayName:"MobileStartOverlay",mixins:[c],subscriptions:{"mobileStart:requesting":"onMobileStart"},getInitialState:function(){return{visible:!1}},onMobileStart:function(a){this.rejectDeferred=a,this.overlay=document.querySelector("#overlay-mobile"),this.overlay.classList.add("opaque"),this.setState({visible:!0})},onStart:function(){this.overlay.classList.remove("opaque"),this.rejectDeferred(),this.setState({visible:!1})}}));return d}),define("views/player/PlaybackControls",["require","react","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=b.createClass({displayName:"PlaybackControls",mixins:[c],getInitialState:function(){return{timeline:this.props.slide&&this.props.slide.currentTimeline()}},componentWillMount:function(){this.listenTo(this.props.slide,"change:currentTimeline",this.onTimelineChanged)},componentWillUpdate:function(a){a.slide!==this.props.slide&&(this.stopListening(),this.listenTo(a.slide,"change:currentTimeline",this.onTimelineChanged),this.onTimelineChanged(a.slide,a.slide.currentTimeline()))},onTimelineChanged:function(a,b){this.setState({timeline:b})}});return d}),define("views/player/VolumeControls",["require","react","helpers/pubSub","helpers/constants","helpers/appState","views/mixins/baseView","views/mixins/mouseable","views/events/eventHelper"],function(a){"use strict";var b=a("react"),c=a("helpers/pubSub"),d=a("helpers/constants"),e=a("helpers/appState"),f=a("views/mixins/baseView"),g=a("views/mixins/mouseable"),h=a("views/events/eventHelper"),i=b.createClass({displayName:"VolumeControls",mixins:[f,g],getTabbableItems:function(){return[{idx:d.tabIndices.VOLUME,item:this}]},componentDidMount:function(){var a=this.find(".volume");this.registerEvent("releaseoutside",this.onHide,a),this.registerEvent("clickoutside",this.onHide,a)},componentDidUpdate:function(a,b){var c=b.isOpen,d=this.state.isOpen;c!==d&&this.state.tabFocused&&this.stealFocus()},getInitialState:function(){return{isOpen:!1,volumeStrength:e.currentVolume()}},stringTitles:{volume:"acc_volume"},onHide:function(){this.hideSlider()},onClick:function(a){h.isSpacebarClick(a)||this.toggleSlider()},onInputChange:function(a){this.changeVolume(a.target.valueAsNumber)},showSlider:function(){this.setState({isOpen:!0})},hideSlider:function(){this.setState({isOpen:!1})},toggleSlider:function(){this.setState({isOpen:!this.state.isOpen})},changeVolume:function(a){c.trigger("volume:changed",a),this.setState({volumeStrength:a})},stealFocus:function(){var a=this.state.isOpen;this.setState({tabFocused:!0}),this.focusedEl=this.find(a?"input":"button"),this.focusedEl.focus()},releaseFocus:function(){this.setState({tabFocused:!1,isOpen:!1}),this.focusedEl.blur(),this.focusedEl=null},treeKeyCallback:function(a,c){var d=c?"stepDown":"stepUp",e=b.findDOMNode(this.refs.volumeRange);if(this.state.isOpen){try{e[d]()}catch(f){}this.changeVolume(e.valueAsNumber)}},actionKeyCallback:function(){this.showSlider()}});return i}),define("views/player/SlideRelatedActions",["require","react","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=b.createClass({displayName:"SlideRelatedActions",mixins:[c]});return d}),define("views/presentation/VectorText",["require","lodash","react","helpers/svg/svgUtils","views/mixins/baseView","polyfills/vendorOverrides"],function(a){"use strict";var b=(a("lodash"),a("react")),c=a("helpers/svg/svgUtils"),d=a("views/mixins/baseView"),e=a("polyfills/vendorOverrides"),f=e.applyTextShadow||function(a){return a.className="object-text-shadow",a},g=b.createClass({displayName:"VectorText",mixins:[d],getInitialState:function(){var a=this.defaultCommandsetId=this.getPath("props.textLibItem.vectortext.pr.i"),b=this.defaultPathLib=this.getPath("props.textLibItem.vectortext.pr.l");return f({defaultCommandsetId:a,curCommandsetId:a,defaultPathLib:b,curPathLib:b})},renderAs:function(a,b){var c=b||this.defaultCommandsetId,d=a||this.defaultPathLib;this.setState({curCommandsetId:c,curPathLib:d})},onClickCallback:function(a){this.trigger("textHit",a)},getTransform:function(){return[c.transformRotate(this.props.rotDeg,this.props.rotX,this.props.rotY),c.transformTranslate(this.props.originX,this.props.originY)].join(" ")}});return g}),define("views/helpers/variableTextHelper",["require","lodash","helpers/resolver"],function(a){"use strict";var b=a("lodash"),c=a("helpers/resolver"),d=/((%|&)[A-Z0-9_\.\$]+(%|;))/gi,e=/\.\$/g,f=/%|&|;/g,g=function(a,b){return c.isPropRef(a)?c.resolvePath(a):b.value()},h=function(a){return a.replace(f,"")},i=function(a){if(null==a)return[];var b=a.match(d);return null==b?[]:b.reduce(function(a,b){var d=c.resolvePath(h(b),{optional:!0}),f=d&&d.isModel?d:b;return(d||b.search(e)>-1)&&(a[b]=f),a},{})},j=function(a,c){return null==a?null:a.replace(d,function(a,d){var e=c[d],f=h(d);return b.isUndefined(e)?d:g(f,e)})},k=function(a,d){var e=[],f=function(){for(;e.length>0;)e.shift()()};return b.values(a).forEach(function(a){var f,g="change";b.isString(a)&&(f=h(a).split("."),a=c.resolvePath(b.initial(f)).playerProps,g+=":"+b.last(f).replace(/^\$/,"")),a.on(g,d),e.push(function(){a.off(g,d)})}),f},l={findRefs:i,parseVars:j,listenToVarChanges:k};return l}),define("views/presentation/VariableText",["require","lodash","helpers/utils","react","backbone","views/mixins/baseView","views/helpers/dom","helpers/resolver","helpers/svg/svgUtils","views/helpers/variableTextHelper"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("react"),e=(a("backbone"),a("views/mixins/baseView")),f=a("views/helpers/dom"),g=(a("helpers/resolver"),a("helpers/svg/svgUtils"),a("views/helpers/variableTextHelper")),h=/<\/?html>/g,i=20,j=function(a){var c=a.map(function(a){return a.getBoundingClientRect()});return{height:b.max(b.pluck(c,"bottom"))-b.min(b.pluck(c,"top")),width:b.max(b.pluck(c,"right"))-b.min(b.pluck(c,"left"))}},k={top:"align-flex-start",center:"align-flex-center",bottom:"align-flex-end"},l=function(a){return k[a.get("valign")]},m=function(){var a=/^event:/;return function(b){return a.test((b.href||"").trim())}}(),n=function(a){return b.last((a||"").split(":"))},o=d.createClass({displayName:"VariableText",mixins:[e],initialVisibility:!1,getInitialState:function(){return this.origTemplate=this.props.model.vartext(),this.setupRefs(),{embeddedTemplate:this.getTemplate()}},componentDidMount:function(){this.setState({valignClass:l(this.props.model)}),this.setupValues().fitText().show()},componentWillMount:function(){this.observeVarChanges()},componentDidUpdate:function(){this.setupValues().fitText()},componentWillUnmount:function(){null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges()},getTemplate:function(){return this.stripTags(this.parseVars())},setupValues:function(){return this.fonts=this.findAll("font"),this.fonts.forEach(function(a){a.setAttribute("data-original-size",a.style.fontSize)}),this},setupRefs:function(){return this.varRefs=g.findRefs(this.origTemplate),this},stripTags:function(a){return a.replace(h,"")},parseVars:function(){return g.parseVars(this.origTemplate,this.varRefs)},possibleHit:function(a){a.preventDefault();var b=f.closest(a.target,m);b&&this.trigger("textHit",n(b.href))},observeVarChanges:function(){return this.stopListeningToVarChanges=g.listenToVarChanges(this.varRefs,function(){this.setState({embeddedTemplate:this.parseVars()})}.bind(this)),this},fitText:function(){var a=0,b=c.lowerCaseFirst(this.cssTransform),d=this.find(".textlib-inner"),e="foreignObject"===this.el.parentNode.tagName,g=this.props.model.width(),h=this.props.model.height(),k=function(){return a>i},l=function(){var a=j(this.fonts),b=a.width,c=a.height;return b>0&&(c>h||b>g)}.bind(this),m=function(){this.fonts.forEach(function(a){var b=parseInt(a.style.fontSize,10),c=f.closest(a.parentNode,function(a){return"p"===a.nodeName.toLowerCase()}),d=parseFloat(c.style.lineHeight),e=d/b;a.style.fontSize=b-1+"px",c.style.lineHeight=(b-1)*e+"px"})}.bind(this),n=function(){for(;!k()&&l();)a++,m()};return this.fonts.forEach(function(a){a.style.fontSize=a.getAttribute("data-original-size")}),e&&(d.style[b]="translate(-50%, -50%)"),n(),this}});return o}),define("helpers/svg/svgBuilder",["require","lodash","helpers/svg/svgUtils","helpers/utils","react","views/presentation/VectorText","views/presentation/VariableText"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=a("helpers/utils"),e=a("react"),f=a("views/presentation/VectorText"),g=a("views/presentation/VariableText"),h={vectorText:f,variableText:g},i=function(a){return a.join("")},j={"xlink:href":"data-xlink-href"},k=("image rect ellipse path".split(" "),function(a){return a?b.isString(a)?a:a.map(c.buildTransformFn).join(" "):""}),l={transform:k,gradientTransform:k,patternTransform:k},m=function(a){return p(a)},n=function(a){return b.isArray(a)?a.join(","):a},o=function(a){return a.nodeType!==!1},p=function(a,c){if(!o(a))return"";if(null==a.nodeType)return a;var f,g=a.children,k=h[a.nodeType]||a.nodeType,m=b.omit(a,"children","nodeType"),q=[],r="tspan"===k?i:b.identity;return f=b.transform(m,function(a,b,c){-1===c.indexOf("data-")&&/-/g.test(c)&&(c=d.camelCaseAttr(c));var e=l[c]||n,f=j[c]||c;a[f]=e(b)},{}),c&&(f.key=b.uniqueId("rk-")),g&&(q=g.filter(o).map(function(a,b){return p(a,!0)})),b.isString(k)||(f.ref=f.ref||f.key),e.createElement(k,f,r(q))};return{createSvg:m}}),define("helpers/svg/imageHelper",["require","lodash","helpers/svg/svgUtils","../assetManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=a("../assetManager"),e={IMAGE:"data-original-image"},f={findImage:function(a,c){var f=b.findWhere(a,{id:c[e.IMAGE]});return d.getAsset(f.assetId)},addImageAttrs:function(a,b){if(!c.isImageNode(a))return a;var d=f.findImage(b,a);return d.isValid()?(a["xlink:href"]=d.url(),a.height=d.height(),a.width=d.width(),a.x+=d.get("mobiledx"),a.y+=d.get("mobiledy"),a):{nodeType:!1}}};return f.applyImagelib=b.partial(c.transformNodeConfig,f.addImageAttrs),f}),define("views/presentation/ObjectSlideBackground",["require","react","views/mixins/baseView","views/mixins/propertizable","helpers/svg/svgUtils"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=(a("views/mixins/propertizable"),a("helpers/svg/svgUtils"),b.createClass({mixins:[c],displayName:"ObjectSlideBackground",getX:function(){return-this.props.playerProps.RawXPos},getY:function(){return-this.props.playerProps.RawYPos},getXRot:function(){return this.props.playerProps.RawXPos+this.props.playerProps.rotateXPos},getYRot:function(){return this.props.playerProps.RawYPos+this.props.playerProps.rotateYPos},getRot:function(){return-this.props.playerProps.Rotation},getSlideHeight:function(){return this.props.model.getSlide().get("height")},getSlideWidth:function(){return this.props.model.getSlide().get("width")},getSlideId:function(){return this.props.model.getSlide().get("id")}}));return d}),define("helpers/svg/backgroundHelper",["require","lodash","helpers/svg/svgUtils","../assetManager","views/presentation/ObjectSlideBackground"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=(a("../assetManager"),a("views/presentation/ObjectSlideBackground")),e={BG_IMAGE:"data-slidefill"},f=function(a,b,f){if(!a[e.BG_IMAGE])return a;var g=["slide","bg",b.commandsetId].join("-"),h={nodeType:"g",children:[]};return h.children.skipTraversal=!0,a.fill=c.buildUrl(g),h.children.push({nodeType:d,id:g,model:f.props.model,playerProps:f.props.playerProps,patternTransform:a["data-stroke-sharpened"]?[c.buildTranslateConfig(-.5,-.5)]:""}),h.children.push(a),h},g={applySlideBackground:b.partial(c.transformNodeConfig,f)};return g}),define("helpers/svg/patternHelper",["require","lodash","helpers/svg/imageHelper","helpers/svg/svgUtils","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/imageHelper"),d=a("helpers/svg/svgUtils"),e=a("helpers/utils"),f=[{x:{posMult:0,negMult:0},y:{posMult:0,negMult:0}},{x:{posMult:.5,negMult:1},y:{posMult:0,negMult:0}},{x:{posMult:0,negMult:0},y:{posMult:.5,negMult:1}},{x:{posMult:.5,negMult:1},y:{posMult:.5,negMult:1}}],g=function(a){return d.isPatternNode(a)&&"image"===a["data-type"]},h={addPatternAttrs:function(a,f,i){if(!g(a))return a;var j,k=b.first(a.children.filter(d.isDefsNode)),l=b.first(k.children.filter(d.isImageNode)),m=a.children.filter(d.isUseNode),n=c.findImage(f,l),o=n.width(),p=n.height(),q=!l.preserveAspectRatio,r=b.partial(h.transformUseNode,o,p);return q?(a.width=o,a.height=p,m.forEach(r)):(j=e.hypot(i.fullHeight,i.fullWidth),a.height=j,a.width=j),a},transformUseNode:function(a,c,e,g){var h=b.findWhere(e.transform,{type:"scale"}),i=h.args[0],j=h.args[1],k=f[g],l=k.x[i>0?"posMult":"negMult"]*a,m=k.y[j>0?"posMult":"negMult"]*c;e.transform=[d.buildTransformFn("translate",l,m),d.buildTransformFn("scale",i,j)].join(" ")}};return h.applyImagePatterns=b.partial(d.transformNodeConfig,h.addPatternAttrs),h}),define("helpers/svg/strokeHelper",["require","lodash","helpers/svg/svgUtils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=function(a){var b=a["stroke-width"];return b&&b%2!==0},e=function(a){return d(a)&&(a["data-stroke-sharpened"]=!0,c.getTransformOf(a).unshift(c.buildTranslateConfig(.5,.5))),a},f={translateOddWidths:b.partial(c.transformNodeConfig,e)};return f}),define("helpers/svg/idHelper",["require","lodash","helpers/svg/svgUtils"],function(a){"use strict";var b,c=a("lodash"),d=a("helpers/svg/svgUtils"),e="uniqueDomId-",f=function(){b={}},g=function(a){var d=c.uniqueId(e);return b[a]=d,d},h=function(a){return a.id&&g(a.id),a};h.beforeStart=function(){f()},h.afterFinish=function(a){return JSON.parse(c.reduce(b,function(a,b,c){return a.replace(new RegExp(c,"g"),b)},JSON.stringify(a)))};var i={ensureIdsAreUnique:c.partial(d.transformNodeConfig,h)};return i}),define("helpers/svg/textHelper",["require","lodash","helpers/svg/svgUtils","helpers/errorManager","polyfills/vendorOverrides"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d=a("helpers/errorManager"),e=a("polyfills/vendorOverrides"),f=d.throwError("textHelper"),g=d.backtick,h="No text lib item with id of",i=e.moveVarTextOutOfSvg||b.identity,j=e.unwrapForeignObjectVarText||b.identity,k=e.offsetForeignObjectText||b.identity,l=function(a){return"text"===a["data-reference-type"]},m=function(a){return a["data-reference-id"]},n={vartext:function(a,b,c){b.index();return j({nodeType:"foreignObject",x:k(a.x,c.xPos),y:k(a.y,c.yPos),width:b.width(),height:b.height(),children:[{ref:"vtext",nodeType:"variableText",model:b,id:a.id,transform:a.transform}]})},vectortext:function(a,b,c,d){return{nodeType:"vectorText",hasShadow:!!a["data-shadow"],rotDeg:a["data-rotation"],rotX:c.width/2+c.xPos,rotY:c.height/2+c.yPos,originX:a.x,originY:a.y,textLibItem:b}}},o=function(a,c,d,e){if(!l(a))return a;var i,j=m(a),k=c.get(j);return k||f("renderText",h,g(j)),(i=n[k.type()]||b.identity)(a,k,d,e)};o.afterFinish=i;var p,q={setSvgManager:function(a){p=a},applyTextLib:b.partial(c.transformNodeConfig,o)};return q}),define("helpers/svg/adornableHelper",["require","lodash","helpers/svg/svgUtils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/svg/svgUtils"),d={
ADORNMENT_TYPE:"data-adornment-type",IS_REFLECTION:"data-is-reflection-gradient"},e=function(a){return d.ADORNMENT_TYPE in a&&(a.ref=b.uniqueId("adornable"),a["data-transform"]=JSON.stringify(a.transform),a.transform=null),a},f=function(a){return a[d.IS_REFLECTION]===!0&&(a["data-rotation-offset"]=!0,a[d.IS_REFLECTION]=null),a},g=b.compose(e,f),h={decorateAdornables:b.partial(c.transformNodeConfig,g)};return h}),define("helpers/svg/svgManager",["require","lodash","models/BaseModel","helpers/utils","helpers/errorManager","helpers/svg/svgUtils","helpers/svg/svgBuilder","helpers/svg/imageHelper","helpers/svg/backgroundHelper","helpers/svg/patternHelper","helpers/svg/strokeHelper","helpers/svg/idHelper","helpers/svg/textHelper","helpers/svg/adornableHelper"],function(a){"use strict";var b=a("lodash"),c=a("models/BaseModel"),d=a("helpers/utils"),e=a("helpers/errorManager"),f=a("helpers/svg/svgUtils"),g=a("helpers/svg/svgBuilder"),h=a("helpers/svg/imageHelper"),i=a("helpers/svg/backgroundHelper"),j=a("helpers/svg/patternHelper"),k=a("helpers/svg/strokeHelper"),l=a("helpers/svg/idHelper"),m=a("helpers/svg/textHelper"),n=a("helpers/svg/adornableHelper"),o=e.throwError("SvgManager"),p=e.backtick,q=d.createSuper(c),r=c.extend({url:d.resolveDataUrl("paths"),getSvgNode:function(a,c){var d,e,o=this.get(a.libId,f.svgPrefix(a.commandsetId));return o=f.getFullSvgConfig(o,a.bounds,a.commandsetId),o=l.ensureIdsAreUnique(o),d=f.getDefsNode(o),o=n.decorateAdornables(o),a.imagelib&&(e=b.pick(a.bounds,"fullHeight","fullWidth"),o=h.applyImagelib(o,a.imagelib),o=j.applyImagePatterns(o,a.imagelib,e)),o=k.translateOddWidths(o,a),o=i.applySlideBackground(o,a,c),a.textLib&&!a.textLib.isEmpty()&&(o=m.applyTextLib(o,a.textLib,a.bounds,d)),g.createSvg(o)},getSvgFromData:function(a,c){var d=a.pick("imagelib","textLib");return s.getSvgNode(b.extend(d,{commandsetId:a.commandsetId(),libId:a.getPathLib(),bounds:a.getBounds()}),c)},createMask:function(a,b,c){var d,e,h=new window.DOMParser,i={top:0,left:0,width:0,height:0},j=f.getFullSvgConfig(a,i);return d=h.parseFromString(g.createSvg(j),"text/xml"),e=document.adoptNode(d.documentElement).firstChild,c.appendChild(e),e},get:function(a,b){var c,e=q("get").call(this,a);return e||o("get","tried calling for an undefined library",p(a)),c=e[b],c||o("get","tried calling for an undefined path id",p(b)),d.cloneDeeply(c)}}),s=new r;return m.setSvgManager(s),s}),define("views/presentation/VectorTextItem",["require","lodash","react","views/mixins/baseView","helpers/utils","helpers/svg/svgUtils","helpers/svg/svgManager","helpers/svg/svgBuilder"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("helpers/utils"),f=a("helpers/svg/svgUtils"),g=a("helpers/svg/svgManager"),h=a("helpers/svg/svgBuilder"),i=function(a){return a["font-family"]&&(a["font-family"]=e.doubleQuote(a["font-family"])),a},j=function(a){return f.isTspanNode(a)&&(a.children=a.children.map(function(a){return a.replace(/\s/g,"")})),a},k=c.createClass({displayName:"VectorTextItem",mixins:[d],template:function(a){var c=f.svgPrefix(this.props.commandsetId),d=g.get(this.props.pathLib,c);return f.transformNodeConfig(b.compose(j,i),d),h.createSvg(d)}});return k}),define("views/presentation/DropListItem",["require","lodash","views/mixins/baseView","react"],function(a){"use strict";var b=(a("lodash"),a("views/mixins/baseView")),c=a("react"),d=c.createClass({mixins:[b],displayName:"DropListItem",getInitialState:function(){return{hovered:!1,display:"none",selected:!1}},onClick:function(){this.props.selected(this.props.idx)},fillColorClass:function(){return this.state.hovered?"drop-list-item-over":this.state.selected?"drop-list-item-selected":"drop-list-item-out"},didMouseOver:function(){this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})}});return d}),define("views/presentation/LinearBackgroundGradient",["require","react","views/mixins/baseView","helpers/utils"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("helpers/utils"),e=b.createClass({displayName:"LinearBackgroundGradient",mixins:[c],stopPct:function(a){return d.stopPct(a.stop)},toRgba:function(a){return d.toRgba(a.rgb,a.alpha)}});return e}),function(){function a(a){var c={opts:a};return c.MAX_VIRTUAL_PIXELS=3e4,c.log=function(a){},1==c.opts.log&&"undefined"!=typeof console&&(c.log=function(a){console.log(a)}),c.init=function(a){var b=0;c.UniqueId=function(){return b++,"canvg"+b},c.Definitions={},c.Styles={},c.StylesSpecificity={},c.ctx=a,c.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(a,b){this.viewPorts.push({width:a,height:b})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(a){return null!=a&&"number"==typeof a?a:"x"==a?this.width():"y"==a?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},c.init(),c.trim=function(a){return a.replace(/^\s+|\s+$/g,"")},c.compressSpaces=function(a){return a.replace(/[\s\r\t\n]+/gm," ")},c.parseXml=function(a){if("undefined"!=typeof Windows&&"undefined"!=typeof Windows.Data&&"undefined"!=typeof Windows.Data.Xml){var b=new Windows.Data.Xml.Dom.XmlDocument,c=new Windows.Data.Xml.Dom.XmlLoadSettings;return c.prohibitDtd=!1,b.loadXml(a,c),b}if(window.DOMParser){var d=new DOMParser;return d.parseFromString(a,"text/xml")}a=a.replace(/<!DOCTYPE svg[^>]*>/,"");var b=new ActiveXObject("Microsoft.XMLDOM");return b.async="false",b.loadXML(a),b},c.Property=function(a,b){this.name=a,this.value=b},c.Property.prototype.getValue=function(){return this.value},c.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},c.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var a=parseFloat(this.value);return(this.value+"").match(/%$/)&&(a/=100),a},c.Property.prototype.valueOrDefault=function(a){return this.hasValue()?this.value:a},c.Property.prototype.numValueOrDefault=function(a){return this.hasValue()?this.numValue():a},c.Property.prototype.getDefinition=function(){var a=this.value.match(/#([^\)'"]+)/);return a&&(a=a[1]),a||(a=this.value),c.Definitions[a]},c.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},c.Property.prototype.getDPI=function(a){return 96},c.Property.prototype.getEM=function(a){var b=12,d=new c.Property("fontSize",c.Font.Parse(c.ctx.font).fontSize);return d.hasValue()&&(b=d.toPixels(a)),b},c.Property.prototype.getUnits=function(){var a=this.value+"";return a.replace(/[0-9\.\-]/g,"")},c.Property.prototype.toPixels=function(a,b){if(!this.hasValue())return 0;var d=this.value+"";if(d.match(/em$/))return this.numValue()*this.getEM(a);if(d.match(/ex$/))return this.numValue()*this.getEM(a)/2;if(d.match(/px$/))return this.numValue();if(d.match(/pt$/))return this.numValue()*this.getDPI(a)*(1/72);if(d.match(/pc$/))return 15*this.numValue();if(d.match(/cm$/))return this.numValue()*this.getDPI(a)/2.54;if(d.match(/mm$/))return this.numValue()*this.getDPI(a)/25.4;if(d.match(/in$/))return this.numValue()*this.getDPI(a);if(d.match(/%$/))return this.numValue()*c.ViewPort.ComputeSize(a);var e=this.numValue();return b&&1>e?e*c.ViewPort.ComputeSize(a):e},c.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var a=this.value+"";return a.match(/deg$/)?this.numValue()*(Math.PI/180):a.match(/grad$/)?this.numValue()*(Math.PI/200):a.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},c.ToNumberArray=function(a){for(var b=c.trim(c.compressSpaces((a||"").replace(/,/g," "))).split(" "),d=0;d<b.length;d++)b[d]=parseFloat(b[d]);return b},c.Point=function(a,b){this.x=a,this.y=b},c.Point.prototype.angleTo=function(a){return Math.atan2(a.y-this.y,a.x-this.x)},c.Point.prototype.applyTransform=function(a){var b=this.x*a[0]+this.y*a[2]+a[4],c=this.x*a[1]+this.y*a[3]+a[5];this.x=b,this.y=c},c.CreatePoint=function(a){var b=c.ToNumberArray(a);return new c.Point(b[0],b[1])},c.CreatePath=function(a){for(var b=c.ToNumberArray(a),d=[],e=0;e<b.length;e+=2)d.push(new c.Point(b[e],b[e+1]));return d},c.BoundingBox=function(a,b,c,d){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(a,b){null!=a&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=a,this.x2=a),a<this.x1&&(this.x1=a),a>this.x2&&(this.x2=a)),null!=b&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=b,this.y2=b),b<this.y1&&(this.y1=b),b>this.y2&&(this.y2=b))},this.addX=function(a){this.addPoint(a,null)},this.addY=function(a){this.addPoint(null,a)},this.addBoundingBox=function(a){this.addPoint(a.x1,a.y1),this.addPoint(a.x2,a.y2)},this.addQuadraticCurve=function(a,b,c,d,e,f){var g=a+2/3*(c-a),h=b+2/3*(d-b),i=g+1/3*(e-a),j=h+1/3*(f-b);this.addBezierCurve(a,b,g,i,h,j,e,f)},this.addBezierCurve=function(a,b,c,d,e,f,g,h){var j=[a,b],k=[c,d],l=[e,f],m=[g,h];for(this.addPoint(j[0],j[1]),this.addPoint(m[0],m[1]),i=0;i<=1;i++){var n=function(a){return Math.pow(1-a,3)*j[i]+3*Math.pow(1-a,2)*a*k[i]+3*(1-a)*Math.pow(a,2)*l[i]+Math.pow(a,3)*m[i]},o=6*j[i]-12*k[i]+6*l[i],p=-3*j[i]+9*k[i]-9*l[i]+3*m[i],q=3*k[i]-3*j[i];if(0!=p){var r=Math.pow(o,2)-4*q*p;if(!(0>r)){var s=(-o+Math.sqrt(r))/(2*p);s>0&&1>s&&(0==i&&this.addX(n(s)),1==i&&this.addY(n(s)));var t=(-o-Math.sqrt(r))/(2*p);t>0&&1>t&&(0==i&&this.addX(n(t)),1==i&&this.addY(n(t)))}}else{if(0==o)continue;var u=-q/o;u>0&&1>u&&(0==i&&this.addX(n(u)),1==i&&this.addY(n(u)))}}},this.isPointInBox=function(a,b){return this.x1<=a&&a<=this.x2&&this.y1<=b&&b<=this.y2},this.addPoint(a,b),this.addPoint(c,d)},c.Transform=function(a){var b=this;this.Type={},this.Type.translate=function(a){this.p=c.CreatePoint(a),this.apply=function(a){a.translate(this.p.x||0,this.p.y||0)},this.unapply=function(a){a.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(a){a.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(a){var b=c.ToNumberArray(a);this.angle=new c.Property("angle",b[0]),this.cx=b[1]||0,this.cy=b[2]||0,this.apply=function(a){a.translate(this.cx,this.cy),a.rotate(this.angle.toRadians()),a.translate(-this.cx,-this.cy)},this.unapply=function(a){a.translate(this.cx,this.cy),a.rotate(-1*this.angle.toRadians()),a.translate(-this.cx,-this.cy)},this.applyToPoint=function(a){var b=this.angle.toRadians();a.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),a.applyTransform([Math.cos(b),Math.sin(b),-Math.sin(b),Math.cos(b),0,0]),a.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(a){this.p=c.CreatePoint(a),this.apply=function(a){a.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(a){a.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(a){a.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(a){this.m=c.ToNumberArray(a),this.apply=function(a){a.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(a){var b=this.m[0],c=this.m[2],d=this.m[4],e=this.m[1],f=this.m[3],g=this.m[5],h=0,i=0,j=1,k=1/(b*(f*j-g*i)-c*(e*j-g*h)+d*(e*i-f*h));a.transform(k*(f*j-g*i),k*(g*h-e*j),k*(d*i-c*j),k*(b*j-d*h),k*(c*g-d*f),k*(d*e-b*g))},this.applyToPoint=function(a){a.applyTransform(this.m)}},this.Type.SkewBase=function(a){this.base=b.Type.matrix,this.base(a),this.angle=new c.Property("angle",a)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(a){this.base=b.Type.SkewBase,this.base(a),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(a){this.base=b.Type.SkewBase,this.base(a),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(a){for(var b=0;b<this.transforms.length;b++)this.transforms[b].apply(a)},this.unapply=function(a){for(var b=this.transforms.length-1;b>=0;b--)this.transforms[b].unapply(a)},this.applyToPoint=function(a){for(var b=0;b<this.transforms.length;b++)this.transforms[b].applyToPoint(a)};for(var d=c.trim(c.compressSpaces(a)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),e=0;e<d.length;e++){var f=c.trim(d[e].split("(")[0]),g=d[e].split("(")[1].replace(")",""),h=new this.Type[f](g);h.type=f,this.transforms.push(h)}},c.AspectRatio=function(a,b,d,e,f,g,h,i,j,k){b=c.compressSpaces(b),b=b.replace(/^defer\s/,"");var l=b.split(" ")[0]||"xMidYMid",m=b.split(" ")[1]||"meet",n=d/e,o=f/g,p=Math.min(n,o),q=Math.max(n,o);"meet"==m&&(e*=p,g*=p),"slice"==m&&(e*=q,g*=q),j=new c.Property("refX",j),k=new c.Property("refY",k),j.hasValue()&&k.hasValue()?a.translate(-p*j.toPixels("x"),-p*k.toPixels("y")):(l.match(/^xMid/)&&("meet"==m&&p==o||"slice"==m&&q==o)&&a.translate(d/2-e/2,0),l.match(/YMid$/)&&("meet"==m&&p==n||"slice"==m&&q==n)&&a.translate(0,f/2-g/2),l.match(/^xMax/)&&("meet"==m&&p==o||"slice"==m&&q==o)&&a.translate(d-e,0),l.match(/YMax$/)&&("meet"==m&&p==n||"slice"==m&&q==n)&&a.translate(0,f-g)),"none"==l?a.scale(n,o):"meet"==m?a.scale(p,p):"slice"==m&&a.scale(q,q),a.translate(null==h?0:-h,null==i?0:-i)},c.Element={},c.EmptyProperty=new c.Property("EMPTY",""),c.Element.ElementBase=function(a){if(this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(a,b){var d=this.attributes[a];return null!=d?d:(1==b&&(d=new c.Property(a,""),this.attributes[a]=d),d||c.EmptyProperty)},this.getHrefAttribute=function(){for(var a in this.attributes)if("href"==a||a.match(/:href$/))return this.attributes[a];return c.EmptyProperty},this.style=function(a,b,d){var e=this.styles[a];if(null!=e)return e;var f=this.attribute(a);if(null!=f&&f.hasValue())return this.styles[a]=f,f;if(1!=d){var g=this.parent;if(null!=g){var h=g.style(a);if(null!=h&&h.hasValue())return h}}return 1==b&&(e=new c.Property(a,""),this.styles[a]=e),e||c.EmptyProperty},this.render=function(a){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){if(a.save(),this.style("mask").hasValue()){var b=this.style("mask").getDefinition();null!=b&&b.apply(a,this)}else if(this.style("filter").hasValue()){var c=this.style("filter").getDefinition();null!=c&&c.apply(a,this)}else this.setContext(a),this.renderChildren(a),this.clearContext(a);a.restore()}},this.setContext=function(a){},this.clearContext=function(a){},this.renderChildren=function(a){for(var b=0;b<this.children.length;b++)this.children[b].render(a)},this.addChild=function(a,b){var d=a;b&&(d=c.CreateElement(a)),d.parent=this,"title"!=d.type&&this.children.push(d)},this.addStylesFromStyleDefinition=function(){for(var d in c.Styles)if("@"!=d[0]&&b(a,d)){var e=c.Styles[d],f=c.StylesSpecificity[d];if(null!=e)for(var g in e){var h=this.stylesSpecificity[g];"undefined"==typeof h&&(h="000"),f>h&&(this.styles[g]=e[g],this.stylesSpecificity[g]=f)}}},null!=a&&1==a.nodeType){for(var d=0;d<a.attributes.length;d++){var e=a.attributes[d];this.attributes[e.nodeName]=new c.Property(e.nodeName,e.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue())for(var f=this.attribute("style").value.split(";"),d=0;d<f.length;d++)if(""!=c.trim(f[d])){var g=f[d].split(":"),h=c.trim(g[0]),i=c.trim(g[1]);this.styles[h]=new c.Property(h,i)}this.attribute("id").hasValue()&&null==c.Definitions[this.attribute("id").value]&&(c.Definitions[this.attribute("id").value]=this);for(var d=0;d<a.childNodes.length;d++){var j=a.childNodes[d];if(1==j.nodeType&&this.addChild(j,!0),this.captureTextNodes&&(3==j.nodeType||4==j.nodeType)){var k=j.value||j.text||j.textContent||"";""!=c.compressSpaces(k)&&this.addChild(new c.Element.tspan(j),!1)}}}},c.Element.RenderedElementBase=function(a){this.base=c.Element.ElementBase,this.base(a),this.setContext=function(a){if(a.fillStyle=c.opts.col||"red",a.strokeStyle=c.opts.col||"blue",this.style("stroke-width").hasValue()){var b=this.style("stroke-width").toPixels();a.lineWidth=0==b?.001:b}if(this.style("stroke-linecap").hasValue()&&(a.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(a.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(a.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value){var d=c.ToNumberArray(this.style("stroke-dasharray").value);"undefined"!=typeof a.setLineDash?a.setLineDash(d):"undefined"!=typeof a.webkitLineDash?a.webkitLineDash=d:"undefined"==typeof a.mozDash||1==d.length&&0==d[0]||(a.mozDash=d);var e=this.style("stroke-dashoffset").numValueOrDefault(1);"undefined"!=typeof a.lineDashOffset?a.lineDashOffset=e:"undefined"!=typeof a.webkitLineDashOffset?a.webkitLineDashOffset=e:"undefined"!=typeof a.mozDashOffset&&(a.mozDashOffset=e)}if(this.style("transform",!1,!0).hasValue()){var f=new c.Transform(this.style("transform",!1,!0).value);f.apply(a)}if(this.style("clip-path",!1,!0).hasValue()){var g=this.style("clip-path",!1,!0).getDefinition();null!=g&&g.apply(a)}}},c.Element.RenderedElementBase.prototype=new c.Element.ElementBase,c.Element.PathElementBase=function(a){this.base=c.Element.RenderedElementBase,this.base(a),this.path=function(a){return null!=a&&a.beginPath(),new c.BoundingBox},this.renderChildren=function(a){this.path(a),""!=a.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?a.fill(this.style("fill-rule").value):a.fill()),""!=a.strokeStyle&&a.stroke()},this.getBoundingBox=function(){return this.path()}},c.Element.PathElementBase.prototype=new c.Element.RenderedElementBase,c.Element.svg=function(a){this.base=c.Element.RenderedElementBase,this.base(a),this.baseClearContext=this.clearContext,this.clearContext=function(a){this.baseClearContext(a),c.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(a){a.strokeStyle="rgba(0,0,0,0)",a.lineCap="butt",a.lineJoin="miter",a.miterLimit=4,"undefined"!=typeof a.font&&"undefined"!=typeof window.getComputedStyle&&(a.font=window.getComputedStyle(a.canvas).getPropertyValue("font")),this.baseSetContext(a),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),a.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var b=c.ViewPort.width(),d=c.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){b=this.attribute("width").toPixels("x"),d=this.attribute("height").toPixels("y");var e=0,f=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(e=-this.attribute("refX").toPixels("x"),f=-this.attribute("refY").toPixels("y")),"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(a.beginPath(),a.moveTo(e,f),a.lineTo(b,f),a.lineTo(b,d),a.lineTo(e,d),a.closePath(),a.clip())}if(c.ViewPort.SetCurrent(b,d),this.attribute("viewBox").hasValue()){var g=c.ToNumberArray(this.attribute("viewBox").value),h=g[0],i=g[1];b=g[2],d=g[3],c.AspectRatio(a,this.attribute("preserveAspectRatio").value,c.ViewPort.width(),b,c.ViewPort.height(),d,h,i,this.attribute("refX").value,this.attribute("refY").value),c.ViewPort.RemoveCurrent(),c.ViewPort.SetCurrent(g[2],g[3])}}},c.Element.svg.prototype=new c.Element.RenderedElementBase,c.Element.rect=function(a){this.base=c.Element.PathElementBase,this.base(a),this.path=function(a){var b=this.attribute("x").toPixels("x"),d=this.attribute("y").toPixels("y"),e=this.attribute("width").toPixels("x"),f=this.attribute("height").toPixels("y"),g=this.attribute("rx").toPixels("x"),h=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(h=g),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(g=h),g=Math.min(g,e/2),h=Math.min(h,f/2),null!=a&&(a.beginPath(),a.moveTo(b+g,d),a.lineTo(b+e-g,d),a.quadraticCurveTo(b+e,d,b+e,d+h),a.lineTo(b+e,d+f-h),a.quadraticCurveTo(b+e,d+f,b+e-g,d+f),a.lineTo(b+g,d+f),a.quadraticCurveTo(b,d+f,b,d+f-h),a.lineTo(b,d+h),a.quadraticCurveTo(b,d,b+g,d),a.closePath()),new c.BoundingBox(b,d,b+e,d+f)}},c.Element.rect.prototype=new c.Element.PathElementBase,c.Element.circle=function(a){this.base=c.Element.PathElementBase,this.base(a),this.path=function(a){var b=this.attribute("cx").toPixels("x"),d=this.attribute("cy").toPixels("y"),e=this.attribute("r").toPixels();return null!=a&&(a.beginPath(),a.arc(b,d,e,0,2*Math.PI,!0),a.closePath()),new c.BoundingBox(b-e,d-e,b+e,d+e)}},c.Element.circle.prototype=new c.Element.PathElementBase,c.Element.ellipse=function(a){this.base=c.Element.PathElementBase,this.base(a),this.path=function(a){var b=4*((Math.sqrt(2)-1)/3),d=this.attribute("rx").toPixels("x"),e=this.attribute("ry").toPixels("y"),f=this.attribute("cx").toPixels("x"),g=this.attribute("cy").toPixels("y");return null!=a&&(a.beginPath(),a.moveTo(f,g-e),a.bezierCurveTo(f+b*d,g-e,f+d,g-b*e,f+d,g),a.bezierCurveTo(f+d,g+b*e,f+b*d,g+e,f,g+e),a.bezierCurveTo(f-b*d,g+e,f-d,g+b*e,f-d,g),a.bezierCurveTo(f-d,g-b*e,f-b*d,g-e,f,g-e),a.closePath()),new c.BoundingBox(f-d,g-e,f+d,g+e)}},c.Element.ellipse.prototype=new c.Element.PathElementBase,c.Element.line=function(a){this.base=c.Element.PathElementBase,this.base(a),this.getPoints=function(){return[new c.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new c.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(a){var b=this.getPoints();return null!=a&&(a.beginPath(),a.moveTo(b[0].x,b[0].y),a.lineTo(b[1].x,b[1].y)),new c.BoundingBox(b[0].x,b[0].y,b[1].x,b[1].y)}},c.Element.line.prototype=new c.Element.PathElementBase,c.Element.polyline=function(a){this.base=c.Element.PathElementBase,this.base(a),this.points=c.CreatePath(this.attribute("points").value),this.path=function(a){var b=new c.BoundingBox(this.points[0].x,this.points[0].y);null!=a&&(a.beginPath(),a.moveTo(this.points[0].x,this.points[0].y));for(var d=1;d<this.points.length;d++)b.addPoint(this.points[d].x,this.points[d].y),null!=a&&a.lineTo(this.points[d].x,this.points[d].y);return b}},c.Element.polyline.prototype=new c.Element.PathElementBase,c.Element.polygon=function(a){this.base=c.Element.polyline,this.base(a),this.basePath=this.path,this.path=function(a){var b=this.basePath(a);return null!=a&&(a.lineTo(this.points[0].x,this.points[0].y),a.closePath()),b}},c.Element.polygon.prototype=new c.Element.polyline,c.Element.path=function(a){this.base=c.Element.PathElementBase,this.base(a);var b=this.attribute("d").value;b=b.replace(/,/gm," ");for(var d=0;2>d;d++)b=b.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");b=b.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),b=b.replace(/([0-9])([+\-])/gm,"$1 $2");for(var d=0;2>d;d++)b=b.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");b=b.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),b=c.compressSpaces(b),b=c.trim(b),this.PathParser=new function(a){this.tokens=a.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new c.Point(0,0),this.control=new c.Point(0,0),this.current=new c.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var a=new c.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(a)},this.getAsControlPoint=function(){var a=this.getPoint();return this.control=a,a},this.getAsCurrentPoint=function(){var a=this.getPoint();return this.current=a,a},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase())return this.current;var a=new c.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return a},this.makeAbsolute=function(a){return this.isRelativeCommand()&&(a.x+=this.current.x,a.y+=this.current.y),a},this.addMarker=function(a,b,c){null!=c&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(c)),this.addMarkerAngle(a,null==b?null:b.angleTo(a))},this.addMarkerAngle=function(a,b){this.points.push(a),this.angles.push(b)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var a=0;a<this.angles.length;a++)if(null==this.angles[a])for(var b=a+1;b<this.angles.length;b++)if(null!=this.angles[b]){this.angles[a]=this.angles[b];break}return this.angles}}(b),this.path=function(a){var b=this.PathParser;b.reset();var d=new c.BoundingBox;for(null!=a&&a.beginPath();!b.isEnd();)switch(b.nextCommand(),b.command){case"M":case"m":var e=b.getAsCurrentPoint();for(b.addMarker(e),d.addPoint(e.x,e.y),null!=a&&a.moveTo(e.x,e.y),b.start=b.current;!b.isCommandOrEnd();){var e=b.getAsCurrentPoint();b.addMarker(e,b.start),d.addPoint(e.x,e.y),null!=a&&a.lineTo(e.x,e.y)}break;case"L":case"l":for(;!b.isCommandOrEnd();){var f=b.current,e=b.getAsCurrentPoint();b.addMarker(e,f),d.addPoint(e.x,e.y),null!=a&&a.lineTo(e.x,e.y)}break;case"H":case"h":for(;!b.isCommandOrEnd();){var g=new c.Point((b.isRelativeCommand()?b.current.x:0)+b.getScalar(),b.current.y);b.addMarker(g,b.current),b.current=g,d.addPoint(b.current.x,b.current.y),null!=a&&a.lineTo(b.current.x,b.current.y)}break;case"V":case"v":for(;!b.isCommandOrEnd();){var g=new c.Point(b.current.x,(b.isRelativeCommand()?b.current.y:0)+b.getScalar());b.addMarker(g,b.current),b.current=g,d.addPoint(b.current.x,b.current.y),null!=a&&a.lineTo(b.current.x,b.current.y)}break;case"C":case"c":for(;!b.isCommandOrEnd();){var h=b.current,i=b.getPoint(),j=b.getAsControlPoint(),k=b.getAsCurrentPoint();b.addMarker(k,j,i),d.addBezierCurve(h.x,h.y,i.x,i.y,j.x,j.y,k.x,k.y),null!=a&&a.bezierCurveTo(i.x,i.y,j.x,j.y,k.x,k.y)}break;case"S":case"s":for(;!b.isCommandOrEnd();){var h=b.current,i=b.getReflectedControlPoint(),j=b.getAsControlPoint(),k=b.getAsCurrentPoint();b.addMarker(k,j,i),d.addBezierCurve(h.x,h.y,i.x,i.y,j.x,j.y,k.x,k.y),null!=a&&a.bezierCurveTo(i.x,i.y,j.x,j.y,k.x,k.y)}break;case"Q":case"q":for(;!b.isCommandOrEnd();){var h=b.current,j=b.getAsControlPoint(),k=b.getAsCurrentPoint();b.addMarker(k,j,j),d.addQuadraticCurve(h.x,h.y,j.x,j.y,k.x,k.y),null!=a&&a.quadraticCurveTo(j.x,j.y,k.x,k.y)}break;case"T":case"t":for(;!b.isCommandOrEnd();){var h=b.current,j=b.getReflectedControlPoint();b.control=j;var k=b.getAsCurrentPoint();b.addMarker(k,j,j),d.addQuadraticCurve(h.x,h.y,j.x,j.y,k.x,k.y),null!=a&&a.quadraticCurveTo(j.x,j.y,k.x,k.y)}break;case"A":case"a":for(;!b.isCommandOrEnd();){var h=b.current,l=b.getScalar(),m=b.getScalar(),n=b.getScalar()*(Math.PI/180),o=b.getScalar(),p=b.getScalar(),k=b.getAsCurrentPoint(),q=new c.Point(Math.cos(n)*(h.x-k.x)/2+Math.sin(n)*(h.y-k.y)/2,-Math.sin(n)*(h.x-k.x)/2+Math.cos(n)*(h.y-k.y)/2),r=Math.pow(q.x,2)/Math.pow(l,2)+Math.pow(q.y,2)/Math.pow(m,2);r>1&&(l*=Math.sqrt(r),m*=Math.sqrt(r));var s=(o==p?-1:1)*Math.sqrt((Math.pow(l,2)*Math.pow(m,2)-Math.pow(l,2)*Math.pow(q.y,2)-Math.pow(m,2)*Math.pow(q.x,2))/(Math.pow(l,2)*Math.pow(q.y,2)+Math.pow(m,2)*Math.pow(q.x,2)));isNaN(s)&&(s=0);var t=new c.Point(s*l*q.y/m,s*-m*q.x/l),u=new c.Point((h.x+k.x)/2+Math.cos(n)*t.x-Math.sin(n)*t.y,(h.y+k.y)/2+Math.sin(n)*t.x+Math.cos(n)*t.y),v=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))},w=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(v(a)*v(b))},x=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(w(a,b))},y=x([1,0],[(q.x-t.x)/l,(q.y-t.y)/m]),z=[(q.x-t.x)/l,(q.y-t.y)/m],A=[(-q.x-t.x)/l,(-q.y-t.y)/m],B=x(z,A);w(z,A)<=-1&&(B=Math.PI),w(z,A)>=1&&(B=0);var C=1-p?1:-1,D=y+C*(B/2),E=new c.Point(u.x+l*Math.cos(D),u.y+m*Math.sin(D));if(b.addMarkerAngle(E,D-C*Math.PI/2),b.addMarkerAngle(k,D-C*Math.PI),d.addPoint(k.x,k.y),null!=a){var w=l>m?l:m,F=l>m?1:l/m,G=l>m?m/l:1;a.translate(u.x,u.y),a.rotate(n),a.scale(F,G),a.arc(0,0,w,y,y+B,1-p),a.scale(1/F,1/G),a.rotate(-n),a.translate(-u.x,-u.y)}}break;case"Z":case"z":null!=a&&a.closePath(),b.current=b.start}return d}},c.Element.path.prototype=new c.Element.PathElementBase,c.Element.defs=function(a){this.base=c.Element.ElementBase,this.base(a),this.render=function(a){}},c.Element.defs.prototype=new c.Element.ElementBase,c.Element.image=function(a){},c.Element.image.prototype=new c.Element.RenderedElementBase,c.Element.g=function(a){this.base=c.Element.RenderedElementBase,this.base(a),this.getBoundingBox=function(){for(var a=new c.BoundingBox,b=0;b<this.children.length;b++)a.addBoundingBox(this.children[b].getBoundingBox());return a}},c.Element.g.prototype=new c.Element.RenderedElementBase,c.Element.symbol=function(a){this.base=c.Element.RenderedElementBase,this.base(a),this.render=function(a){}},c.Element.symbol.prototype=new c.Element.RenderedElementBase,c.Element.use=function(a){this.base=c.Element.RenderedElementBase,this.base(a),this.baseSetContext=this.setContext,this.setContext=function(a){this.baseSetContext(a),this.attribute("x").hasValue()&&a.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&a.translate(0,this.attribute("y").toPixels("y"))};var b=this.getHrefAttribute().getDefinition();this.path=function(a){null!=b&&b.path(a)},this.getBoundingBox=function(){return null!=b?b.getBoundingBox():void 0},this.renderChildren=function(a){if(null!=b){var d=b;"symbol"==b.type&&(d=new c.Element.svg,d.type="svg",d.attributes.viewBox=new c.Property("viewBox",b.attribute("viewBox").value),d.attributes.preserveAspectRatio=new c.Property("preserveAspectRatio",b.attribute("preserveAspectRatio").value),d.attributes.overflow=new c.Property("overflow",b.attribute("overflow").value),d.children=b.children),"svg"==d.type&&(this.attribute("width").hasValue()&&(d.attributes.width=new c.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(d.attributes.height=new c.Property("height",this.attribute("height").value)));var e=d.parent;d.parent=null,d.render(a),d.parent=e}}},c.Element.use.prototype=new c.Element.RenderedElementBase,c.Element.mask=function(a){this.base=c.Element.ElementBase,this.base(a),this.apply=function(a,b){var d=this.attribute("x").toPixels("x"),e=this.attribute("y").toPixels("y"),f=this.attribute("width").toPixels("x"),g=this.attribute("height").toPixels("y");if(0==f&&0==g){for(var h=new c.BoundingBox,i=0;i<this.children.length;i++)h.addBoundingBox(this.children[i].getBoundingBox());var d=Math.floor(h.x1),e=Math.floor(h.y1),f=Math.floor(h.width()),g=Math.floor(h.height())}var j=b.attribute("mask").value;b.attribute("mask").value="";var k=document.createElement("canvas");k.width=d+f,k.height=e+g;var l=k.getContext("2d");this.renderChildren(l);var m=document.createElement("canvas");m.width=d+f,m.height=e+g;var n=m.getContext("2d");b.render(n),n.globalCompositeOperation="destination-in",m.width>0&&(n.fillStyle=l.createPattern(k,"no-repeat"),n.fillRect(0,0,d+f,e+g),a.fillStyle=n.createPattern(m,"no-repeat"),a.fillRect(0,0,d+f,e+g)),b.attribute("mask").value=j},this.render=function(a){}},c.Element.mask.prototype=new c.Element.ElementBase,c.Element.clipPath=function(a){this.base=c.Element.ElementBase,this.base(a),this.apply=function(a){var b=CanvasRenderingContext2D.prototype.beginPath;CanvasRenderingContext2D.prototype.beginPath=function(){};
var d=CanvasRenderingContext2D.prototype.closePath;CanvasRenderingContext2D.prototype.closePath=function(){},b.call(a);for(var e=0;e<this.children.length;e++){var f=this.children[e];if("undefined"!=typeof f.path){var g=null;f.style("transform",!1,!0).hasValue()&&(g=new c.Transform(f.style("transform",!1,!0).value),g.apply(a)),f.path(a),CanvasRenderingContext2D.prototype.closePath=d,g&&g.unapply(a)}}d.call(a),a.clip(),CanvasRenderingContext2D.prototype.beginPath=b,CanvasRenderingContext2D.prototype.closePath=d},this.render=function(a){}},c.Element.clipPath.prototype=new c.Element.ElementBase,c.Element.MISSING=function(a){c.log("zilent fail - node not supported (REMOVE)"+a+"z")},c.Element.MISSING.prototype=new c.Element.ElementBase,c.CreateElement=function(a){var b=a.nodeName.replace(/^[^:]+:/,"");b=b.replace(/\-/g,"");var d=null;return d="undefined"!=typeof c.Element[b]?new c.Element[b](a):new c.Element.MISSING(a),d.type=a.nodeName,d},c.loadXml=function(a,b){c.loadXmlDoc(a,c.parseXml(b))},c.loadXmlDoc=function(a,b){c.init(a);var d=c.CreateElement(b.documentElement);d.root=!0,d.addStylesFromStyleDefinition();var e=!0,f=function(){c.ViewPort.Clear(),a.canvas.parentNode&&c.ViewPort.SetCurrent(a.canvas.parentNode.clientWidth,a.canvas.parentNode.clientHeight),1!=c.opts.ignoreDimensions&&(d.style("width").hasValue()&&(a.canvas.width=d.style("width").toPixels("x"),a.canvas.style.width=a.canvas.width+"px"),d.style("height").hasValue()&&(a.canvas.height=d.style("height").toPixels("y"),a.canvas.style.height=a.canvas.height+"px"));var f=a.canvas.clientWidth||a.canvas.width,g=a.canvas.clientHeight||a.canvas.height;if(1==c.opts.ignoreDimensions&&d.style("width").hasValue()&&d.style("height").hasValue()&&(f=d.style("width").toPixels("x"),g=d.style("height").toPixels("y")),c.ViewPort.SetCurrent(f,g),null!=c.opts.offsetX&&(d.attribute("x",!0).value=c.opts.offsetX),null!=c.opts.offsetY&&(d.attribute("y",!0).value=c.opts.offsetY),null!=c.opts.scaleWidth||null!=c.opts.scaleHeight){var h=null,i=null,j=c.ToNumberArray(d.attribute("viewBox").value);null!=c.opts.scaleWidth&&(d.attribute("width").hasValue()?h=d.attribute("width").toPixels("x")/c.opts.scaleWidth:isNaN(j[2])||(h=j[2]/c.opts.scaleWidth)),null!=c.opts.scaleHeight&&(d.attribute("height").hasValue()?i=d.attribute("height").toPixels("y")/c.opts.scaleHeight:isNaN(j[3])||(i=j[3]/c.opts.scaleHeight)),null==h&&(h=i),null==i&&(i=h),d.attribute("width",!0).value=c.opts.scaleWidth,d.attribute("height",!0).value=c.opts.scaleHeight,d.style("transform",!0,!0).value+=" scale("+1/h+","+1/i+")"}1!=c.opts.ignoreClear&&a.clearRect(0,0,f,g),d.render(a),e&&(e=!1,"function"==typeof c.opts.renderCallback&&c.opts.renderCallback(b))};f()},c.stop=function(){},c}window.slimCanvg=function(b,c,d){c=c.trim(),"string"==typeof b&&(b=document.getElementById(b)),null!=b.svg&&b.svg.stop();var e=a(d||{});(1!=b.childNodes.length||"OBJECT"!=b.childNodes[0].nodeName)&&(b.svg=e);var f=b.getContext("2d");"undefined"!=typeof c.documentElement?e.loadXmlDoc(f,c):"<"==c.substr(0,1)&&e.loadXml(f,c)};var b;"undefined"!=typeof Element.prototype.matches?b=function(a,b){return a.matches(b)}:"undefined"!=typeof Element.prototype.webkitMatchesSelector?b=function(a,b){return a.webkitMatchesSelector(b)}:"undefined"!=typeof Element.prototype.mozMatchesSelector?b=function(a,b){return a.mozMatchesSelector(b)}:"undefined"!=typeof Element.prototype.msMatchesSelector?b=function(a,b){return a.msMatchesSelector(b)}:"undefined"!=typeof Element.prototype.oMatchesSelector&&(b=function(a,b){return a.oMatchesSelector(b)})}(),define("slim-canvg",function(a){return function(){var b;return b||a.slimCanvg}}(this)),define("models/presentation/helpers/collisionUtils",["require","helpers/utils"],function(a){"use strict";var b=(a("helpers/utils"),0),c=1,d=2,e=3,f={collisionAabb:function(a,f){return a[b]<f[b]+f[d]&&a[b]+a[d]>f[b]&&a[c]<f[c]+f[e]&&a[e]+a[c]>f[c]},applyTweenTransform:function(a,b){var c=a.el._gsTransform;c&&(b.RawXPos=c.x,b.RawYPos=c.y,b.Rotation=c.rotation,b.ScaleX=c.scaleX,b.ScaleY=c.scaleY)},getBoundingBox:function(a,f){var g,h,i,j,k,l,m,n,o,p=a.collision.transform,q=a.currView,r=[],s=[],t=4;if(p.RawXPos=q.state.RawXPos,p.RawYPos=q.state.RawYPos,p.Rotation=q.state.Rotation,p.ScaleX=q.state.ScaleX/100,p.ScaleY=q.state.ScaleY/100,p.width=q.actualWidth,p.height=q.actualHeight,f)for(o in f)f.hasOwnProperty(o)&&(p[o]=f[o]);if(this.applyTweenTransform(q,p),q.props.parent){for(s=[],n=q;n;)n.props.isInnard||s.push(n),n=n.props.parent;s.reverse(),m=a.collision.transMatrix.reset(),s.forEach(function(a){var b=a.props.model.collision,c=null!=b?b.transform:a.state;m.adjustByViewProps(c)}),a.collision.hasMatrix=!0,r[b]=m.transform(0,0),r[c]=m.transform(p.width,0),r[d]=m.transform(p.width,p.height),r[e]=m.transform(0,p.height)}else(p.Rotation%360!==0||1!==p.ScaleX||1!==p.ScaleY)&&(m=a.collision.transMatrix.reset(),m.adjustByViewProps(p),a.collision.hasMatrix=!0,r[b]=m.transform(0,0),r[c]=m.transform(p.width,0),r[d]=m.transform(p.width,p.height),r[e]=m.transform(0,p.height));if(0===r.length)return a.collision.hasMatrix=!1,a.collision.tx=p.RawXPos,a.collision.ty=p.RawYPos,[p.RawXPos,p.RawYPos,q.actualWidth,q.actualHeight];for(g=h=r[0].x,i=j=r[0].y,o=t;o--;)k=r[o].x,l=r[o].y,h>k&&(h=k),j>l&&(j=l),k>g&&(g=k),l>i&&(i=l);return[h,j,g-h,i-j]}};return f}),define("views/helpers/collisionHelper",["require","lodash","views/helpers/dom","helpers/utils","helpers/resolver","slim-canvg","polyfills/detection","models/presentation/helpers/collisionUtils","helpers/windowManager","helpers/pubSub","helpers/TransMatrix"],function(a){"use strict";var b,c,d,e=a("lodash"),f=a("views/helpers/dom"),g=a("helpers/utils"),h=a("helpers/resolver"),i=a("slim-canvg"),j=a("polyfills/detection"),k=a("models/presentation/helpers/collisionUtils"),l=a("helpers/windowManager"),m=a("helpers/pubSub"),n=a("helpers/TransMatrix"),o="svgHit",p="rectHit",q="groupHit",r="start",s="end",t=30,u="data:image/svg+xml;base64, ",v=4,w=3,x=128,y=10,z=2*y,A={},B=[],C=!1,D=0,E={},F=function(){d=document.querySelector("#collision-library"),d&&(b=d.querySelector("canvas"),c=b.getContext("2d"),c.imageSmoothingEnabled=!1,b.width=720,b.height=540,d.appendChild(b),C=!0)},G=function(a,b){var c=b||"#ffff00";return a.replace(/<image(.*?)image>/,"").replace(/fill="(.*?)"/g,'fill="'+c+'"').replace(/stroke="(.*?)"/g,'stroke="'+c+'"').replace(/data-reactid="(.*?)"/g,"").replace(/stroke-opacity="(.*?)"/g,'stroke-opacity="1"').replace(/fill-opacity="(.*?)"/g,'fill-opacity="1"')},H=function(a){return a=a.replace(/\&nbsp\;/g," "),u+window.btoa(window.unescape(encodeURIComponent(a)))},I={initialize:function(){m.on("app:complete",function(){F()}),m.on("slide:hasMounted",function(){var a=l.getCurrentWindowSlide();b.width=a.get("width"),b.height=a.get("height")})},initSlideObject:function(a){this.addCollisionProp(a),a.isVectorShape()?(a.collision.img={},a.collision.canvas={},a.collision.ctx={},a.collision.hitType=o):a.isGroupingSlideObject?a.collision.hitType=q:a.collision.hitType=p},addCollisionProp:function(a){a.collision||(a.collision={})},registerCollisions:function(a){var b,c,d=a.props.model;d.hasCollisionEvents===!1||d.cacheCollisionSetup||(b=this.getCollisionEvents(d),c=this.getStageCollisionEvents(d),b.length>0&&(this.addCollisionProp(d),d.hasCollisionEvents=!0,this.setupCollideables(d,b)),c.length>0&&(this.addCollisionProp(d),d.hasCollisionEvents=!0,this.setupStageCollisions(d)),null!=d.initForCollisions?d.initForCollisions(d):m.once("slide:hasMounted",function(){d.initForCollisions&&d.initForCollisions(d)}.bind(this)))},setCollisionStartEventVals:function(a,b){b.length>0?(a.hasCollisionEvents=!0,a.cacheCollisionSetup=!0):a.hasCollisionEvents=!1},getStageCollisionEvents:function(a){var b=e(a.events()).filter(function(a){return"ononscreen"===a.kind||"onoffscreen"===a.kind}).value();return this.setCollisionStartEventVals(a,b),b},getCollisionEvents:function(a){var b=e(a.events()).filter(function(a){return"oncollisionstart"===a.kind||"oncollisionend"===a.kind}).value();return this.setCollisionStartEventVals(a,b),b},initForCollisions:function(a,b){b&&(a.collisionParents||(a.collisionParents=[]),e.contains(a.collisionParents,b)||a.collisionParents.push(b)),a.initForCollisions=function(a){I.addCollisionProp(a),a.isCollideable||(a.isCollideable=!0,a.collision.transform={rotateXPos:a.prop("rotateXPos"),rotateYPos:a.prop("rotateYPos")},a.collision.transMatrix=new n,k.getBoundingBox(a),a.collision.fill="#ff0000",I.initSlideObject(a),I.calculateHitTest(a))}},setupCollideables:function(a,b){this.initForCollisions(a),a.collision.objects=e(b).chain().reduce(function(a,b,c){return a=a.concat(b.targets)},[]).unique().map(function(b){var c=h.resolvePath(b,a);return c.collisionPath=b,this.initForCollisions(c,a),c}.bind(this)).value()},setupStageCollisions:function(a){a.initForCollisions||this.initForCollisions(a),a.collision.checkStage=!0},executeCollisionEvent:function(a,b,c){a.executeFilteredPlayerEvent(function(a){return e.contains(a.targets,b)},c),a.collision.executionParent&&a.collision.executionParent.executeFilteredPlayerEvent(function(a){return e.contains(a.targets,b)},c)},hitTestStage:function(a,c){var d=c.props.model,e=[0,0,b.width,b.height],f=d.id+"_stage";E[f]===r&&(E[f]="collide"),k.collisionAabb(a,e)?"collide"!==E[f]&&(d.executePlayerEvent("ononscreen"),E[f]=r):"collide"===E[f]&&(d.executePlayerEvent("onoffscreen"),E[f]=s)},hitTestAtoB:function(a,b,c){var d,e,f,g,h,i,j=b.props.model,l=[],m=j.collision.objects;for(d=m.length,l=[],i=0;d>i;i++)f=m[i].currView,e=m[i],g=k.getBoundingBox(e,e.collision.transform),h=b.props.model.id+"_"+e.id,k.collisionAabb(a,g)?l.push(f):"collide"===E[h]&&(this.executeCollisionEvent(b.props.model,e.collisionPath,"oncollisionend"),E[h]=s);for(d=l.length,i=0;d>i;i++)f=l[i],e=f.props.model,this.pixelTest(b,f,a,{view:b,model:e})},hitTestBtoA:function(a,b,c){var d,e,f,g,h,i,j=[],l=b.props.model.collisionParents;for(d=l.length,i=0;d>i;i++)f=l[i].currView,e=l[i],g=k.getBoundingBox(e,e.collision.transform),h=f.props.model.id+"_"+b.props.model.id,k.collisionAabb(a,g)?j.push(f):"collide"===E[h]&&(this.executeCollisionEvent(f.props.model,b.props.model.collisionPath,"oncollisionend"),E[h]=s);for(d=j.length,i=0;d>i;i++)f=j[i],this.pixelTest(b,f,a,{view:f,model:b.props.model})},pixelTest:function(a,b,d,e){var f,g,h,i,j,k=!1,l=e.view.props.model.id+"_"+e.model.id;c.clearRect(d[0]-y,d[1]-y,d[2]+z,d[3]+z),c.globalAlpha=.5,c.save(),b.props.model.collision.hasMatrix?(h=b.props.model.collision.transMatrix,c.transform(h.a,h.c,h.b,h.d,h.tx,h.ty)):(i=b.props.model.collision.tx,j=b.props.model.collision.ty,c.translate(i,j)),c.drawImage(b.props.model.collision.currImg,0,0),c.restore(),c.save(),a.props.model.collision.hasMatrix?(h=a.props.model.collision.transMatrix,c.transform(h.a,h.c,h.b,h.d,h.tx,h.ty)):(i=a.props.model.collision.tx,j=a.props.model.collision.ty,c.translate(i,j)),c.drawImage(a.props.model.collision.currImg,0,0),c.restore(),f=c.getImageData(d[0],d[1],d[2],d[3]).data,E[l]===r&&(E[l]="collide"),g=f.length;for(var m=w;g>m;m+=v)if(f[m]>x){k=!0,"collide"!==E[l]&&(E[l]=r,this.executeCollisionEvent(e.view.props.model,e.model.collisionPath,"oncollisionstart"));break}k||"collide"!==E[l]||(this.executeCollisionEvent(e.view.props.model,e.model.collisionPath,"oncollisionend"),E[l]=s)},performCollisionDetect:function(a,b){var c,d=a.props.model;D++,D%2!==0&&(c=k.getBoundingBox(d,b),d.isGroupingSlideObject?d.objects().forEach(function(a){var b=k.getBoundingBox(a),c=a.currView;a.collision.executionParent=d,d.collision.objects&&(a.collision.objects=d.collision.objects,this.hitTestAtoB(b,c,a.collision.transform)),d.collisionParents&&(a.collision.collisionParents=d.collision.collisionParents,this.hitTestBtoA(b,c,a.collision.transform))}.bind(this)):(d.collision.objects&&this.hitTestAtoB(c,a,b),d.collisionParents&&this.hitTestBtoA(c,a,b)),d.collision.checkStage&&this.hitTestStage(c,a))},calculateHitTest:function(a){var b;a.collision.hitType===o?this.fromSvg(a.currView):a.collision.hitType===q?(b=a.objects(),b.forEach(function(b){a.hasCollisionEvents||(I.initSlideObject(b),I.calculateHitTest(b)),I.initForCollisions(b)})):this.fromRect(a.currView)},containsPoint:function(a,b,c){var d=a.props.model,e=!1;return d.isGroupingSlideObject?(d.objects().forEach(function(a){I.viewContainsPoint(a.currView,b,c)&&(e=!0)}),e):this.viewContainsPoint(a,b,c)},viewContainsPoint:function(a,b,c){var d,e=a.props.model.collision,f=e.currCanvas,g=e.currCtx,h=e.currImg;g.globalCompositeOperation="source-over",g.clearRect(0,0,f.width,f.height),g.fillStyle="#000000",g.fillRect(0,0,f.width,f.height),g.drawImage(h,0,0),g.globalCompositeOperation="lighter",g.fillStyle="rgba(0,0,255,1)",g.fillRect(b,c,10,10);try{d=g.getImageData(b,c,1,1).data,d=d[0]}catch(i){d=0,console.warn("security error")}return 0!==d},fromRect:function(a){a.isRectangular=!0},fromSvg:function(a){var b,c,d,f=a.props.model,g=f.commandsetId(),h=f.collision;h.img[g]||(h.img[g]=new window.Image),b=h.img[g],h.canvas[g]||(h.canvas[g]=document.createElement("canvas")),c=h.canvas[g],h.ctx[g]||(h.ctx[g]=c.getContext("2d")),d=h.ctx[g],e.extend(h,{currImg:b,currCanvas:c,currCtx:d}),this.drawSvgStringToImage(a,g,h)},cleanHitCache:function(){var a=B[0];B.length>t&&(A[a].img.parentNode||(B.shift(),delete A[a]))},drawSvgStringToImage:function(a,b,c){var f,g,h=c.currImg,k=c.currCanvas,l=c.currCtx,m=a.props.model;this.cleanHitCache(),A[b]?(c.imgLoaded=!0,e.extend(c,{currImg:A[b].img,currCanvas:A[b].canvas,currCtx:A[b].ctx}),d.appendChild(c.currImg),d.appendChild(c.currCanvas)):(f=a.find("svg"),g=f.parentNode.innerHTML,k.width=f.getAttribute("width"),k.height=f.getAttribute("height"),d||(d=document.querySelector("#collision-library")),d.appendChild(h),d.appendChild(k),j.isIE()?(h=c.currImg=c.img[b]=document.createElement("canvas"),i(h,g,{col:m.collision.fill}),c.imgLoaded=!0):(h.src=H(G(g,m.collision.fill)),h.addEventListener("load",function(){c.imgLoaded=!0}.bind(this))),A[b]={canvas:k,img:h,ctx:l},B.push(b))},slideObjectMouseLoc:function(a){var b,c,d,e,h,i=a.props.parent,j=a.state,k=j.Rotation%360,l={x:0,y:0},m=document.querySelector(".slide"),n=m.getBoundingClientRect(),o=f.mouseX-n.left,p=f.mouseY-n.top;if(i){for(b=[],c=a;c;)c.props.isInnard||b.push(c),c=c.props.parent;b.reverse(),d=a.transMatrix.reset(),b.forEach(function(a){var b=a.state;d.translate(b.RawXPos,b.RawYPos).rotate(b.Rotation,b.rotateXPos,b.rotateYPos)}),e=d.transform(0,0),h=-d.decompose().rotation,l=g.rotatePoint(o-e.x,p-e.y,0,0,h)}else l.x=o-j.RawXPos,l.y=p-j.RawYPos,k&&(l=g.rotatePoint(l.x,l.y,j.rotateXPos,j.rotateYPos,-j.Rotation));return l.x=Math.floor(l.x),l.y=Math.floor(l.y),l},destroy:function(a){var b=a.props.model,c=b.collision.currImg,d=b.collision.currCanvas;c&&d&&(c.parentNode&&c.parentNode.removeChild(c),d.parentNode&&d.parentNode.removeChild(d))}};return I.initialize(),I}),define("views/helpers/dragAndDropHelper",["require","lodash","helpers/utils","helpers/svg/svgUtils","views/events/touchHelper","views/helpers/collisionHelper","helpers/windowManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("helpers/svg/svgUtils"),e=a("views/events/touchHelper"),f=a("views/helpers/collisionHelper"),g=a("helpers/windowManager"),h="drag",i="drop",j=["dragstart","drag","dragend","dropenter","dropdrag","dropleave","drop"],k=b.reduce(j,function(a,c){return a["on"+c]=b.noop,a},{}),l=[],m=function(a,b){return a.left<b.right&&a.right>b.left&&a.top<b.bottom&&a.bottom>b.top},n=function(a,b){if(!m(a,b))return 0;var c=Math.max(a.top,b.top),d=Math.min(a.bottom,b.bottom),e=Math.max(a.left,b.left),f=Math.min(a.right,b.right),g=f-e,h=d-c;return g*h},o=function(a,c,d,e){if(!e)return b.noop;var f=a.getBoundingClientRect(),g=e.getBoundingClientRect(),h=g.left-f.left+c,i=g.top-f.top+d,j=h+g.width-f.width,k=i+g.height-f.height;return function(){this.x=Math.min(Math.max(this.x,h),j),this.y=Math.min(Math.max(this.y,i),k)}},p=function(a,c){var d,e=a.el.getBoundingClientRect();return b.reduce(c,function(a,b){var c=n(e,b.getBounds());return c>a?(d=b,c):a},0),d},q=function(a,c,d){this.view=a,this.el=d||a.el,this.params=b.defaults(c,k),this.currSlide=g.getCurrentWindowSlide(),b.bindAll(this),this.enable()};b.extend(q.prototype,{hasMoved:!1,x:0,y:0,contain:b.noop,unbindTouch:b.noop,disable:function(){this.el.removeEventListener("mousedown",this.onGrabMouse),this.unbindTouch()},enable:function(){this.el.addEventListener("mousedown",this.onGrabMouse),this.bindTouch()},bindTouch:function(){this.unbindTouch(),this.unbindTouch=b.flow(e.on(this.el,"touchstart",this.onGrabTouch),e.on(this.el,"touchmove",this.onMoveTouch),e.on(this.el,"touchend",this.onReleaseTouch))},grab:function(a,b){var c=this.getPosition(),d=this.currSlide.calculateTotalScale();this.params.getPosition&&(c=this.params.getPosition(),c.dontScale||(c.x*=d,c.y*=d)),this.offsetX=c.x-a*d,this.offsetY=c.y-b*d,this.contain=o(this.el,c.x,c.y,this.params.containment),this.hasMoved=!1},move:function(a,b){var e=this.dropTarget,g=this.currSlide.calculateTotalScale();this.x=a*g+this.offsetX,this.y=b*g+this.offsetY,this.contain(),this.el.style[this.view.cssTransform]=[d.transformTranslate(c.pxify(this.x),c.pxify(this.y)),d.transformRotate(this.view.state.Rotation+"deg"),d.transformScale(this.view.state.ScaleX/100,this.view.state.ScaleY/100)].join(" "),this.dropTarget=this.getDropTarget(h),this.view.props.model.isCollideable&&f.performCollisionDetect(this.view,{RawXPos:this.x,RawYPos:this.y}),this.hasMoved||(this.params.ondragstart(this,this.dropTarget),this.hasMoved=!0),this.params.ondrag(this,this.dropTarget),!e||this.dropTarget&&e===this.dropTarget||this.params.ondropleave(this,e),this.dropTarget&&(e!==this.dropTarget&&this.params.ondropenter(this,this.dropTarget),this.params.ondropdrag(this,this.dropTarget))},release:function(){this.hasMoved&&(this.params.setPosition&&this.params.setPosition(this.x,this.y),this.dropTarget=this.getDropTarget(i),this.dropTarget&&this.params.ondrop(this,this.dropTarget),this.params.ondragend(this,this.dropTarget))},onGrabMouse:function(a){this.isMousedDown||(this.isMousedDown=!0,this.grab(a.clientX,a.clientY),document.body.addEventListener("mousemove",this.onMoveMouse),document.body.addEventListener("mouseup",this.onReleaseMouse),a.preventDefault())},onGrabTouch:function(a){var b=a.changedTouches[0];this.touchId=b.identifier,this.grab(b.clientX,b.clientY),a.preventDefault()},onMoveMouse:function(a){this.move(a.clientX,a.clientY),a.preventDefault()},onMoveTouch:function(a){var b=a.changedTouches[0];this.touchId===b.identifier&&(this.move(b.clientX,b.clientY),a.preventDefault())},onReleaseMouse:function(a){this.isMousedDown=!1,this.release(),document.body.removeEventListener("mousemove",this.onMoveMouse),document.body.removeEventListener("mouseup",this.onReleaseMouse)},onReleaseTouch:function(a){this.release()},getDropTarget:function(a){return this.params.getDropTarget?this.params.getDropTarget(this,l,a):p(this,l,a)},getPosition:function(){return{x:this.x,y:this.y}}});var r=function(a,b){this.el=a,this.params=b,l.push(this)};return b.extend(r.prototype,{getBounds:function(){return this.el.getBoundingClientRect()},unregister:function(){b.remove(l,this)}}),{DraggableHelper:q,DroppableHelper:r,util:{areOverlapping:m,unionArea:n,getDropTargetByOverlap:p,getRegisteredDroppables:function(){return l}}}}),define("views/presentation/decorators/Droppable",["require","lodash","views/helpers/dragAndDropHelper"],function(a){"use strict";var b=a("lodash"),c=a("views/helpers/dragAndDropHelper"),d=c.DroppableHelper,e={},f=[{x:-1,y:-1},{x:1,y:-1},{x:-1,y:1},{x:1,y:1}],g=function(a){a.setToInitPosition().unParent()},h=function(a){this.view=a,this.model=this.view.props.model};h.registerInitRelationship=function(a){var b=a.getFromView(""),c=a.getFromView(""),d=e[b]||[];e[b]=d,d[c]=a},h.clearInitRegistry=function(){e={}},b.extend(h.prototype,{componentDidMount:function(){this.dragdropData=this.model.dragdrop(),this.bindDrop()},componentWillUnmount:function(){this.droppableHelper.unregister()},getFromView:function(a,b){return b=b||this,b.view.getPlayerProp(a)},setOnView:function(a,b,c){c=c||this,c.view.setPlayerProp(a,b)},isMultiDrop:function(){return this.dragdropData.multidrop},resetQuadrants:function(){this.quadrants=f.slice()},setDropArrays:function(){var a=e[this.model.id]=e[this.model.id]||[];return this.dropChildren=a,this.resetQuadrants(),this},setPositioningFns:function(){var a=this.dragdropData.droptype,c=i[a];b.extend(this,c)},isDroppable:function(){return this.dragdropData.dropenabled},isHoverable:function(){return this.dragdropData.dragoverenabled},bindDrop:function(){return this.dragdropData&&(this.isDroppable()||this.isHoverable())&&(this.droppableHelper=new d(this.view.el,{data:this}),this.setDropArrays(),this.setPositioningFns()),this},onDragOver:function(a){this.canDropHere(a)&&this.addChild(a,!0)},onDropped:function(a){this.canDropHere(a)&&this.addChild(a)},onDragEnter:function(){this.updatePositionSnapshot()},updatePositionSnapshot:function(){this.positionSnapshot=b.map(this.getDropChildren(),function(a){return a.getBounds()})},addChild:function(a,b){var c,d;this.isMultiDrop()||b||(this.getDropChildren().forEach(g.bind(this)),this.getDropChildren().length=0),c=this.getPlacementIndex(a),d=b?this.getDropChildren().slice():this.getDropChildren(),d.splice(c,0,a),this.reflow(d,c,b),b||this.resetChildrenDepths()},canDropHere:function(a){var c=b.partial(b.contains,this.dragdropData.dragdropids);return a.dragdropData.dragdropids.some(c)},removeDropChild:function(a){return b.remove(this.getDropChildren(),a),this.reflow(),this.resetChildrenDepths(),this},getDropChildren:function(){return this.dropChildren},getDropQuadrant:function(){var a=b.random(this.quadrants.length-1),c=this.quadrants.splice(a,1)[0];return this.quadrants.length||this.resetQuadrants(),c},getRandomStackPosition:function(a){var c=this.getDropQuadrant();return{x:this.getFromView("RawXPos")+this.dragdropData.snapx+b.random(this.dragdropData.dropoffsetx)*c.x-a.dragdropData.snapx,y:this.getFromView("RawYPos")+this.dragdropData.snapy+b.random(this.dragdropData.dropoffsety)*c.y-a.dragdropData.snapy}},resetChildrenDepths:function(){var a=this.getFromView("depth");this.getDropChildren().forEach(function(b,c){b.setIndex(c),b.setDepth(a+c+1)})}});var i={stackoffset:{getPlacementIndex:function(a){var b=this.getFromView("RawXPos")+this.dragdropData.snapx,c=this.getFromView("RawYPos")+this.dragdropData.snapy,d=a.getBounds(!0),e=Math.floor((d.left-b)/this.dragdropData.dropoffsetx)+1,f=Math.floor((d.top-c)/this.dragdropData.dropoffsety)+1,g=Math.min(e,f,this.positionSnapshot.length);return Math.max(0,g)},reflow:function(a,b,c){var d=this.getFromView("RawXPos")+this.dragdropData.snapx,e=this.getFromView("RawYPos")+this.dragdropData.snapy;(a||this.getDropChildren()).forEach(function(a,f){f>0&&(d+=this.dragdropData.dropoffsetx,e+=this.dragdropData.dropoffsety),c&&f===b||a.setPosition(d,e)}.bind(this))}},tile:{getPlacementIndex:function(a){for(var b=-1,c=a.getBounds(!0),d={x:Math.max(this.getFromView("RawXPos"),c.left+c.width/2),y:Math.max(this.getFromView("RawYPos"),c.top+c.height/2)};++b<this.positionSnapshot.length&&!(d.x<this.positionSnapshot[b].right&&d.y<this.positionSnapshot[b].bottom||d.y<this.positionSnapshot[b].top););return b},reflow:function(a,b,c){var d=this.getFromView("RawXPos"),e=this.getFromView("RawYPos"),f=d+this.dragdropData.snapx,g=e+this.dragdropData.snapy,h=f,i=g,j=f+this.getFromView("width")-this.dragdropData.dropoffsetx;(a||this.getDropChildren()).forEach(function(a,e,k){var l=this.getFromView("width",a),m=this.getFromView("height",a);e>0&&(f=h+this.dragdropData.dropoffsetx),h=f+l,h>j&&(f=d+this.dragdropData.snapx,h=f+l,g=i+this.dragdropData.dropoffsety),c&&e===b||a.setPosition(f,g),i=Math.max(i,g+m)}.bind(this))}},stackrandom:{getPlacementIndex:function(){return this.positionSnapshot.length},reflow:function(a,c,d){var e,f;a=a||this.getDropChildren(),!d&&isFinite(c)&&(e=b.last(a),f=this.getRandomStackPosition(e),e.setPosition(f.x,f.y))}},snap:{getPlacementIndex:function(){return this.positionSnapshot.length},reflow:function(a,c,d){var e,f,g,h=this.getFromView("RawXPos"),i=this.getFromView("RawYPos"),j=h+this.getFromView("width")/2,k=i+this.getFromView("height")/2;!d&&isFinite(c)&&(g=b.last(a),e=g.getFromView("width")/2,f=g.getFromView("height")/2,g.setPosition(j-e,k-f))}},free:{getPlacementIndex:function(){return this.positionSnapshot.length},reflow:b.noop}};return h}),define("views/presentation/decorators/Draggable",["require","lodash","backbone","views/presentation/decorators/Droppable","views/helpers/dragAndDropHelper","helpers/utils","views/helpers/dom"],function(a){"use strict";var b=a("lodash"),c=a("backbone"),d=a("views/presentation/decorators/Droppable"),e=a("views/helpers/dragAndDropHelper"),f=e.DraggableHelper,g=(a("helpers/utils"),a("views/helpers/dom")),h="ondragstart",i="ondragend",j="ondragover",k="ondragout",l="ondragdisconnect",m="ondragconnect",n=1500,o=function(a,c,d){return e.util.getRegisteredDroppables().filter(function(e){var f=e.params.data,g=f.dragdropData&&f.dragdropData[d];return b.result(f,a)&&b.intersection(g,c).length})},p=b.partial(o,"isDroppable"),q=b.partial(o,"isHoverable"),r=function(a){this.view=a,this.model=this.view.props.model};return b.extend(r.prototype,c.Events,{componentWillMount:function(){this.listenTo(this.model,"addanimationdata",this.addAnimationData)},componentDidMount:function(){this.dragdropData=this.model.dragdrop(),this.bindDrag(),this.registerRelationship(),this.parentShuffleGroup=g.closest(this.view.el,function(a){return a.classList.contains("slide-object-shufflegroup")})},getFromView:function(a,b){return b=b||this,b.view.getPlayerProp(a)},setOnView:function(a,b,c){c=c||this,c.view.setPlayerProp(a,b)},componentWillUnmount:function(){},bindDrag:function(){return this.dragdropData&&this.dragdropData.dragenabled&&(this.draggableHelper=new f(this.view,this.getDraggableConfig())),this},getDraggableConfig:function(){var a;return b.bindAll(this,"onDragStart","onDraggingOver","onDragStop","onDropEnter","onDragOut","onDropped","getPosition","setPosition","getDropTarget"),a={containment:g.closest(this.view.el,function(a){return a.classList.contains("slide")}),ondragstart:this.onDragStart,ondragend:this.onDragStop,ondropenter:this.onDropEnter,ondropdrag:this.onDraggingOver,ondropleave:this.onDragOut,ondrop:this.onDropped,getPosition:this.getPosition,setPosition:this.setPosition,getDropTarget:this.getDropTarget}},registerRelationship:function(){d.registerInitRelationship(this)},getDraggingPosition:function(){return{x:this.draggableHelper.x,y:this.draggableHelper.y}},getPosition:function(){return{x:this.view.getPlayerProp("RawXPos"),y:this.view.getPlayerProp("RawYPos"),dontScale:!0}},setPosition:function(a,b){this.setOnView({RawXPos:a,RawYPos:b})},setToInitPosition:function(){return this.setPosition(this.view.getPlayerProp("InitXPos"),this.view.getPlayerProp("InitYPos")),this},onDragStart:function(a,b){var c=this.dragdropData.dragdropids,d=this.dragdropData.dragoverids;this.enabledDropTargets=p(c,"dragdropids"),this.enabledDragTargets=q(d,"dragoverids"),this.unParent(),this.setDepth(++n),this.model.executePlayerEvent(h)},onDragStop:function(a,b){this.model.executePlayerEvent(i),this.dragdropData.dragreturn&&!this.dropParent?this.setToInitPosition():this.dropParent||this.setPosition(a.x,a.y)},onDraggingOver:function(a,b){var c=b.params.data;c.onDragOver(this,a.x,a.y,!0)},onDropEnter:function(a,b){var c=b.params.data;this.setOnView("DragOverId",c.model.id),c.onDragEnter(),this.model.executePlayerEvent(j)},onDragOut:function(a,b){var c=b.params.data;this.setOnView("DragOverId",null),c.reflow(),this.model.executePlayerEvent(k)},onDropped:function(a,b){var c=b.params.data;c.onDropped(this,a.x,a.y),this.dropParent=c,this.setOnView("DropTargetId",c.model.id),this.setOnView("DragConnected",c.model),this.model.executePlayerEvent(m)},getDropTarget:function(a,b,c){return"drag"===c?e.util.getDropTargetByOverlap(a,this.enabledDragTargets):e.util.getDropTargetByOverlap(a,this.enabledDropTargets)},unParent:function(){var a=this.dropParent;return a&&(a.removeDropChild(this),this.dropParent=null,this.setOnView("DropTargetId",null),this.setOnView("DragConnected",null),this.setOnView("DropIndex",null),this.model.executePlayerEvent(l)),this},updateParentDepth:function(a){this.parentShuffleGroup.style.zIndex=a},setDepth:function(a){this.parentShuffleGroup&&this.updateParentDepth(a),this.setOnView("depth",a)},setIndex:function(a){this.setOnView("DropIndex",a)},getBounds:function(a){var b=a?this.getDraggingPosition():this.getPosition(),c=this.getFromView("width"),d=this.getFromView("height");return{left:b.x,top:b.y,right:b.x+c,bottom:b.y+d,width:c,height:d}},addAnimationData:function(a){a({x:this.getFromView("RawXPos"),y:this.getFromView("RawYPos")})}}),r}),define("mixins/actionable",["require","lodash","helpers/errorManager"],function(a){"use strict";var b=(a("lodash"),a("helpers/errorManager")),c=b.throwError("actionable"),d=(b.warn("actionable"),"Cannot execute action without `kind`"),e={triggerAction:function(a,b){var e=a&&a.kind;return e||c("triggerAction",d),this.trigger("action:"+e,a,b),this}};return e}),define("helpers/actionator",["require","lodash","backbone","helpers/constants","helpers/pubSub","helpers/mixer","helpers/utils","helpers/errorManager","mixins/actionable","mixins/shortEventable","helpers/resolver","helpers/resume/resumer"],function(a){"use strict";var b,c=(a("lodash"),a("backbone")),d=a("helpers/constants"),e=a("helpers/pubSub"),f=a("helpers/mixer"),g=a("helpers/utils"),h=a("helpers/errorManager"),i=a("mixins/actionable"),j=a("mixins/shortEventable"),k=a("helpers/resolver"),l=a("helpers/resume/resumer"),m=(h.throwError("actionator"),{mixins:[i,j,c.Events],shortEvents:{self:{"action:set_frame_layout_type":"setFrameLayout","action:set_window_control_layout":"setFrameLayout","action:set_frame_layout":"setFrameLayoutFromLayout","action:gotoplay":"changeSlide","action:trigger_next_slide":"advanceSlide","action:history_prev":"goBack","action:close_window":"closeWindow","action:close_player":"closePlayer","action:open_video":"openVideo","action:open_url":"openUrl","action:resume_player":"applyPlayerResumeData","action:playnextdrawslide":"advanceSlideDrawSlide","action:get_mouse_position":"getMousePosition","action:zoompan":"zoomPan","action:closewndgotoslide":"closeWndGotoSlide","action:nextviewedslide":"nextViewedSlide","action:exe_javascript":"exeJavaScript","action:emailto":"mailTo"}},mailTo:function(a){window.location.assign("mailto:"+a.address)},execUserJs:window.ExecuteScript,exeJavaScript:function(a){this.execUserJs(a.id)},openVideo:function(a,b){a.url=d.STORY_CONTENT_URL+a.url,a.windowsize="custom",e.trigger("externalWindow:open",a)},getMousePosition:function(a,b){g.applyMethod("triggerAction",b.context,a,b)},zoomPan:function(a,b){g.applyMethod("triggerAction",b.context,a,b)},closeWndGotoSlide:function(a,b){var c=a.objRef.value;e.trigger("window:closing",a.closewindowid),e.trigger("nextSlide:requesting",c)},nextViewedSlide:function(a,b){var c=k.resolvePath(k.getRef(a.quizRef),b.context);g.applyMethod("triggerAction",c,a,b)},openUrl:function(a){e.trigger("externalWindow:open",a)},initialize:function(a){b=a},getControlLayout:function(a){return b.controlLayouts().get(a)},setFrameLayout:function(a){var b=this.getControlLayout(a.name);e.trigger("controllayout:changed",b)},setFrameLayoutFromLayout:function(a){var c=b.getLayout(a.name).controllayout;e.trigger("controllayout:changed",this.getControlLayout(c))},changeSlide:function(a,b){var c=b.actionTarget.absoluteId;e.trigger("nextSlide:requesting",c,a.window)},goBack:function(a){e.trigger("prevSlide:requesting")},advanceSlide:function(a){e.trigger("nextSlide:requesting")},advanceSlideDrawSlide:function(a){e.trigger("nextDrawSlide:requesting")},closeWindow:function(a){e.trigger("window:closing",a.id)},closePlayer:function(){e.trigger("player:closing")},applyPlayerResumeData:function(a){
l.applyResumeData(a.resume)}});return f.mix(m),f.initMixinsOf(m),m}),define("helpers/hotSpotEvaluationHelper",["require","lodash","helpers/windowManager","views/helpers/dom"],function(a){"use strict";var b=(a("lodash"),a("helpers/windowManager")),c=a("views/helpers/dom"),d={hitTest:function(a,d,e){var f=b.getCurrentWindow().getCurSlide().el.getBoundingClientRect(),g=document.elementFromPoint(f.left+d,f.top+e),h=c.closest(g,c.isSlideObject);return h&&h.getAttribute("data-model-id")===a}};return d}),define("helpers/conditioner",["require","lodash","helpers/errorManager","helpers/hotSpotEvaluationHelper","helpers/resolver"],function(a){"use strict";var b=a("lodash"),c=a("helpers/errorManager"),d=a("helpers/hotSpotEvaluationHelper"),e=a("helpers/resolver"),f=c.throwError("conditioner"),g=c.backtick,h="Cannot evaluate unsupported operator",i="Correct Response",j={and:" and ",or:" or ",lt:" is less than ",gt:" is greater than ",lte:" is less than or equal to ",gte:" is greater than or equal to ",eq:" is equal to ",iceq:" is equal to ",noteq:" is not equal to ",icneq:" is not equal to "},k={andOr:function(a,b,c){return b.statements.map(function(a){return u.statementToString(a,c)}).join(a)},compare:function(a,b){return[l(a.valuea,a.typea,b),l(a.valueb,a.typeb,b)].join(j[a.operator])}};k.and=b.partial(k.andOr,j.and),k.or=b.partial(k.andOr,j.or);var l=function(a,b,c){return"property"===b?i:n({type:b,value:a},{context:c})},m=function(a,c){var d=b.isArray(a)?a:c,e=d===a?c:a;return{arr:d,item:e}},n=function(a,b){return e.getRef(a,b.context||b,b.context&&b)},o=function(a){return String(a).toLowerCase()},p=function(a,b){var c=a+"Response",d=a+"id";return b[c]===b[d]},q=b.partial(p,"statement"),r=b.partial(p,"choice"),s={eq:function(a,b){return a===b},noteq:function(a,b){return a!==b},iceq:function(a,b){return o(a)===o(b)},icneq:function(a,b){return o(a)!==o(b)},gt:function(a,b){return a>b},lt:function(a,b){return b>a},gte:function(a,b){return a>=b},lte:function(a,b){return b>=a}};s.has=function(a,c){var d=m(a,c);return b.contains(d.arr,d.item)},s.ichas=function(a,b){var c=m(a,b);return s.has(c.arr.map(o),o(c.item))};var t={compare:"evaluateComparison",varexists:"checkExistence",actiongroupexists:"checkExistence",hittestpoint:"evaluateHitTest",pair:"evaluatePair"},u={evaluateAction:function(a,b){return this.evaluateStatement(a.condition.statement,b)},evaluateStatements:function(a,b,c){return b[a](function(a){return this.evaluateStatement(a,c)}.bind(this))},evaluateStatement:function(a,b){if(!a)return!1;var c=t[a.kind]||"evaluateGroup";return this[c](a,b)},evaluateHitTest:function(a,b){var c=a.objRef.value,f=e.resolvePath(a.xPos.value,b.context),g=e.resolvePath(a.yPos.value,b.context);return d.hitTest(c,f.value(),g.value())},evaluatePair:function(a,b){return q(a)&&r(a)},evaluateComparison:function(a,b){var c,d,e=(b.context,a.operator);return e in s||f("evaluate",h,g(e)),c=n({type:a.typea,value:a.valuea},b),d=n({type:a.typeb,value:a.valueb},b),s[e](c,d)},evaluateGroup:function(a,b){var c="and"===a.kind?"every":"some",d=a.statements;return this.evaluateStatements(c,d,b)},checkExistence:function(a,b){var c=e.getRef(a,b.context,b);return!!e.resolvePath(c,b.context,{optional:!0})},statementToString:function(a,b){return k[a.kind](a,b)}};return u}),define("helpers/automation",["require","lodash","timeline-lite","helpers/pubSub","helpers/utils","helpers/actionator","polyfills/vendorOverrides"],function(a){"use strict";var b,c,d,e=a("lodash"),f=a("timeline-lite"),g=a("helpers/pubSub"),h=a("helpers/utils"),i=(a("helpers/actionator"),a("polyfills/vendorOverrides")),j=i.forceRepaint||e.noop,k=0,l={},m={},n="started",o="playing",p=window.vInterfaceObject||window,q={mainWindow:null,updateTime:function(a){var d,e,f=this.mainWindow.state.currentSlide,g=this.mainWindow.getCurSlide(),h=g.transition,i=0;b!==f&&(b=f,c=k),e=b.fullId(),h&&!m[e]?(d=(a-c)/1e3,i=h.get("duration"),g.transitionTimeline.seek(d,!1),j(g.el,0),g.transitionPrevTimeline.seek(d,!1)):(m[e]===n&&(c=k,m[e]=o),b.getBaseLayer().timeline().seek(a-c).trigger("playing",{override:!0})),k=a},nextSlide:function(){var a=d.shift();a&&g.trigger("nextSlide:requesting",h.prefixWithPlayer(a))}},r={silenceActions:{trigger_next_slide:!1},initialize:function(a,b){var c=h.parseParams();if("1"===c.automation&&(window.autoSpider=!0),window.autoSpider){window.g_nWidth=b.display().width(),window.g_nHeight=b.display().height(),"1"===c.overrideclock&&(f.prototype.play=e.noop),this.silenceActions.trigger_next_slide=!0;var i=function(a){return!/^MsgScene|^PromptScene/.test(a)};d=e(b.slideMap().slideRefs().where({type:"slide"})).pluck("id").filter(i).tap(function(b){b.forEach(function(b){var c=a.getSlide(h.prefixWithPlayer(b)),d=c.get("showAnimationId");null!=d&&(l[d]=b)})}).rest().value();var j={playerTime:0,type:"dark-spider",AutoUpdateTime:function(){this.UpdateAutomationTime(this.playerTime),this.playerTime+=500},UpdateAutomationTime:function(a){q.updateTime(a)},TriggerNextSlide:function(){q.nextSlide()},GetTargetDuration:function(b){var c=l[b];return c?a.getSlide(h.prefixWithPlayer(c)).getTransitionAnimation().duration():a.getSlide(h.prefixWithPlayer(b)).getBaseLayer().timeline().duration()}};window.GetPlayer=function(){return j},e.bindAll(this,"onSlideStarted","onSlideTransition","onMainWindowCreated"),g.on({"slide:started":this.onSlideStarted,"slide:transitionStarted":this.onSlideTransition,"mainWindow:created":this.onMainWindowCreated})}},onMainWindowCreated:function(a){q.mainWindow=a,this.callIfExists("AutomationReady")},onSlideTransition:function(a,b){this.callIfExists("OnSlideTransition",a,b)},onSlideStarted:function(a){m[a]=n,this.callIfExists("OnSlideStarted",a)},callIfExists:function(a){var b=p[a];"function"==typeof b&&b.apply(p,e.rest(arguments))}};return r}),define("helpers/actionManager",["require","lodash","backbone","helpers/utils","helpers/external/ao","helpers/errorManager","helpers/pubSub","helpers/resolver","helpers/actionator","helpers/conditioner","helpers/mixer","mixins/shortEventable","mixins/actionable","helpers/automation","helpers/constants"],function(a){"use strict";var b=a("lodash"),c=a("backbone"),d=a("helpers/utils"),e=(a("helpers/external/ao"),a("helpers/errorManager")),f=(a("helpers/pubSub"),a("helpers/resolver")),g=a("helpers/actionator"),h=a("helpers/conditioner"),i=a("helpers/mixer"),j=a("mixins/shortEventable"),k=a("mixins/actionable"),l=a("helpers/automation"),m=a("helpers/constants"),n=e.throwError("actionManager"),o=e.backtick,p="Cannot execute action without a target:",q="Cannot execute action without a context:",r=function(a){var c="action:",d=a.shortEvents,e=d&&d.self;return b.keys(e).filter(function(a){return 0===a.indexOf(c)}).map(function(a){return a.replace(c,"")})},s={global:null,meta:null},t=function(a,c){var d=s[a];return b.contains(d,c.kind)},u=b.partial(t,"global"),v=b.partial(t,"meta"),w=function(a,b){var c=b.context,d=z(a,b);return!!d&&f.resolvePath(d.replace(/^\./,""),c,{optional:!0})},x=function(a,c){return b.mapValues(a.params||{},function(a){return f.getRef(a,c.context,c)})},y=function(a,c,d){var e,g=a;return null!=c.scopeRef&&(b.isArray(a)?g=a.map(function(a){var b=f.getRef(c.scopeRef,a,d);return 0===c.id.indexOf(m.CHILDREN)&&b===m.CHILDREN?a:f.resolvePath(b,a)}):(e=f.getRef(c.scopeRef,d.context,d),g="_owner"===e?a:f.resolvePath(e,d.context))),g},z=function(){var a=["param","objRef","varRef","quizRef","variable","id","drawid","interactionId","value"],c=function(a,c,d){var e=a[c];return b.isPlainObject(e)?f.getRef(e,d.context,d):e};return function(d,e){var f;return b.find(a,function(a){return f=c(d,a,e)}),f}}(),A={mixins:[k,j,c.Events],shortEvents:{self:{"action:exe_actiongroup":"executeActionGroup","action:if_action":"evaluateConditional","action:foreach":"executeLoop","action:debug_trace":"logDebugMessage"}},executeActions:function(a,c){return a.forEach(function(a){this.executeAction(a,b.clone(c))}.bind(this)),this},executeAction:function(a,b){if(l.silenceActions[a.kind]!==!0){b&&b.context||n("executeAction",q,o(a.kind));var c,e;return c=w(a,b),e=u(a)?g:v(a)?A:c,e||n("executeAction",p,o(a.kind)),b.actionTarget=c,d.applyMethod("triggerAction",e,a,b),this}},executeActionGroup:function(a,c){var d=f.splitPath(a.id),e=b.last(d),g=f.joinPath(b.initial(d)),h=g?f.resolvePath(g,c.context):c.context,i=y(h,a,c),j=b.isArray(h)?h:[h],k=j.map(function(a){return f.resolvePath(e,a,{optional:"_children"===b.first(d)})}),l=b.isArray(i)?i:[i];return 1===k.length&&l.length>1&&l.forEach(function(a,b){j[b]=j[b]||j[0],k[b]=k[b]||k[0]}),k.forEach(function(d,e){if(null!=d){var f=b.defaults({context:l[e]},c),g=b.defaults({context:j[e]},c);f.params=x(a,g),this.executeActions(d.actions,f)}}.bind(this)),this},evaluateConditional:function(a,b){var c=h.evaluateAction(a,b),d=c?"thenActions":"elseActions",e=a[d];return e&&this.executeActions(e,b),this},executeLoop:function(a,c){a.iterables.forEach(function(d){var e=b.defaults({iterables:d.valueref},c);A.executeActions(a.actions,e)})},logDebugMessage:function(a,b){return console.log("debug:",a.message),this}};return i.mix(A),i.initMixinsOf(A),s.global=r(g),s.meta=r(A),A}),define("models/presentation/Timeline",["require","lodash","timeline-lite","helpers/utils","helpers/actionManager","models/BaseModel","helpers/resume/Chunk"],function(a){"use strict";var b=a("lodash"),c=a("timeline-lite"),d=a("helpers/utils"),e=a("helpers/actionManager"),f=a("models/BaseModel"),g=a("helpers/resume/Chunk"),h=f.extend({shorthand:["duration","events"],shortEvents:{self:{"change:duration":"onChangeDuration"}},initialize:function(){b.bindAll(this,"update","isPastEvent","isFutureEvent","isPresentEvent","triggerPlaybackStateChange","onComplete"),this.timeline=new c({paused:!0,onUpdate:this.update,onComplete:this.onComplete}),this.setUpTimelineDuration().setUpClamp().resetEvents()},setUpTimelineDuration:function(){return this.timeline.clear(),this.timeline.set({},{},d.toSeconds(this.duration())),this},setUpClamp:function(){return this.clampTime=b.partial(d.clamp,0,d.toSeconds(this.duration())||0),this},resetEvents:function(){return this.pendingEvent(b.first(this.events())),this},pendingEvent:function(a){return null!=a?(this._pendingEvent=a,this):this._pendingEvent},elapsedTime:function(){return d.toMilliseconds(this.timeline.time())},hasFinished:function(){return 1===this.timeline.totalProgress()},hasStarted:function(){return this.timeline.totalProgress()>0},update:function(a){return this.executePendingEvents(),this.trigger("tick",this.timeline.progress()),this},play:function(){return this.timeline.play(),this.triggerPlaybackStateChange(),this},pause:function(){return this.timeline.pause(),this.triggerPlaybackStateChange(),this},playFromResetPoint:function(){return this.play().reset(),this},pauseAtResetPoint:function(){return this.reset().pause(),this},progress:function(a){return a?(this.savePlaybackState(),void this.seek(Math.floor(a*this.duration()))):this.timeline.progress()},togglePlayback:function(){var a=this.isPlaying()?"pause":"play";return this[a](),this.trigger("toggled",a),this},savePlaybackState:function(){return this.startedSeeking||(this.seekPlaybackState=this.playbackState(),this.startedSeeking=!0),this},onSeekEnd:function(){this.trigger("seekEnd",this.seekPlaybackState),"playing"===this.seekPlaybackState&&this.play(),this.startedSeeking=!1},seek:function(a){return a=this.clampTime(d.toSeconds(a)),this.resetEvents(),this.isSeeking=!0,this.timeline.seek(a,!1),this.trigger("seek",a),this.update(),this.isSeeking=!1,this},reset:function(){var a=this.getResetValue();return this.seek(a),this.trigger("reset",a),this},silentReset:function(){return this.timeline.seek(0),this.timeline.pause(),this},isPlaying:function(){return this.timeline.isActive()},isPastEvent:function(a){return a&&a.time<this.elapsedTime()},isFutureEvent:function(a){return a&&a.time>this.elapsedTime()},isPresentEvent:function(a){return a&&a.time===this.elapsedTime()},executePendingEvents:function(){for(var a=d.orify(this.isPastEvent,this.isPresentEvent);a(this.pendingEvent());)this.executePendingEvent();return this},executePendingEvent:function(){if(this.hasPendingEvent()){var a=b.uniqueId("timeline-"),c=this.pendingEvent().time,f={context:this.getClosestThisRef(),timelineLabel:a,isBatchAction:this.isSeeking&&this.hasStarted(),time:c,currentTime:this.elapsedTime()};this.timeline.addLabel(a,d.toSeconds(c)),e.executeActions(this.pendingEvent().actions,f),this.updateNextPendingEvent()}return this},updateNextPendingEvent:function(){if(this.hasPendingEvent()){var a=this.pendingEvent(),b=this.events().indexOf(a)+1;this.pendingEvent(this.events()[b]||!1)}return this},computePendingEvent:function(){var a=d.orify(this.isFutureEvent,this.isPresentEvent);return this.pendingEvent(b.find(this.events(),a)||!1),this},hasPendingEvent:function(){return this.pendingEvent()!==!1},playbackState:function(){return this.isPlaying()?"playing":this.hasFinished()?"ended":"paused"},onComplete:function(){this.pause(),this.trigger("complete")},triggerPlaybackStateChange:function(){this.trigger(this.playbackState())},addChildTimeline:function(a,b){return this.timeline.add(a,b),this},removeChildTimeline:function(a,b){return this.timeline.remove(a),this.removeLabel(b),this},removeLabel:function(a){this.timeline.remove(a)},getResumeData:function(){return g.toSignedString64(this.elapsedTime())},resetResume:function(){this.resetValue=0},setResumeData:function(a){this.resetValue=g.fromSignedString64(a),this.pauseAtResetPoint()},getResetValue:function(){return this.resetValue||0},clearResetValue:function(){return this.resetValue=0,this},updateResetPoint:function(){this.resetValue=this.elapsedTime()},onChangeDuration:function(){this.setUpTimelineDuration().setUpClamp()}});return h}),define("views/presentation/decorators/Tweenable",["require","lodash","models/presentation/Timeline","helpers/GsapTweenLite","timeline-lite","helpers/svg/MaskHelper","backbone","helpers/svg/svgManager","polyfills/vendorOverrides","views/helpers/collisionHelper"],function(a){"use strict";var b=a("lodash"),c=a("models/presentation/Timeline"),d=a("helpers/GsapTweenLite"),e=a("timeline-lite"),f=a("helpers/svg/MaskHelper"),g=a("backbone"),h=(a("helpers/svg/svgManager"),a("polyfills/vendorOverrides")),i=a("views/helpers/collisionHelper"),j=h.forceRepaint||b.noop,k="to",l=function(a){this.view=a,this.model=this.view.props.model};return b.extend(l.prototype,g.Events,{componentWillMount:function(){this.model.animations().isEmpty()||(this.timelines={},this.animations={},this.maskHelpers=[],this.layerTimeline=this.model.getClosestAncestorWithAssoc(c).timeline(),this.listenTo(this.model,{"showcustom hidecustom":this.showHideCustom,"action:exe_animation":this.animate,addanimationdata:this.addAnimationData}),b.bindAll(this,"createTween","updateModel"))},componentDidMount:function(){this.el=this.view.el},killMaskHelpers:function(){return b(this.maskHelpers).invoke("destroy"),this.maskHelpers=null,this},killTimelines:function(){return b.forOwn(this.timelines,function(a,b){a.clear(),this.layerTimeline.removeChildTimeline(a,b),delete this.timelines[b],null!=this.model.executedActions[b]&&(this.model.executedActions[b]=null)},this),this},resetAnimations:function(){return b.forOwn(this.animations,function(a,b){a.isInTimeline=null,delete this.animations[b]},this),this},showHideCustom:function(a,b,c,d){var e=b.timelineLabel?"timelineShowHide":"nonTimelineShowHide";this[e].apply(this,arguments)},timelineShowHide:function(a,b,c,d){var e=this.wrapCallback(d,c),f=b.timelineLabel,g=b.actionKey;c.isInTimeline?a&&d():(this.timelines[g]=this.createTimelineFor(c),this.animations[g]=c,c.isInTimeline=!0,a?(this.createInitTween(c),e(!0)):this.timelines[g].eventCallback("onComplete",e),this.layerTimeline.addChildTimeline(this.timelines[g],f))},nonTimelineShowHide:function(a,b,c,d){d=this.wrapCallback(d,c);var e=this.createTimelineFor(c);a?(this.createInitTween(c),d(!0)):e.eventCallback("onComplete",d),this.view.setPlayerProp("Moved",!0)},createInitTween:function(a){this.createTween(k,a,a.getInitValues())},animate:function(a,b){var c=this.model.animations().get(a.id);this.model.prop("TimelineControlled",null!=b.timelineLabel),this.createInitTween(c),this.timelines[a.id]=this.createTimelineFor(c,a.reverse.value)},createTimelineFor:function(a,c){var d,f,g=b.partial(this.createTween,c===!0?"from":k,a),h=function(b){return b.id===a.id},i=a.getAnimation(),l=this.wrapCallback(this.model.executeFilteredPlayerEvent.bind(this.model,h,"onanimationcomplete"),a,c);d=i.map(g.bind(this)),a.hasMaskAnimation()&&(f=b(i).pluck("duration").max(),d.push(j(this.el,f)));var m={tweens:b.compact(d),onComplete:l,onCompleteScope:this.model};return this.view.props.model.isCollideable&&(m.onUpdate=this.onUpdateForCollision.bind(this)),new e(m)},onUpdateForCollision:function(){var a=this.view.el._gsTransform;i.performCollisionDetect(this.view,{RawXPos:a.x,RawYPos:a.y,Rotation:a.rotation,ScaleX:a.scaleX,ScaleY:a.scaleY})},createTween:function(a,c,e){var f=b.cloneDeep(e);return a=a||k,f.props?c.hasMaskAnimation()&&null!=f.props.currentValue?this.createMaskTween(f,c):d[a](this.el,f.duration,f.props):void 0},createMaskTween:function(a,b){var c=new f(this.view);return this.maskHelpers.push(c),c.prepareMaskAnimation(b),c.maskifyTweenData(a.props),d.to(c.animation,a.duration,a.props)},wrapCallback:function(a,b,c){return function(d){var e=d?!0:c;this.updateModel(b,e),a()}.bind(this)},updateModel:function(a,b){this.view.updateFromTween(a,b)},componentWillUnmount:function(){this.timelines&&(this.killTimelines().killMaskHelpers().resetAnimations().stopListening(),d.killTweensOf(this.el))},addAnimationData:function(a){a(b.extend({opacity:this.model.prop("Alpha")},this.el._gsTransform))}}),l}),define("views/presentation/decorators/Slideable",["require","lodash","backbone","helpers/utils","helpers/resolver","helpers/actionManager","helpers/svg/svgUtils"],function(a){"use strict";var b=a("lodash"),c=a("backbone"),d=a("helpers/utils"),e=a("helpers/resolver"),f=a("helpers/actionManager"),g=a("helpers/svg/svgUtils"),h=function(a){var b=a.toString().split(".");return 2===b.length?Math.min(2,b[1].length):0},i=function(a){this.view=a,this.model=a.props.model,this.parentModel=this.model.getClosestParentRef(),this.toFixedAmount=0};return b.extend(i.prototype,c.Events,{eventMap:{mouseover:"onrollover",mouseout:"onrollout",mousedown:"onpress",mouseup:"onrelease",dblclick:"ondoubleclick"},componentWillMount:function(){b.bindAll(this,"onUpdateValue","onUpdateSlider","onBoundVariableChanged","onMouseEvent")},componentDidMount:function(){this.parentEl=this.view.el.parentNode,this.sliderContainer=this.parentEl.querySelector(".state-group-top-level"),this.setupSlider().buildSlider().setupAction().setupEvents().updateSliderThumb().addAccessibilityItems()},componentWillUnmount:function(){this.removeAccessibilityItems().stopListening(),this.addOrRemoveListeners(!1),this.parentEl.removeChild(this.rangeInput)},setupAction:function(){return this.adjustVarAction={kind:"adjustvar",variable:this.dragpath.bindto,operator:"set",value:{}},this.adjustVarAction.slideableId=this.model.id,this},adjustVariable:function(a){this.adjustVarAction.value={type:"number",value:a},f.executeAction(this.adjustVarAction,{context:this.model})},transformValue:function(a){var b=this.invertedSlider?this.max+this.min-a:a;return b.toFixed(this.toFixedAmount)},setupSlider:function(){return this.dragpath=this.model.dragpath(),this.parentEl.style.pointerEvents="all",this.zIndex=this.parentModel.objects().length+1,this.maxX=this.parentModel.width()-this.model.width(),this.totalRange=Math.abs(this.dragpath.endvalue-this.dragpath.startvalue),this.toFixedAmount=h(this.dragpath.increment),this.boundVariable=e.resolvePath(this.dragpath.bindto),this},buildSlider:function(){var a=this.boundVariable.value();this.rangeInput=document.createElement("input"),this.dragpath.startvalue>this.dragpath.endvalue?(this.min=this.dragpath.endvalue,this.max=this.dragpath.startvalue,this.invertedSlider=!0,a=this.transformValue(a)):(this.invertedSlider=!1,this.min=this.dragpath.startvalue,this.max=this.dragpath.endvalue);var c={type:"range",value:a,step:this.dragpath.snap?this.dragpath.increment:0,min:this.min,max:this.max};return b.forOwn(c,function(a,b){this.rangeInput.setAttribute(b,a)},this),this.rangeInput.style.zIndex=this.zIndex,this.rangeInput.classList.add("slider"),this.parentEl.appendChild(this.rangeInput),this},setupEvents:function(){return this.listenTo(this.parentModel.playerProps,"change:Enabled",function(a,b){this.rangeInput.disabled=!b}.bind(this)),this.eventType=this.dragpath.liveupdating?"input":"change",this.listenTo(this.boundVariable,"change:value",this.onBoundVariableChanged),this.addOrRemoveListeners(!0),this},addOrRemoveListeners:function(a){var b=a?"addEventListener":"removeEventListener";this.rangeInput[b](this.eventType,this.onUpdateValue),this.rangeInput[b]("input",this.onUpdateSlider)},updateSliderThumb:function(a){a=a||this.boundVariable.value();var b=d.clamp(this.min,this.max,a),c=(b-this.min)/this.totalRange;return this.view.setPlayerProp("RawXPos",c*this.maxX),this},onMouseEvent:function(a){this.parentModel.executePlayerEvent(this.eventMap[a.type])},onBoundVariableChanged:function(a,b,c){this.parentModel.executePlayerEvent("onvarchanged"),c.relatedAction&&c.relatedAction.slideableId===this.model.id||(this.rangeInput.value=this.transformValue(parseFloat(b))),this.updateSliderThumb(b)},onUpdateValue:function(){var a=this.transformValue(this.rangeInput.valueAsNumber);this.adjustVariable(a)},onUpdateSlider:function(){this.updateSliderThumb()},addAccessibilityItems:function(){this.view.stealFocus=this.stealFocus.bind(this.view,this),this.view.releaseFocus=this.releaseFocus.bind(this.view,this),this.view.treeKeyCallback=function(a,b,c){this.treeKeyCallback.call(this.view,this,a,b,c)}.bind(this)},removeAccessibilityItems:function(){return this.view.stealFocus=this.view.releaseFocus=this.view.treeKeyCallback=null,this},stealFocus:function(a,b){var c=g.createElement("rect"),d=this.find("g > g"),e=d.getBBox(),f=3,h=2*f;c.setAttribute("class","focused"),c.setAttribute("x",e.x-f),c.setAttribute("y",e.y-f),c.setAttribute("width",e.width+h),c.setAttribute("height",e.height+h),c.setAttribute("stroke-width",f),d.appendChild(c),a.rangeInput.focus(),a.focusRect=c},releaseFocus:function(a,b){this.find("g > g").removeChild(a.focusRect),a.focusRect=null,a.rangeInput.blur()},treeKeyCallback:function(a,b,c){var d=c?"stepDown":"stepUp";try{a.rangeInput[d](),a.onUpdateValue()}catch(e){}}}),i}),define("views/presentation/decorators/Obscurable",["require","lodash","backbone","helpers/resolver","helpers/actionManager","views/helpers/collisionHelper","helpers/TransMatrix"],function(a){"use strict";var b=a("lodash"),c=(a("backbone"),a("helpers/resolver"),a("helpers/actionManager"),a("views/helpers/collisionHelper")),d=a("helpers/TransMatrix"),e=function(a){this.view=a,this.model=a.props.model,this.view.isObscurable=!0,this.view.transMatrix=new d};return b.extend(e.prototype,{componentWillMount:function(){c.initSlideObject(this.model)},componentDidMount:function(){this.view.htmlReady(this.whenHtmlReady.bind(this))},whenHtmlReady:function(){c.calculateHitTest(this.model)},componentWillUnmount:function(){c.destroy(this.view)}}),e}),define("views/presentation/decorators/Rotatable",["require","lodash","backbone","helpers/resolver","helpers/utils","helpers/actionManager"],function(a){"use strict";var b=a("lodash"),c=a("backbone"),d=a("helpers/resolver"),e=a("helpers/utils"),f=(a("helpers/actionManager"),function(a,b){var c=360*(a?1:-1);return b+=c}),g=b.partial(f,!0),h=b.partial(f,!1),i=Number.MAX_SAFE_INTEGER||Math.pow(2,50),j=function(a){this.view=a,this.model=a.props.model,b.extend(this,this.model.dragrotation())};b.extend(j.prototype,c.Events,{componentDidMount:function(){b.bindAll(this),this.setDegreeSnap().setBoundVar().setListeners().setRotationFromValue(this.boundVar.value())},componentWillUnmount:function(){this.stopListening(),this.view.el.removeEventListener("mousedown",this.onMouseDown),document.body.removeEventListener("mouseup",this.onMouseUp),document.body.removeEventListener("mousemove",this.onMouseMove)},setDegreeSnap:function(){var a;return this.valRange=this.endvalue-this.startvalue,this.angleRange=this.endrotation-this.startrotation,this.snap&&(a=this.valRange,this.valRange=this.valRange-this.valRange%this.increment,this.angleRange=this.angleRange*(this.valRange/a),this.stepDeg=e.fix(this.angleRange/(this.valRange/this.increment))),this},setBoundVar:function(){return this.boundVar=d.resolvePath(this.bindto,this.model),this},setListeners:function(){return this.listenTo(this.boundVar,"change:value",this.onBoundVariableChanged),this.view.el.addEventListener("mousedown",this.onMouseDown),document.body.addEventListener("mouseup",this.onMouseUp),this},setRotationFromValue:function(a){return this.view.setPlayerProp("Rotation",this.getAngleFromValue(a)),this},onBoundVariableChanged:function(a,b){this.setRotationFromValue(b)},adjustVariable:function(a){var b={operator:"set",value:{type:"number",value:a}};return this.boundVar.adjust(b,{context:this.model}),this},onMouseDown:function(a){this.isEnabled()&&(this.centerCoords=this.getCenterPos(),this.lastAngle=this.initAngle=this.getAngleFromEvent(a),this.angleChange=this.overRot=0,this.initRotation=this.view.getPlayerProp("Rotation"),document.body.addEventListener("mousemove",this.onMouseMove))},onMouseUp:function(a){var b;document.body.removeEventListener("mousemove",this.onMouseMove),this.liveupdating||(b=this.view.getPlayerProp("Rotation"),this.adjustVariable(this.getValueFromAngle(b)))},getAngleFromValue:function(a){a=e.clamp(this.startvalue,this.endvalue,a);var b=a-this.startvalue;return null!=this.stepDeg?b/this.increment*this.stepDeg+this.startrotation:b/this.valRange*this.angleRange+this.startrotation},getValueFromAngle:function(a){var b=a-this.startrotation,c=b/this.angleRange,d=c*this.valRange+this.startvalue;return this.roundValue(d)},roundStep:function(a,c){var d=a?b.range(this.startrotation,this.endrotation+1,this.stepDeg):b.range(this.startvalue,this.endvalue+1,this.increment);return d.reduce(function(a,b){return Math.abs(b-c)<Math.abs(a-c)?b:a},i)},getAngleFromEvent:function(a){var b=a.pageX-this.centerCoords.x,c=a.pageY-this.centerCoords.y;return e.normalizeDeg(e.radToDeg(Math.atan2(c,b))+90)},adjustOverRotation:function(a){var b=a-this.lastAngle;b>180?this.overRot=h(this.overRot):-180>b&&(this.overRot=g(this.overRot))},cleanAngle:function(a){var b=e.normalizeDeg(a);return this.snap?this.roundAngle(b):b},onMouseMove:function(a){var b=this.getAngleFromEvent(a);this.adjustOverRotation(b),this.lastAngle=b,this.angleChange=b+this.overRot-this.initAngle,b=this.initRotation+this.angleChange,this.setAngle(e.clamp(this.startrotation,this.endrotation,b))},setAngle:function(a){var b=this.view.getPlayerProp("Rotation");a!==b&&(this.liveupdating?this.adjustVariable(this.getValueFromAngle(a)):this.view.setPlayerProp("Rotation",a))},getCenterPos:function(){for(var a=this.model.getClosestParentRef(),b=this.view.getLayer().getBoundingClientRect(),c={x:b.left+this.view.getPlayerProp("RawXPos")+this.rotateXPos,y:b.top+this.view.getPlayerProp("RawYPos")+this.rotateYPos};a!==this.model&&a.isSlideObject;)c.x+=a.prop("RawXPos"),c.y+=a.prop("RawYPos"),a=a.getClosestParentRef();return c},isEnabled:function(){var a=this.model.getClosestParentRef();return this.model.prop("Enabled")&&(!a.isSlideObject||a.prop("Enabled"))}});var k=j.prototype;return k.roundValue=b.partial(k.roundStep,!1),k.roundAngle=b.partial(k.roundStep,!0),j}),define("views/mixins/decorateable",["require","lodash","views/presentation/decorators/Draggable","views/presentation/decorators/Droppable","views/presentation/decorators/Tweenable","views/presentation/decorators/Slideable","views/presentation/decorators/Obscurable","views/presentation/decorators/Rotatable"],function(a){"use strict";var b=a("lodash"),c=a("views/presentation/decorators/Draggable"),d=a("views/presentation/decorators/Droppable"),e=a("views/presentation/decorators/Tweenable"),f=a("views/presentation/decorators/Slideable"),g=a("views/presentation/decorators/Obscurable"),h=a("views/presentation/decorators/Rotatable"),i={createDecorator:function(a){return new a(this)},callLifeCycleEvent:function(a){var c=arguments;b.forOwn(this.decorators,function(d){d[a]&&d[a].apply(d,b.rest(c))})},componentWillMount:function(){this.decorators={},this.createDecorators(),this.callLifeCycleEvent("componentWillMount")},componentDidMount:function(){this.callLifeCycleEvent("componentDidMount")},componentWillUnmount:function(){this.callLifeCycleEvent("componentWillUnmount")},componentWillReceiveProps:function(a){this.callLifeCycleEvent("componentWillReceiveProps",a)},componentWillUpdate:function(a,b){this.callLifeCycleEvent("componentWillUpdate",a,b)},componentDidUpdate:function(a,b){this.callLifeCycleEvent("componentDidUpdate",a,b)},createDecorators:function(){var a=this.props.model;a.isDraggable()&&!this.hasDraggableAncestor()?this.decorators.draggable=this.createDecorator(c):a.isDroppable()&&(this.decorators.droppable=this.createDecorator(d)),a.isTweenable()&&(this.decorators.tweenable=this.createDecorator(e)),a.isSlideable()&&(this.decorators.slideable=this.createDecorator(f)),a.isObscurableBySelf()&&(this.decorators.obscurable=this.createDecorator(g)),a.isRotatable()&&(this.decorators.rotatable=this.createDecorator(h))},hasDraggableAncestor:function(){for(var a=this;a=a.props.parent;)if(a.props.model.isDraggable())return!0;return!1}};return i}),define("views/mixins/adornable",["require","lodash","react","helpers/utils","helpers/errorManager","helpers/svg/svgUtils"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("helpers/utils"),e=a("helpers/errorManager"),f=a("helpers/svg/svgUtils"),g=e.warn("Adornable"),h=e.throwError("Adornable"),i=e.backtick,j=function(){var a=/c|s|q|t|a/i;return function(b){return a.test(b.getAttribute("d"))}}(),k=b.partialRight(b.pick,"x","y"),l=function(a,c){return b.extend(a.createSVGPoint(),c)},m=function(a,b){return b.matrixTransform(a)},n=function(a,c){var d=b.partial(m,a),e=c.map(d),f=b.max(e,"y"),g=function(a){return a.y===f.y},h=e.filter(g),i=b.min(h,"x"),j=b.max(h,"x"),k=(i.x+j.x)/2,l=i.y,n=b.indexOf(e,i),o=b.indexOf(e,j),p=c[n],q=c[o],r=(p.x+q.x)/2,s=(p.y+q.y)/2;return{transformed:{x:k,y:l},original:{x:r,y:s}}},o=function(){var a=5,c=function(b){return b*a};return function(d,e){var f=(e.getTotalLength(),e.getPointAtLength.bind(e)),g=Math.ceil(e.getTotalLength()/a)+1,h=b.range(g).map(c).map(f);return n(d,h)}}(),p=function(a,c){var e=c.pathSegList,f=e.getItem.bind(e),g=b.range(e.numberOfItems).map(f),h=b(g).map(k).filter(d.not(b.isEmpty)).map(b.partial(l,c.ownerSVGElement)).value();return n(a,h)},q=function(){var a=function(a,b){var c=j(b)?o:p;return c(a,b)},c=function(a){return a.transformed.y};return function(d,e){var f=b(e).map(b.partial(a,d)).max(c).original;return k(f)}}(),r=function(a){var b=a.getAttribute("data-xlink-href"),c=a.ownerSVGElement;return c.querySelector(b)},s=function(a){return f.isUseNode(a)?r(a):a},t=function(a){return a=s(a),f.isPathNode(a)?[a]:b.toArray(a.querySelectorAll("path"))},u={"perspective-shadow":{calculationMethod:"calculateLowestRotatedPoint",rotationMethods:["rotateShadowToOriginalAngle","rotateShadowAboutPlane","adjustScaleTranslation","adjustSkewTranslationX","adjustSkewTranslationY"]},reflection:{calculationMethod:"calculateLowestRotatedPoint",rotationMethods:["rotateReflection","adjustScaleTranslation"]},"drop-shadow":{calculationMethod:"calculateMidPoint",rotationMethods:["rotateDropShadow"]},"inner-shadow":{calculationMethod:"calculateMidPoint",rotationMethods:["rotateInnerDropShadow"]}},v={initAdornment:function(){this.rotateAboutPoint().applyTransform().rotateGradient()},adornSvg:function(){var a=b.values(b.pick(this.refs,function(a,b){return 0===b.indexOf("adornable")}));a.length&&a.forEach(function(a){this.setAsAdornable(c.findDOMNode(a),this.props.model.get("rotation"));
}.bind(this))},setAsAdornable:function(a,b){this.adornType=a.getAttribute("data-adornment-type"),this.adornedNode=a,this.adornRotation=b,this.parentSvg=a.ownerSVGElement,this.adornMatrix=this.parentSvg.createSVGMatrix().rotate(this.adornRotation),this.adornTransformConfig=JSON.parse(a.getAttribute("data-transform"))||[],this.adornRotationPoint=null,this.adornConfig=u[this.adornType]||{},this.initAdornment()},gradientRotationOffset:function(a){return(this.adornRotationOffset||(this.adornRotationOffset=a.getAttribute("gradientTransform").replace(/rotate|\)|\(/g,"").replace(/,/g," ").split(/\s+/))).concat()},rotateGradient:function(){var a,b=this.parentSvg.querySelector("[data-rotation-offset]");return b&&(a=this.gradientRotationOffset(b),a[0]=-this.adornRotation+parseFloat(a[0]),b.setAttribute("gradientTransform",["rotate(",a.join(","),")"].join(""))),this},getDataAsFloat:function(a){return parseFloat(this.adornedNode.getAttribute("data-"+a))},teardown:function(){this.parentSvg=null,this.adornedNode=null,this.adornMatrix=null},rotateAboutPoint:function(){return this.calculateRotationPoint().applyRotation(),this},calculateRotationPoint:function(){return this.adornRotationPoint=this[this.adornConfig.calculationMethod](),this},calculateMidPoint:function(){return{x:this.getDataAsFloat("width")/2,y:this.getDataAsFloat("height")/2}},calculateLowestRotatedPoint:function(){var a=t(this.adornedNode);return b.isEmpty(a)?void g("calculateLowestRotatedPoint","no `path` nodes found for calculation"):q(this.adornMatrix,a)},applyRotation:function(){if(!this.adornRotationPoint)return this;var a=this.adornConfig.rotationMethods;return a||h("applyRotation","adornment of",i(this.adornType),"not supported"),a.forEach(function(a){this[a]()}.bind(this)),this},addRotation:function(a,b){return this.adornTransformConfig[a](this.buildRotation(b)),this},buildRotation:function(a){return f.buildRotateConfig(this.adornRotation*a,this.adornRotationPoint.x,this.adornRotationPoint.y)},getTransformRelativeToOther:function(a,c){var d=b.indexOf(this.adornTransformConfig,c);return this.adornTransformConfig[d+a]},adjustScaleTranslation:function(){var a=this.adornRotationPoint,b=f.getFirstScale(this.adornTransformConfig),c=this.getTransformRelativeToOther(-1,b),e=d.invertPercent(b.args[0]),g=d.invertPercent(b.args[1]);return c.args[0]=a.x*e,c.args[1]=a.y*g,this},adjustSkewTranslation:function(a){var b=this.adornRotationPoint,c="x"===a,e=c?"y":"x",g=f.getFirstTransformOfType("skew"+a.toUpperCase(),this.adornTransformConfig),h=this.getTransformRelativeToOther(1,g),i=g.args[0],j=d.degToRad(i);return h.args[c?0:1]=-(b[e]*Math.tan(j)),this},applyTransform:function(){var a=this.adornTransformConfig.map(f.buildTransformFn).join(" ");return this.adornedNode.setAttribute("transform",a),this},calculateRotationOffset:function(){var a=this.getDataAsFloat("distance"),b=this.getDataAsFloat("angle"),c=-d.degToRad(this.adornRotation-b),e=this.getDataAsFloat("scale");return a/=e,{x:a*Math.cos(c),y:a*Math.sin(c)}},rotateDropShadow:function(){var a=this.calculateRotationOffset();this.adornTransformConfig.push(f.buildTranslateConfig(a.x,a.y))},rotateInnerDropShadow:function(){var a=this.parentSvg.getElementsByTagName("feOffset")[0],b=this.calculateRotationOffset();a.setAttribute("dx",b.x),a.setAttribute("dy",b.y)},rotateReflection:function(){this.addRotation("unshift",-1);var a=f.getFirstTranslate(this.adornTransformConfig),c=b.indexOf(this.adornTransformConfig,a);this.adornTransformConfig.splice(c+1,0,this.buildRotation(-1))}};return v.rotateShadowToOriginalAngle=b.partial(v.addRotation,"unshift",-1),v.rotateShadowAboutPlane=b.partial(v.addRotation,"push",1),v.adjustSkewTranslationX=b.partial(v.adjustSkewTranslation,"x"),v.adjustSkewTranslationY=b.partial(v.adjustSkewTranslation,"y"),v}),define("views/presentation/VectorSlideObject",["require","lodash","helpers/utils","views/mixins/baseView","views/mixins/adornable","react","helpers/svg/svgManager","helpers/svg/svgUtils","helpers/constants","backbone"],function(a){"use strict";var b=(a("lodash"),a("helpers/utils"),a("views/mixins/baseView")),c=a("views/mixins/adornable"),d=a("react"),e=a("helpers/svg/svgManager"),f=a("helpers/svg/svgUtils"),g=(a("helpers/constants"),a("backbone"),d.createClass({displayName:"VectorSlideObject",mixins:[b,c],refreshNamespaces:function(){return this.htmlReady(this.whenHtmlReady),this},whenHtmlReady:function(){this.adornSvg(),this.determineChildMouseBehavior(),f.namespaceSvgImages(this)},componentDidMount:function(){this.refreshNamespaces().bindEvents()},componentDidUpdate:function(){this.refreshNamespaces().bindEvents()},shouldUpdate:function(a,b){return a.playerProps.ObjectState!==this.props.playerProps.ObjectState},bindEvents:function(){return this.stopListening(),this.findAllComponents("VectorText").concat(this.findAllComponents("VariableText")).forEach(function(a){this.listenTo(a,"textHit",this.props.textHit)}.bind(this)),this},determineChildMouseBehavior:function(){var a;this.props.model.isCorrectIncorrectReview()&&(this.findAll("g").forEach(function(a){a.style.pointerEvents="none"}),a=this.find("g g:nth-child(2)"),a.setAttribute("cursor","pointer"),a.style.pointerEvents="all")},template:function(){return e.getSvgFromData(this.props.model,this)}}));return g}),define("views/presentation/ButtonSlideObject",["require","react","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=b.createClass({displayName:"ButtonSlideObject",mixins:[c]});return d}),define("views/presentation/PlaceHolderSlideObject",["require","lodash","views/mixins/baseView","react"],function(a){"use strict";var b=(a("lodash"),a("views/mixins/baseView")),c=a("react"),d=c.createClass({mixins:[b],displayName:"PlaceHolderSlideObject"});return d}),define("views/presentation/GroupingSlideObject",["require","lodash","views/mixins/baseView","react"],function(a){"use strict";var b=(a("lodash"),a("views/mixins/baseView")),c=a("react"),d=c.createClass({mixins:[b],displayName:"GroupingSlideObject"});return d}),define("views/presentation/StateGroupSlideObject",["require","lodash","helpers/keyManager","helpers/resolver","views/helpers/dom","views/mixins/baseView","react"],function(a){"use strict";var b=a("lodash"),c=a("helpers/keyManager"),d=a("helpers/resolver"),e=a("views/helpers/dom"),f=a("views/mixins/baseView"),g=a("react"),h=g.createClass({mixins:[f],displayName:"StateGroupSlideObject",isStillFocused:function(){var a=c.getCurrentTabbable();return!!this.findComponent(a)},getElso:function(){return b.find(this.refs,function(a){return a.props.model.isKind("expandinglabel")})},isExpanded:function(){return this.getElso().getPlayerProp("Expanded")},checkElso:function(){return this.props.model.getIsExpandingLabel()},onElsoAction:function(a,b){if(!a||null==b||null!=b.props.model.get("markerType")){var c=a?"toggleComplete":"hideComplete";(a||!this.isStillFocused()&&this.isExpanded())&&this.getElso().refs.innard[c]()}},isClickDefAllowed:function(a){var c,f,g=this.props.model.getClickDef(),h=e.closest(a,e.isSlideObject),i=function(a){return b.some(a,function(a){var b=!1;return a.props.model&&a.props.model.isSlideObject&&(a.refs&&(b=i(a.refs)),a.el===h&&(b=!0,f=a)),!!b})};return i(this.refs),null!=f?g.some(function(a){var b=d.getRef(a,this.props.model),c=d.resolvePath(b,this.props.model);return c.id===f.props.model.id}.bind(this)):(c=e.closest(this.el,e.isSlideObject),c===h)}});return h}),define("views/presentation/PresentationOverlay",["require","react","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=b.createClass({displayName:"PresentationOverlay",mixins:[c]});return d}),define("views/presentation/ZoomImage",["require","lodash","tween-lite","views/mixins/baseView","react","views/presentation/PresentationOverlay","helpers/appState","polyfills/detection"],function(a){"use strict";var b=a("lodash"),c=a("tween-lite"),d=a("views/mixins/baseView"),e=a("react"),f=a("views/presentation/PresentationOverlay"),g=a("helpers/appState"),h=a("polyfills/detection"),i=e.createClass({displayName:"ZoomImage",mixins:[d],componentWillMount:function(){var a=e.createElement(f);this.overlay=e.render(a,document.querySelector("#zoomimage-container"))},componentDidMount:function(){this.speed=.25,this.scaleX=this.props.transform.width/this.props.width,this.scaleY=this.props.transform.height/this.props.height,this.diffX=(this.props.width-this.props.transform.width)/2,this.diffY=(this.props.height-this.props.transform.height)/2,this.throttledCalculateTweenProps=b.throttle(this.calculateTweenProps,100)},calculateTweenProps:function(){var a=5,b=document.querySelector("#presentation"),c=b.getBoundingClientRect(),d=this.props.imageElement.getBoundingClientRect(),e=d.left-c.left-this.diffX,f=d.top-c.top-this.diffY,i=e+this.props.width+a,j=f+this.props.height+a,k=e,l=f,m=this.scaleX,n=this.scaleY;if(g.windowManager.isLightBoxActive()){var o=g.windowManager.getCurrentWindow().state.slideScale,p=(this.props.transform.width-this.props.transform.width*o)/2,q=(this.props.transform.height-this.props.transform.height*o)/2;e-=p,f-=q,m*=o,n*=o}if(a>f?l=a:j>c.height&&(l-=j-c.height),a>e?k=a:i>c.width&&(k-=i-c.width),h.isMobile){var r=document.querySelector(".slide-container"),s=r.getBoundingClientRect();k=s.left,l=s.top}this.startProps={x:e,y:f,scaleX:m,scaleY:n,overwrite:"auto"},this.endProps={x:k,y:l,scaleX:1,scaleY:1}},zoomIn:function(){this.calculateTweenProps(),g.windowManager.isLightBoxActive()||this.overlay.show(),this.show(),c.fromTo(this.el,this.speed,this.startProps,this.endProps),document.addEventListener("mouseup",this.zoomOut)},updateZoomOut:function(){this.throttledCalculateTweenProps(),c.to(this.el,this.speed/2,this.startProps)},zoomOut:function(){document.removeEventListener("mouseup",this.zoomOut),c.to(this.el,this.speed,{onUpdate:this.updateZoomOut,onComplete:this.onZoomedOut})},onZoomedOut:function(){this.overlay.hide(),this.hide()}});return i}),define("views/presentation/ImageSlideObject",["require","lodash","views/mixins/baseView","views/mixins/propertizable","react","helpers/assetManager","views/presentation/ZoomImage"],function(a){"use strict";var b=(a("lodash"),a("views/mixins/baseView")),c=(a("views/mixins/propertizable"),a("react")),d=a("helpers/assetManager"),e=a("views/presentation/ZoomImage"),f=c.createClass({displayName:"ImageSlideObject",mixins:[b],prepareImageUrl:function(){var a=this.props.model.data().imagedata.assetId,b=d.getAssetUrl(a);return b},componentWillMount:function(){this.imageUrl=this.prepareImageUrl(),this.presentationCanvas=document.querySelector("#presentation-canvas")},zoom:function(){this.getOrCreateZoomImage().zoomIn()},getOrCreateZoomImage:function(){var a=this.props.model.get("zoomdata").imagedata.assetId;c.unmountComponentAtNode(this.presentationCanvas);var b=c.createElement(e,{imageElement:this.find(".zoom"),imageUrl:d.getAssetUrl(a),width:this.props.model.get("zoomdata").html5data.width,height:this.props.model.get("zoomdata").html5data.height,transform:{xPos:this.props.playerProps.RawXPos,yPos:this.props.playerProps.RawYPos,width:this.props.playerProps.width,height:this.props.playerProps.height}});return this.zoomImage=c.render(b,this.presentationCanvas),this.zoomImage}});return f}),define("views/presentation/WebObjectSlideObject",["require","lodash","views/mixins/baseView","react","views/mixins/propertizable","helpers/assetManager"],function(a){"use strict";var b=(a("lodash"),a("views/mixins/baseView")),c=a("react"),d=(a("views/mixins/propertizable"),a("helpers/assetManager")),e=c.createClass({displayName:"WebObjectSlideObject",mixins:[b],getInitialState:function(){return{thumbVisible:!0}},prepareImageUrl:function(){var a=this.props.model.get("thumbAssetId"),b=d.getAssetUrl(a);return b},componentWillMount:function(){this.imageUrl=this.prepareImageUrl()},showThumb:function(){return"onclick"===this.props.model.get("loadtype")&&this.state.thumbVisible},showContent:function(){this.setState({thumbVisible:!1})}});return e}),define("collections/BaseCollection",["require","backbone","lodash","models/BaseModel","mixins/subscribable","mixins/resolveable","mixins/assertable","mixins/ancestral","mixins/shortEventable","helpers/mixer"],function(a){"use strict";var b=a("backbone"),c=a("lodash"),d=a("models/BaseModel"),e=a("mixins/subscribable"),f=a("mixins/resolveable"),g=a("mixins/assertable"),h=a("mixins/ancestral"),i=a("mixins/shortEventable"),j=a("helpers/mixer"),k=b.Collection.extend({mixins:[e,f,h,g,i],model:d,isCollection:!0,constructor:function(a,d){var e=this.initialize;this.initialize=c.noop,b.Collection.apply(this,arguments),this.createParentReference(d),j.initMixinsOf(this),this.initialize=e,this.initialize.apply(this,arguments),j.postInitMixinsOf(this)}});return k}),define("models/presentation/Variable",["require","lodash","helpers/constants","models/BaseModel","helpers/pubSub","mixins/actionable","helpers/errorManager","helpers/resolver","helpers/resume/Chunk"],function(a){"use strict";var b=a("lodash"),c=a("helpers/constants"),d=a("models/BaseModel"),e=a("helpers/pubSub"),f=a("mixins/actionable"),g=a("helpers/errorManager"),h=a("helpers/resolver"),i=a("helpers/resume/Chunk"),j=g.throwError("Variable"),k=g.backtick,l="Invalid adjustment operator",m="^",n={"^":"^0","&":"^1","'":"^2","+":"^3","\n":"^4","\r":"^5","?":"^6",",":"^7","%":"^8","\\":"^9",'"':"^A","":"^B","":"^C","":"^D","":"^E"},o=b.invert(n),p=function(a,c){return b.reduce(a,function(a,b,c){return a.split(c).join(b)},c.toString())},q=b.partial(p,n),r=b.partial(p,o),s=function(a){return parseFloat(a.toPrecision(8))},t={add:function(a,b){return s(a+b)},sub:function(a,b){return s(a-b)},mult:function(a,b){return s(a*b)},div:function(a,b){return s(a/b)},set:function(a,b){return b},toggle:function(a){return!a}};t.addStrings=function(a,b){return[a,b].join("")};var u=function(a,b){return null!=a.value?h.getRef(a.value,b.context,b):h.resolvePath(a.variable,b.context)},v=d.extend({isVar:!0,idAttribute:"name",mixins:[f],shorthand:["value","name","type","resume"],shortEvents:{self:{"action:adjustvar":"adjust"}},playerPropNames:{InitValue:null},initialize:function(){this.initValue=this.value()},hasInitValue:function(){return this.initValue===this.value()},getOperator:function(a){return"add"===a&&this.isString()?"addStrings":a},adjust:function(a,b){var c,d=u(a,b),e=this.getOperator(a.operator);return t[e]||j("adjust",l,k(e)),c=t[e](this.value(),d),this.changeValue(c,a),this},changeValue:function(a,b){var c=this.value();c!==a&&(this.value(a,{relatedAction:b}),e.trigger("variable:changed",this.absoluteId,a,c))},getEncodedString:function(a){return a=a||this.value(),this.hasInitValue()?m:q(a)},decodeAndSetValue:function(a){return a!==m&&this.value(r(a)),this},getEncodedValue:function(){var a=this.isString()?this.getEncodedString.bind(this):i.toSignedString64;return i.create(a(this.value()))},setEncodedValue:function(a){return this.isString()?this.decodeAndSetValue(a):this.value(i.fromSignedString64(a)),this},resetValue:function(){this.wipe()},wipe:function(){this.value(this.initValue)}}),w=v.prototype;return w.isString=b.partial(w.isType,c.varTypes.STRING),w.isBoolean=b.partial(w.isType,c.varTypes.BOOL),v}),define("collections/presentation/Variables",["require","lodash","collections/BaseCollection","models/presentation/Variable","models/presentation/helpers/utils","helpers/resume/Chunk"],function(a){"use strict";var b=a("lodash"),c=a("collections/BaseCollection"),d=a("models/presentation/Variable"),e=a("models/presentation/helpers/utils"),f=a("helpers/resume/Chunk"),g=c.extend({model:d,initialize:function(){this.getResumeDataOrReturn=b.partial(e.meetConditionOrReturn,this,this.shouldGetResumeData)},addVariable:function(a,c){var e=new d(b.extend(a,{resume:!0}),{parent:c});return this.push(e),e},resetValues:function(){this.invoke("resetValue")},shouldGetResumeData:function(){return this.filter(e.isResumable).some(function(a){return!a.hasInitValue()})},getResumeData:function(){this.booleans=[];var a=this.filter(e.isResumable).reduce(this.encodeVariable.bind(this),"");return f.create(this.encodeBooleans())+a},encodeVariable:function(a,b){return b.isBoolean()?this.booleans.push(b.value()):a+=b.getEncodedValue(),a},encodeBooleans:function(a){for(var b,c,d,e="";this.booleans.length;)c=1,b=this.booleans.splice(0,6),d=b.reduce(function(a,b){return a+=b*c,c*=2,a},0),e+=f.toUnsignedString64(d);return e},setResumeData:function(a){var b="";if(a.length>0){var c=new f({fullString:a}),d=this.convertBoolStringToArray(c.encodedString()),g=this.filter(e.isResumable);b=c.remainder(),g.forEach(function(a){a.isBoolean()?a.value(d.shift()):(c=c.reChunk(),a.setEncodedValue(c.encodedString()),b=c.remainder())})}return b},convertBoolStringToArray:function(a){var b=a.split("");return b.reduce(function(a,b){for(var c=f.fromUnsignedString64(b),d=1;32>=d;)a.push(!!(c&d)),d*=2;return a},[])}});return g}),define("models/presentation/TextLibItem",["require","models/BaseModel","collections/BaseCollection"],function(a){"use strict";var b=a("models/BaseModel"),c=a("collections/BaseCollection"),d=c.extend({model:b.extend({idAttribute:null})}),e=b.extend({shorthand:["type","vartext","xPos","yPos","width","height"],associations:{linkdata:d}});return e}),define("collections/presentation/TextLib",["require","collections/BaseCollection","models/presentation/TextLibItem"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/TextLibItem"),d=b.extend({model:c});return d}),define("models/presentation/tweens/TweenAttribute",["require","lodash","helpers/utils","models/BaseModel","collections/presentation/TextLib","helpers/errorManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("models/BaseModel"),e=a("collections/presentation/TextLib"),f=a("helpers/errorManager"),g=f.throwError("TweenAttribute"),h="`TweenAttribute` is an abstract Class which cannot be instantiated on its own",i={exponetial:"Expo",bounce:"Bounce",circular:"Circ",cubic:"Cubic",linear:"Linear",quadratic:"Quad",quadradic:"Quad",quartic:"Quart",quintic:"Quint",sine:"Sine"},j={easein:"easeIn",easeout:"easeOut",easeinout:"easeInOut",none:"none"},k=d.extend({initialize:function(){this.pointConfigs||this.getTweenableProps||g("initialize",h),b.bindAll(this,"getAnimationPoint"),this.getThisAssoc=b.partial(this.getClosestAncestorWithAssoc,e)},buildConfig:function(a){if(this.get("path")){var c="tween"===a,d=this.buildGetPointMethod(c),e=this.getBaseConfig(),f=this.get("path").slice().map(d);return this.extendConfig(e,f,c)}if("default"===a){var g=this.getThisAssoc();return b.reduce(this.pointConfigs,function(a,b,c){var d=b.formatter.startPoints||b.formatter;return g&&(a[c]=d.call(this,g.get(b.modelProp))),a},{},this)}},extendConfig:function(a,c,d){return d?(b.extend.apply(b,[a.props].concat(c)),a):b.extend.apply(b,c)},buildGetPointMethod:function(a){var c=a?"endPoints":"startPoints";return b.partial(this.getAnimationPoint,c)},getBaseConfig:function(){var a={duration:c.toSeconds(this.get("duration")),props:{ease:this.getEasing()}};return this.get("time")&&(a.props.delay=c.toSeconds(this.get("time"))),a},getEasing:function(a){return[i[this.get("easing")],j[this.get("easingdir")]].join(".")},getAnimationPoint:function(a,c){return b.reduce(this.pointConfigs,function(d,e,f){var g=b.bind.apply(b,[this.createAnimationPoint,this].concat(e[a])),h=e.formatter[a]||e.formatter;return d[f]=h.call(this,g(c)),d},{},this)},createAnimationPoint:function(a,b,c){return this.getValue(c[a])+this.getValue(c[b])},getValue:function(a){var c,d=this.getClosestThisRef();if(b.isString(a)){var e=a.charAt(0),f=a.slice(1);return c="$"===e?d.prop(f):"#"===e?d.variables().get(f):a,parseFloat(c)}return a}});return k}),define("models/presentation/tweens/TweenAlpha",["require","models/presentation/tweens/TweenAttribute","helpers/utils"],function(a){"use strict";var b=a("models/presentation/tweens/TweenAttribute"),c=a("helpers/utils"),d=b.extend({pointConfigs:{opacity:{startPoints:["start","dstart"],endPoints:["end","dend"],formatter:c.pctToDec,modelProp:"alpha"}}});return d}),define("models/presentation/tweens/TweenPosition",["require","lodash","models/presentation/tweens/TweenAttribute","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("models/presentation/tweens/TweenAttribute"),d=a("helpers/utils"),e={QUAD:"quadratic",CUBIC:"cubic",THRU:"thru"},f=function(a,b){return b.type===a},g=b.partial(f,e.QUAD),h=b.partial(f,e.CUBIC),i=function(a){return a.some(h)?e.CUBIC:a.some(g)?e.QUAD:e.THRU},j=b.partialRight(d.fix,2),k=(d.createSuper(c),c.extend({pointConfigs:{x:{formatter:j,modelProp:"xPos"},y:{formatter:j,modelProp:"yPos"}},extendConfig:function(a,c,d){return d?(a.props.bezier={values:b.flatten(c),type:this.getCurveType(d),curviness:0,autoRotate:!!this.get("relativerotation")},a):b.extend.apply(b,c[0])},buildGetPointMethod:function(a){var c=a?"anchorb":"anchora",d=this.getCurveType(a);return b.partial(this.getAnimationPoint,d,c)},getCurveType:function(a){return a?i(this.get("path")):e.THRU},getAnimationPoint:function(a,b,c,d){c.controlb=c.controlb||c.anchorb,c.controla=c.controla||c.anchora;var f=[];return 0===d&&f.push(this.getSinglePoint(c.anchora)),a!==e.THRU&&f.push(this.getSinglePoint(c.controla)),a===e.CUBIC&&f.push(this.getSinglePoint(c.controlb)),f.push(this.getSinglePoint(c[b])),f},getSinglePoint:function(a){return{x:this.getAbsoluteCoordinate(a.x,a.dx),y:this.getAbsoluteCoordinate(a.y,a.dy)}},getAbsoluteCoordinate:function(a,b){return j(this.getValue(a)+this.getValue(b))}}));return k}),define("models/presentation/tweens/TweenRotation",["require","lodash","helpers/utils","models/presentation/tweens/TweenAttribute"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("models/presentation/tweens/TweenAttribute"),e=(c.createSuper(d),d.extend({pointConfigs:{rotation:{startPoints:["start","dstart"],endPoints:["end","dend"],formatter:b.identity,modelProp:"rotation"}}}));return e}),define("models/presentation/tweens/TweenScale",["require","models/presentation/tweens/TweenAttribute","helpers/utils"],function(a){"use strict";var b=a("models/presentation/tweens/TweenAttribute"),c=a("helpers/utils"),d=b.extend({pointConfigs:{scaleX:{startPoints:["startx","dsx"],endPoints:["endx","dex"],formatter:c.pctToDec,modelProp:"scaleX"},scaleY:{startPoints:["starty","dsy"],endPoints:["endy","dey"],formatter:c.pctToDec,modelProp:"scaleY"}}});return d}),define("models/presentation/tweens/TweenMatrix",["require","models/presentation/tweens/TweenAttribute"],function(a){"use strict";var b=a("models/presentation/tweens/TweenAttribute"),c=b.extend({});return c}),define("models/presentation/tweens/TweenMask",["require","lodash","helpers/svg/svgUtils","collections/BaseCollection","collections/presentation/TextLib","models/presentation/tweens/TweenAttribute"],function(a){"use strict";var b=a("lodash"),c=(a("helpers/svg/svgUtils"),a("collections/BaseCollection")),d=(a("collections/presentation/TextLib"),a("models/presentation/tweens/TweenAttribute")),e=d.extend({associations:{settings:c},getDirection:function(){return this.settings().findWhere({name:"direction"}).get("value")},getEffectType:function(){return this.get("effecttype")},getTweenableProps:function(){return{currentValue:1}},buildConfig:function(a){var c;return"tween"===a&&(c=this.getBaseConfig(),b.extend(c.props,this.getTweenableProps()),isNaN(c.duration)&&(c={})),c}});return e}),define("models/presentation/tweens/TweenColor",["require","lodash","helpers/svg/svgUtils","collections/BaseCollection","collections/presentation/TextLib","models/presentation/tweens/TweenAttribute"],function(a){"use strict";var b=(a("lodash"),a("helpers/svg/svgUtils"),a("collections/BaseCollection"),a("collections/presentation/TextLib"),a("models/presentation/tweens/TweenAttribute")),c=b.extend({initialize:function(){},buildConfig:function(a){var b;return"tween"===a&&(b=this.getBaseConfig(),isNaN(b.duration)&&(b={})),b}});return c}),define("collections/presentation/TweenColors",["require","lodash","collections/BaseCollection","models/presentation/tweens/TweenColor"],function(a){"use strict";var b=a("lodash"),c=a("collections/BaseCollection"),d=a("models/presentation/tweens/TweenColor"),e=c.extend({model:d,buildConfig:function(a){var c={};return this.forEach(function(d){b.extend(c,d.buildConfig(a))}),c}});return e}),define("models/presentation/Tween",["require","lodash","helpers/utils","models/BaseModel","models/presentation/tweens/TweenAlpha","models/presentation/tweens/TweenPosition","models/presentation/tweens/TweenRotation","models/presentation/tweens/TweenScale","models/presentation/tweens/TweenMatrix","models/presentation/tweens/TweenMask","collections/presentation/TweenColors"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("models/BaseModel"),e=a("models/presentation/tweens/TweenAlpha"),f=a("models/presentation/tweens/TweenPosition"),g=a("models/presentation/tweens/TweenRotation"),h=a("models/presentation/tweens/TweenScale"),i=(a("models/presentation/tweens/TweenMatrix"),a("models/presentation/tweens/TweenMask")),j=a("collections/presentation/TweenColors"),k=d.extend({associations:{scale:h,position:f,rotation:g,alpha:e,mask:i,colors:j},initialize:function(){b.bindAll(this,"buildFn")},buildFn:function(a){var d=this.get("time");return b.reduce(this.associations,function(b,e,f){var g=this[f]().buildConfig(a);return g&&(d&&g.props&&(g.props.delay=c.toSeconds(d)),b.push(g)),b},[],this)}});return k.prototype.build=b.partial(k.prototype.buildFn,"tween"),k.prototype.buildDefaultValues=b.partial(k.prototype.buildFn,"default"),k.prototype.buildInitValues=b.partial(k.prototype.buildFn,"init"),k}),define("collections/presentation/Tweens",["require","collections/BaseCollection","models/presentation/Tween"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/Tween"),d=b.extend({model:c,buildTweens:function(){return this.invoke("build")},buildInitValues:function(){return this.invoke("buildInitValues")},buildDefaultValues:function(){return this.first().buildDefaultValues()}});return d}),define("models/presentation/Animation",["require","lodash","models/BaseModel","collections/presentation/Tweens"],function(a){"use strict";var b=a("lodash"),c=a("models/BaseModel"),d=a("collections/presentation/Tweens"),e=function(a){return b.omit(a.props,"ease")},f=c.extend({shorthand:["duration"],associations:{tweens:d},hasMaskAnimation:function(){return!!this.getMaskTween()},hasColorAnimation:function(){return!!this.getColorTweens().length},getColorTweens:function(){return this.tweens().filter(function(a){return a.colors().length})},getColorPaths:function(){return b.flatten(this.getColorTweens().map(function(a){return a.colors().pluck("path")}),!0)},getMaskTween:function(){return this.tweens().find(function(a){return a.mask().get("type")})},getMaskType:function(){var a=this.getMaskTween();return a&&a.mask().get("type")},getLastAnimationProps:function(){return b.extend.apply(b,this.lastAnimationValues.map(e))},getLastInitProps:function(){return this.lastInitProps},getAnimation:function(){return this.lastAnimationValues=b.flatten(this.tweens().buildTweens(),!0),this.lastAnimationValues},getTransitionAnimation:function(){var a=this.getAnimation(),c={props:{}};return a.forEach(function(a){null!=a.duration&&(c.duration=a.duration),b.extend(c.props,a.props)}),c},getInitValues:function(){return this.lastInitProps=this.buildInitValues(),{duration:0,props:this.lastInitProps}},buildInitValues:function(){var a=b.extend.apply(b,this.tweens().buildInitValues()),c=b.flatten(this.tweens().buildDefaultValues(),!0);return b.defaults.apply(b,a.concat(c))}});return f}),define("collections/presentation/Animations",["require","collections/BaseCollection","models/presentation/Animation"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/Animation"),d=b.extend({model:c});return d}),define("models/presentation/mixins/propertizable",["require","lodash","helpers/constants","backbone"],function(a){"use strict";var b=a("lodash"),c=a("helpers/constants"),d=a("backbone"),e=function(a){return a[c.PLAYER_PROPS_KEYPATH]},f=function(a,b){return a[c.PLAYER_PROPS_KEYPATH].set(b),a},g=function(a){var b=new d.Model;a[c.PLAYER_PROPS_KEYPATH]=b},h={init:function(){this.variableMap={},g(this),this.createVariableProps(),this.createPlayerProps(),this.once("data:updated",this.createPlayerProps.bind(this))},getStaticPlayerProps:function(){return{Id:this.id,AbsoluteId:this.absoluteId,parent:this.parent}},isVariableProp:function(a){return this.variableProps?b.has(this.variableProps,a):void 0},getVariableProp:function(a){return this.variableMap[a]},createVariableProps:function(){var a={};this.variableProps&&(this.variableMap=b.reduce(this.variableProps,function(b,c,d){return b[d]=this.variables().addVariable({name:d,type:c.type,value:c.value},this),a[d]=c.value,b}.bind(this),{}),this.variableProps=a)},createPlayerProps:function(a){var c=b.extend(this.getStaticPlayerProps(),this.getTransformedPropsObj(),a?{}:this.decodedResumeData);return f(this,c),e(this)},prop:function(a,c){var d=void 0===c&&!b.isObject(a),f=e(this);if(d)return f.get(a);if(f.set(a,c),this.isVariableProp(a)){var g=this.getVariableProp(a);g.value(c)}return this},getPlayerProps:function(){return e(this)},getVariableProps:function(){var a=this.variableProps||{};return b.forEach(a,function(b,c){if(this.isVariableProp(c)){var d=this.getVariableProp(c);d&&(a[c]=d.value())}}.bind(this))},getTransformedPropsObj:function(){var a=this.playerPropNames||{},c=b.omit(a,"model"),d=b.transform(a.model,function(a,b,c){a[c]=this.get(b)}.bind(this));return b.extend(c,d,this.getVariableProps())},hasOwnPlayerProp:function(a){return e(this).has(a)},prepareResumeData:function(){return this.onBeforeResumeBuilt(),b.isFunction(this.buildResumeData)&&this.buildResumeData(),this.onAfterResumeBuilt(),this},resetProps:function(){this.createPlayerProps(!0)},getPlayerPropsRaw:function(){return this.getPlayerProps().toJSON()},onAfterResumeBuilt:b.noop,onBeforeResumeBuilt:b.noop};return h}),define("models/presentation/mixins/eventable",["require","lodash","helpers/utils","helpers/actionManager","helpers/errorManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("helpers/actionManager"),e=a("helpers/errorManager"),f=e.throwError("eventable"),g={isEventable:!0,getEvents:function(a){var c=this.events()||[];return c&&b.union(b.where(c,{kind:a}),b.where(c,{eventname:a}))},executeFilteredPlayerEvent:function(a,c,e){var g=this.getEvents(c),h=function(a){d.executeActions(a.actions,e)};return e&&!b.isObject(e)&&f("executeFilteredPlayerEvent","data supplied must be an object"),e=b.extend(e||{},{context:this.getClosestEventTarget(),eventType:c}),g.filter(a).forEach(h),this}};return g.executePlayerEvent=b.partial(g.executeFilteredPlayerEvent,c.alwaysTrue),g}),define("mixins/varPropListenable",["require","lodash","helpers/resolver"],function(a){"use strict";var b=a("lodash"),c=a("helpers/resolver"),d=function(a,b){return b.kind===a},e=b.partial(d,"onvarchanged"),f=b.partial(d,"onpropchanged"),g=function(a){return["change",a].join(":")},h={setVarAndPropListeners:function(){var a,d,h=this.events();null!=h&&(a=b.sortBy(h.filter(e),"priority").reverse(),d=b.sortBy(h.filter(f),"priority").reverse(),a.forEach(function(a){var b=c.resolvePath(a.varname,this);this.listenTo(b,g("value"),function(){this.executeFilteredPlayerEvent(function(b){return b===a},"onvarchanged")}.bind(this))}.bind(this)),d.forEach(function(a){var b=c.resolvePath(a.objRef,this);this.listenTo(b.getPlayerProps(),g(a.propname),function(){this.executeFilteredPlayerEvent(function(b){return b===a},"onpropchanged")}.bind(this))}.bind(this)))}};return h}),define("models/presentation/mixins/resumables/slideObjectResumable",["require","lodash","helpers/resume/Chunk"],function(a){"use strict";var b=a("lodash"),c=a("helpers/resume/Chunk"),d={STATE:1,VARIABLE:2,ON_STAGE:4,
DRAG_DROP:8,USE_ANIMATION:16,DEPTH:32,SHUFFLED:64,ACTION_MOVED:128,ACTION_CONTROLLED:256,DISABLED:512,REVIEW:1024,MOUSE_OVER:2048,HIDDEN_BY_LAYER:4096},e={POSITION:1,SCALE:2,ROTATION:4,ALPHA:8,COLOR:16},f=4094,g=f+1,h=function(a){return!!a.isBaseLayer},i=function(a,b){var c=a.slice(0,b);return a=a.slice(b),{data:a,substr:c}},j=function(a,b,d){var e=d===!0?"fromUnsignedString64":"fromSignedString64";return c[e](a(b))},k={resetResume:function(){this.encodedResumeData="",this.setDecodedResumeDataObj(),this.resetObjectBeforeResume()},getResumeData:function(){return this.encodedResumeData||""},getFullResumeData:function(a){return this.buildResumeData(a).getResumeData()},buildResumeData:function(a){var b,e=0,f="",g=this.prop("DragConnected");return(this.shouldResume()||a)&&(this.isInDefaultState()||(e+=d.STATE,f+=c.toUnsignedString64(this.getCurrentStateIndex(),2)),this.isDraggable()&&g&&(e+=d.DRAG_DROP,f+=c.toUnsignedString64(g.prop("slideIndex"),2),f+=c.toUnsignedString64(this.prop("DropIndex"),1)),this.isAtNewDepth()&&(e+=d.DEPTH,f+=c.toSignedString64(this.prop("depth"),2)),this.isShuffled()&&(e+=d.SHUFFLED,f+=c.toSignedString64(this.prop("ShuffleXPos"),2),f+=c.toSignedString64(this.prop("ShuffleYPos"),2)),e+=this.prop("OnStage")*d.ON_STAGE,e+=this.prop("Moved")*d.ACTION_MOVED,e+=this.prop("TimelineControlled")*d.ACTION_CONTROLLED,e+=this.prop("ReviewMode")*d.REVIEW,e+=this.prop("HiddenByLayer")*d.HIDDEN_BY_LAYER,e+=this.prop("MouseOver")*d.MOUSE_OVER,e+=!this.prop("Enabled")*d.DISABLED,b=this.variables().getResumeDataOrReturn(!1),b&&(e+=d.VARIABLE,f+=b),this.hasAnimated()&&(e+=d.USE_ANIMATION,this.trigger("addanimationdata",this.buildAnimationResumeData.bind(this)),f+=this.getAnimationResumeData())),this.encodedResumeData=c.toUnsignedString64(e,3)+f,this},getAnimationResumeData:function(a){return c.create(this.animationResumeData)},buildAnimationResumeData:function(a){var b=f,d=this.prop("Parent"),h=0;this.animationResumeData="",(this.isReparented()||this.isScaled()||this.isRotated()||this.isInNewPosition())&&(h+=e.POSITION,this.animationResumeData+=c.toSignedString64(Math.round(a.x),2),this.animationResumeData+=c.toSignedString64(Math.round(a.y),2),this.isReparented()&&(b=d.prop("slideIndex")||g),this.animationResumeData+=c.toUnsignedString64(b,2),this.isScaled()&&(h+=e.SCALE,this.animationResumeData+=c.toSignedString64(100*a.scaleX,2),this.animationResumeData+=c.toSignedString64(100*a.scaleY,2)),this.isRotated()&&(h+=e.ROTATION,this.animationResumeData+=c.toSignedString64(a.rotation,2))),this.isAlphaed()&&(h+=e.ALPHA,this.animationResumeData+=c.toUnsignedString64(a.opacity,2)),h>0&&(this.animationResumeData=c.toUnsignedString64(h,1)+this.animationResumeData)},setDecodedResumeDataObj:function(){this.decodedResumeData={}},setDecodedResumeProp:function(a,c){var d={};b.isObject(a)?d=a:d[a]=c,b.extend(this.decodedResumeData,d)},forceUpdateResume:function(){this.prop(this.decodedResumeData||{})},setResumeData:function(a){if(this.setDecodedResumeDataObj(),b.isEmpty(a))return this;var c,e,f,g,k=function(b){var c=i(a,b);return a=c.data,c.substr},l=b.partial(j,k),m=l(3,!0);return m&d.STATE&&this.setDecodedResumeProp("ObjectState",this.getStateFromIndex(l(2))),m&d.DRAG_DROP&&(c=l(2),this.setDecodedResumeProp("DropIndex",l(1)),e=this.getClosestAncestor(h).getObjectByIndex(c),this.setDecodedResumeProp("DragConnected",e)),m&d.DEPTH&&this.setDecodedResumeProp("depth",l(2)),m&d.SHUFFLED&&(f=l(2),g=l(2),this.setDecodedResumeProp({ShuffleXPos:f,RawXPos:f,ShuffleYPos:g,RawYPos:g})),this.setDecodedResumeProp({Moved:!!(m&d.ACTION_MOVED),TimelineControlled:!!(m&d.ACTION_CONTROLLED),Enabled:!(m&d.DISABLED),ReviewMode:!!(m&d.REVIEW),MouseOver:!!(m&d.MOUSE_OVER)}),m&d.VARIABLE&&(a=this.variables().setResumeData(a)),m&d.USE_ANIMATION&&this.setAnimationResumeData(a),this.setDecodedResumeProp("OnStage",!!(m&d.ON_STAGE)),this.setHiddenByLayer(!!(m&d.HIDDEN_BY_LAYER)),this},setHiddenByLayer:function(a){a&&(this.hide(),this.setDecodedResumeProp("HiddenByLayer",!0))},setAnimationResumeData:function(a){var d,k,l,m,n=new c({fullString:a}),o=n.encodedString(),p=function(a){var b=i(o,a);return o=b.data,b.substr},q=b.partial(j,p);return this.animationResumeProps={},o.length&&(this.isResuming=!0,d=c.fromUnsignedString64(p(1)),d&e.POSITION&&(this.animationResumeProps.RawXPos=q(2),this.animationResumeProps.RawYPos=q(2),k=q(2,!0),k!==f&&(l=this.getClosestAncestor(h),m=k===g?l:l.getObjectByIndex(k),this.animationResumeProps.Parent=m)),d&e.SCALE&&(this.animationResumeProps.ScaleX=q(2),this.animationResumeProps.ScaleY=q(2)),d&e.ROTATION&&(this.animationResumeProps.Rotation=q(2)),d&e.ALPHA&&(this.animationResumeProps.Alpha=q(2,!0))),n.remainder()},updateAnimationData:function(){this.prop(this.animationResumeProps||{})},setResumeDataLimited:function(a){var c=function(b){var c=i(a,b);return a=c.data,c.substr},e=b.partial(j,c),f=e(3,!0);return f&d.STATE&&this.setStateFromIndex(e(2)),f&d.VARIABLE?(f&d.DRAG_DROP&&c(3),f&d.DEPTH&&c(2),f&d.SHUFFLED&&c(4),this.variables().setResumeData(a),this):void 0},resetObjectBeforeResume:function(){this.variables().resetValues(),this.resetProps()},onBeforeResumeBuilt:function(){this.objects&&this.objects().invoke("prepareResumeData")},shouldResume:function(){return this.resume()&&this.getClosestAncestor(h).shouldResume()}};return k}),define("models/presentation/SlideObject",["require","lodash","helpers/utils","helpers/constants","helpers/vow","helpers/resolver","helpers/svg/svgManager","models/BaseModel","collections/BaseCollection","collections/presentation/Variables","collections/presentation/TextLib","collections/presentation/Animations","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/eventable","mixins/varPropListenable","models/presentation/mixins/resumables/slideObjectResumable","helpers/resume/Chunk","helpers/actionManager"],function(a){"use strict";var b=a("lodash"),c=(a("helpers/utils"),a("helpers/constants")),d=(a("helpers/vow"),a("helpers/resolver")),e=(a("helpers/svg/svgManager"),a("models/BaseModel")),f=(a("collections/BaseCollection"),a("collections/presentation/Variables")),g=a("collections/presentation/TextLib"),h=a("collections/presentation/Animations"),i=a("mixins/actionable"),j=a("models/presentation/mixins/propertizable"),k=a("models/presentation/mixins/eventable"),l=a("mixins/varPropListenable"),m=a("models/presentation/mixins/resumables/slideObjectResumable"),n=(a("helpers/resume/Chunk"),a("helpers/actionManager")),o="_default",p="custom",q=/hotspot.*marker/,r=/tooltip/,s=/(Incorrect|Correct)Review/,t=1e3,u={webobject:[{name:"_remotedata",type:c.varTypes.STRING,value:""}]},v=e.extend({mixins:[i,k,m,j,l],resolveables:["variables","actionGroups"],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0,groupObjects:!1},associations:{variables:f,textLib:g,animations:h},shorthand:["kind","data","states","alpha","xPos","yPos","rotateXPos","rotateYPos","rotation","width","height","imagelib","dragdrop","dragrotation","dragpath","resume","depth","scaleX","scaleY","xOffset","yOffset","events","actionGroups"],playerPropNames:{DragOverId:null,DropTargetId:null,LastKeyAlt:null,LastKeyCode:null,LastKeyShift:null,Moved:null,ReviewMode:null,TimelineControlled:null,Text:null,DragConnected:!1,Enabled:!0,MouseOver:!1,ObjectState:o,OnStage:!1,HiddenByLayer:!1,Expanded:!1,model:{Alpha:"alpha",depth:"depth",height:"height",InitXPos:"xPos",InitYPos:"yPos",nXPos:"xPos",nYPos:"yPos",RawXPos:"xPos",RawYPos:"yPos",rotateXPos:"rotateXPos",rotateYPos:"rotateYPos",Rotation:"rotation",ScaleX:"scaleX",ScaleY:"scaleY",ShuffleXPos:"xPos",ShuffleYPos:"yPos",width:"width"}},shortEvents:{self:{"change:xPos change:yPos":"onPositionUpdate","action:show":"show","action:hide":"hide","action:setobjstate":"setState","action:bringtofront":"bringToFront","action:set_enabled":"setEnabled","action:store_resume_data":"storeResumeData","action:restore_resume_state":"restoreResumeState","action:get_mouse_position":"getMousePosition","action:moveto":"moveTo","action:set_review":"setReview"}},isSlideObject:!0,initialize:function(){this.addExtraVariables().setupToggleVisibilityState(),this.getLayer().once("data:updated",this.bindTimelineEvents.bind(this))},addExtraVariables:function(){var a=u[this.kind()]||[];return a.forEach(function(a){this.variables().addVariable(a)}.bind(this)),this},bindTimelineEvents:function(){var a=this.getLayer().timeline();this.listenTo(a,"seek",this.onTimelineSeek.bind(this))},isInDefaultState:function(){return this.prop("ObjectState")===o},isDraggable:function(){return!(!this.dragdrop()||!this.dragdrop().dragenabled)},isDroppable:function(){return!(!this.dragdrop()||!this.dragdrop().dropenabled&&!this.dragdrop().dragoverenabled)},isSlideable:function(){return!!this.dragpath()},isZoomable:function(){return!!this.get("zoomdata")},isWebObject:function(){return this.isKind("webobject")},isTweenable:function(){return!(!this.animations()||this.animations().isEmpty())},isAtNewDepth:function(){return this.depth()!==this.prop("depth")},isShuffled:function(){return this.xPos()!==this.prop("ShuffleXPos")||this.yPos()!==this.prop("ShuffleYPos")},isReparented:function(){return this.parent!==this.prop("parent")},isScaled:function(){return this.scaleX()!==this.prop("ScaleX")||this.scaleY()!==this.prop("ScaleY")},isRotated:function(){return this.rotation()!==this.prop("Rotation")},isAlphaed:function(){return this.alpha()!==this.prop("Alpha")},isInNewPosition:function(){return this.xPos()!==this.prop("RawXPos")||this.yPos()!==this.prop("RawYPos")},isHotSpotMarker:function(){return q.test(this.id)},isToolTip:function(){return r.test(this.id)},isCorrectIncorrectReview:function(){return s.test(this.id)},isObscurableBySelf:function(){var a,c,d=b.findWhere(this.events(),{kind:"onrollover"});return d&&(a=b(d.actions),c=!(!a.findWhere({kind:"show"})&&!a.findWhere({kind:"show_slidelayer"}))),c},isRotatable:function(){return null!=this.dragrotation()},hasAnimated:function(){return this.isRotated()||this.isAlphaed()||this.isScaled()||this.isInNewPosition()},getPathRef:function(){return this.getCurrentStateData().vectorData.pr},getPathLib:function(){return this.getPathRef().l},commandsetId:function(){return this.getPathRef().i},getStateFromVar:function(){return b.findWhere(this.states(),{name:this.prop("ObjectState")})},getStateFromIndex:function(a){return this.states()[a].name},getCurrentStateIndex:function(){return this.states().indexOf(this.getStateFromVar())},getCurrentStateData:function(){return this.isInDefaultState()?this.data():this.getStateFromVar().data},getPosition:function(){return{top:this.yPos(),left:this.xPos()}},getBounds:function(){var a=this.getCurrentStateData().html5data||{},c=a.strokewidth||0,d=2*c,e=b.extend({xPos:0,yPos:0,width:this.get("width"),height:this.get("height"),strokewidth:0},a);return e.strokewidth*=2,b.extend(e,{fullX:Math.ceil(e.xPos-c),fullY:Math.ceil(e.yPos-c),fullWidth:e.width+d,fullHeight:e.height+d})},getSlide:function(){return this.getClosestAncestor(function(a){return!!a.isSlide})},getLayer:function(){return this.getClosestAncestor(function(a){return null!=a.isBaseLayer})},moveTo:function(a,b){var c=d.getRef(a.xOffset,b.context),e=d.getRef(a.yOffset,b.context),f=d.getRef(a.xPos,b.context),g=d.getRef(a.yPos,b.context),h=f+c,i=g+e;this.isHotSpotMarker()?this.trigger("moveToScaled",h,i):this.trigger("moveTo",h,i)},getMousePosition:function(a){this.trigger("getMousePosition",a)},setState:function(a,b){var c=d.getRef(a.stateRef,b.context,b);return this.prop("ObjectState",c),this.executePlayerEvent("onpropchanged"),this},setReview:function(a){this.prop("ReviewMode",a.enabled.value),this.trigger("setReview",a.enabled.value)},setStateFromIndex:function(a){this.prop("ObjectState",this.getStateFromIndex(a))},setEnabled:function(a){this.prop("Enabled",a.enabled.value)},setSlideIndex:function(a){this.prop("slideIndex",a)},bringToFront:function(a){this.prop("depth",t++)},adjustVariables:function(){var a=b.toArray(arguments);a.forEach(function(a){this.adjustVariable(a.name,a.value)}.bind(this))},adjustVariable:function(a,b){var c=this.getClosestParentRef(),d={kind:"adjustvar",variable:a,operator:"set",value:{type:"number",value:b}};n.executeAction(d,{context:this}),c.executePlayerEvent("onvarchanged")},storeResumeData:function(a,b){var c=d.resolvePath(a.varref,b.context);c.value(this.getFullResumeData(!0))},restoreResumeState:function(a,b){var c=d.resolvePath(a.varref,b.context),e=a.limited,f=e?"setResumeDataLimited":"setResumeData";this.resetObjectBeforeResume(e),this[f](c.value()).forceUpdateResume()},onTimelineSeek:function(){this.prop("TimelineControlled")&&this.hide()},resetExecutedActions:function(){this.executedActions={}},setupToggleVisibilityState:function(){this.hideShowCallbackCount=0,this.hideShowState=null},shouldExitToggleEarly:function(a,c){return this.prop("OnStage")===a&&this.hideShowCallbackCount<2&&!this.isResuming||!a&&b.isEmpty(c)},isFirstTimelineCall:function(a,b){return a&&null===this.prop("TimelineControlled")&&this.isTimelineRelated(b)},isTimelineRelated:function(a){return null!=a.timelineLabel},isTakingTimelineControl:function(a,b){return!a||this.prop("TimelineControlled")||b.currentTime-this.enteredTimelineTime<25},toggleVisibility:function(a,c,d,e){d=d||{},e=e||{};var f,g="show"===a,h=!!e.isBatchAction,i=null!=d&&d.transition===p,j=g?"shown":"hidden",k=function(){this.hideShowState===d.kind&&(this.prop({OnStage:g}),this.trigger(j),this.executePlayerEvent(c+"complete"),this.hideShowCallbackCount=Math.max(0,--this.hideShowCallbackCount))}.bind(this),l=d.animationId+e.time,m=!g&&i&&!b.isEmpty(d)&&!this.executedActions[e.actionKey],n=function(){f=this.animations().get(d.animationId),e.actionKey=l,this.trigger(a+p,g,e,f,k),this.hideShowCallbackCount++,this.executedActions[l]=!0}.bind(this);return this.isFirstTimelineCall(g,e)&&(this.enteredTimelineTime=e.time),this.shouldExitToggleEarly(g,d)||this.isTimelineRelated(e)&&!this.isTakingTimelineControl(g,e)?this:(this.hideShowState=d.kind,m&&n(),h||this.prop("TimelineControlled",!!e.timelineLabel),this.trigger(a),g&&this.prop("OnStage",!0),this.executePlayerEvent(c),!i||h&&!this.isResuming?(g||!i)&&k():n(),this.isResuming=null,this)}}),w=v.prototype;return w.show=b.partial(w.toggleVisibility,"show","ontransitionin"),w.hide=b.partial(w.toggleVisibility,"hide","ontransitionout"),w.isVectorShape=b.partial(w.isKind,"vectorshape"),v}),define("views/presentation/mixins/backgroundable",["require","helpers/assetManager"],function(a){"use strict";var b=a("helpers/assetManager"),c={hasVectorBackground:function(){return"vector"===this.getPath("props.model.background.type")},hasImageBackground:function(){return"swf"===this.getPath("props.model.background.type")},getImageBgAssetId:function(){return this.getPath("props.model.background.imagedata.assetId")},getImageBgAsset:function(){return b.getAsset(this.getImageBgAssetId())},getImageBgUrl:function(){return this.getImageBgAsset().url()},getImageBgStyle:function(){var a=this.getImageBgAsset();return{position:"absolute",left:a.mobiledx(),top:a.mobiledy(),height:a.height(),width:a.width()}}};return c}),define("views/presentation/ScrollAreaSlideObject",["require","lodash","views/helpers/dom","models/presentation/SlideObject","views/mixins/baseView","views/presentation/mixins/backgroundable","react","helpers/svg/svgManager"],function(a){"use strict";var b=(a("lodash"),a("views/helpers/dom")),c=(a("models/presentation/SlideObject"),a("views/mixins/baseView")),d=a("views/presentation/mixins/backgroundable"),e=a("react"),f=(a("helpers/svg/svgManager"),e.createClass({displayName:"ScrollAreaSlideObject",mixins:[c,d],getInitialState:function(){return{shouldNotScroll:!1}},componentDidMount:function(){this.htmlReady(this.calcScrolling)},calcScrolling:function(){var a=this.find(".scrollarea-area"),b=a.scrollHeight,c=a.offsetHeight;this.setState({shouldNotScroll:b===c}),this.setupScrollArea(a)},setupScrollArea:function(a){this.scrollingArea=a,this.scrollingArea.addEventListener("scroll",this.onScroll),this.props.model.prop("Position",0)},childHideShow:function(){this.calcScrolling()},onScroll:function(){this.props.model.prop("Position",-this.scrollingArea.scrollTop)},scroll:function(a){if(!this.state.shouldNotScroll){var b=a?10:-10;this.scrollingArea.scrollTop+=b}},treeKeyCallback:function(a,b){this.scroll(b)},childScrollFocus:function(a){if(a.state.tabFocused===!0){var c=this.find(".scrollarea-area"),d=b.getScrollRecommendation(c,a.el);0!==d&&(c.scrollTop=d)}}}));return f}),define("helpers/svg/expandingLabelHelper",["require","lodash"],function(a){"use strict";var b=a("lodash"),c=function(){var a=[],c={add:function(b){a=a.concat(b)},addCmd:function(b,c){c.unshift(b),a=a.concat(c)},value:function(){return a}};return c.addM=b.partial(c.addCmd,"M"),c.addL=b.partial(c.addCmd,"L"),c.addQ=b.partial(c.addCmd,"Q"),c},d=function(a){return a.join(" ").replace(/\s?([A-Za-z])?\s/g," $1").trim()},e=function(a){var b=a.radius,c=a.arrowY-a.halfArrowSize;return b>c&&(b=c),b},f={"left-bottom":function(a,b){a.addM([b.width,b.arrowLength])},left:function(a,b){a.addM([b.width,e(b)])},"default":function(a,b){a.addM([b.width,b.radius])}},g={"bottom-left":function(a,b){a.addL([b.width,0,b.width,b.arrowY,b.width-b.arrowLength,0])},"left-bottom":function(a,b){a.addL([b.arrowX,0])},left:function(a,b){a.addQ([b.width,0,b.width-e(b),0])},"default":function(a,b){a.addQ([b.width,0,b.width-b.radius,0])}},h={bottom:function(a,b){a.addL([b.arrowX+b.halfArrowSize,0,b.arrowX,b.arrowY,b.arrowX-b.halfArrowSize,0,b.radius,0])},"bottom-right":function(a,b){a.addL([b.arrowLength,0])},right:function(a,b){a.addL([e(b),0])},"default":function(a,b){a.addL([b.radius,0])}},i={"bottom-right":function(a,b){a.addL([b.arrowLength,0,0,b.arrowY])},"right-bottom":function(a,b){a.addL([b.arrowX,0,0,b.arrowLength])},right:function(a,b){a.addQ([0,0,0,e(b)])},"default":function(a,b){a.addQ([0,0,0,b.radius])}},j={right:function(a,b){a.addL([0,b.arrowY-b.halfArrowSize,b.arrowX,b.arrowY,0,b.arrowY+b.halfArrowSize,0,b.height-e(b)])},"right-top":function(a,b){a.addL([0,b.height-b.arrowLength])},"default":function(a,b){a.addL([0,b.height-b.radius])}},k={"right-top":function(a,b){a.addL([b.arrowX,b.height])},"top-right":function(a,b){a.addL([0,b.arrowY,b.arrowLength,b.height])},right:function(a,b){a.addQ([0,b.height,e(b),b.height])},"default":function(a,b){a.addQ([0,b.height,b.radius,b.height])}},l={top:function(a,b){a.addL([b.arrowX-b.halfArrowSize,b.height,b.arrowX,b.arrowY,b.arrowX+b.halfArrowSize,b.height,b.width-b.radius,b.height])},"top-left":function(a,b){a.addL([b.width-b.arrowLength,b.height])},left:function(a,b){a.addL([b.width-e(b),b.height])},"default":function(a,b){a.addL([b.width-b.radius,b.height])}},m={"top-left":function(a,b){a.addL([b.width-b.arrowLength,b.height,b.arrowX,b.arrowY])},"left-top":function(a,b){a.addL([b.arrowX,b.height,b.width,b.height-b.arrowLength])},left:function(a,b){a.addQ([b.width,b.height,b.width,b.height-e(b)])},"default":function(a,b){a.addQ([b.width,b.height,b.width,b.height-b.radius])}},n={left:function(a,b){a.addL([b.width,b.arrowY+b.halfArrowSize,b.arrowX,b.arrowY,b.width,b.arrowY-b.halfArrowSize]),a.add(["Z"])},"default":function(a,b){a.add(["Z"])}},o=function(a,c){var d=0;return c=b.map(c,function(b){return isNaN(b)||(d%2===1&&(b+=a),d++),b})},p={arrowLength:null,calcTranslate:function(a,b){var c=0,d=0,e=0,f=0;return 0>a&&(c=-1*a,e=a),0>b&&(d=-1*b,f=b),{x:c,y:d,offX:e,offY:f}},calcArrowLength:function(a,b,c,d){var e;return 0>c&&(e=-1*c),c>a&&(e=c-a),0>d&&(e=-1*d),d>b&&(e=d-b),this.arrowLength=e,e},labelPath:function(a){var b,e=c(),p=a.dir,q=a.top;return a.arrowY-=q,a.arrowLength=this.arrowLength,a.halfArrowSize=this.arrowLength/2,("left"===p||"right"===p)&&(a.height-=1),[f,g,h,i,j,k,l,m,n].forEach(function(b){(b[p]||b["default"])(e,a)}),b=o(q,e.value()),d(b)}};return p}),define("views/presentation/ExpandingLabelSlideObject",["require","lodash","tween-lite","helpers/utils","views/mixins/baseView","react","helpers/svg/svgManager","views/mixins/propertizable","helpers/svg/expandingLabelHelper"],function(a){"use strict";var b=a("lodash"),c=a("tween-lite"),d=a("helpers/utils"),e=a("views/mixins/baseView"),f=a("react"),g=a("helpers/svg/svgManager"),h=(a("views/mixins/propertizable"),a("helpers/svg/expandingLabelHelper")),i={top:"center bottom",left:"right center",right:"left center",bottom:"center top","top-left":"right bottom","top-right":"left bottom","left-bottom":"right top","left-top":"right bottom","right-bottom":"left top","right-top":"left bottom","bottom-right":"left top","bottom-left":"right top"},j=.3,k=f.createClass({completeHook:b.noop,displayName:"ExpandingLabelSlideObject",mixins:[e],shortEvents:{model:{"action:object_action":"onObjectAction"}},componentDidMount:function(){this.label=this.find(".expanding-label"),this.content=this.find(".expanding-label-content"),this.content.style.visibility="hidden",this.startHeight=this.label.getBoundingClientRect().height,this.htmlReady(this.prepare),this.scrollArea=this.findComponent("ScrollAreaSlideObject")},componentWillUnmount:function(){this.killAllTweens()},componentWillMount:function(){var a=this.props.model;this.arrowSize=h.calcArrowLength(this.props.playerProps.width,this.props.playerProps.height,a.get("arrowxpos"),a.get("arrowypos")),this.calcAlignment().calcLabelSize().calcLabelTranslate(),this.actionConfig={showcomplete:this.showComplete,hidecomplete:this.hideComplete,showtitle:this.showTitle,hidetitle:this.hideTitle,togglecontent:this.toggleContent}},svg:function(){return g.getSvgFromData(this.props.model,this)},shouldShowContent:function(){return this.props.playerProps.Expanded},patternFillId:function(){return"pattern-fill-"+this.props.model.id},prepare:function(){this.updateLabel(),c.set(this.el,{scaleX:0,scaleY:0,transformOrigin:i[this.alignment]}),this.content.style.visibility="",this.toggle=!1,this.setupTweens()},setupTween:function(a){var d=this.tweenedNodes;return d=b(d).push(a.node).compact().uniq().value(),this.tweenedNodes=d,this[a.name]=new c(a.node,a.duration,a.opts),this},setupTweens:function(){var a=[{name:"titleTween",node:this.el,duration:j,opts:{scaleX:1,scaleY:1,onComplete:this.onTitleComplete,paused:!0}},{name:"labelTween",node:this.label,duration:j,opts:{height:this.props.playerProps.height,paused:!0,onUpdate:this.updateLabel}},{name:"contentTween",node:this.content,duration:j,opts:{height:this.props.playerProps.height,paused:!0,onComplete:this.onContentComplete,onReverseComplete:this.onContentReverseComplete}}];return this.tweenedNodes=[],a.forEach(d.take(1,this.setupTween)),this},killAllTweens:function(){return this.tweenedNodes.forEach(d.take(1,c.killTweensOf)),this},showComplete:function(){this.props.playerProps.Expanded||(this.props.setPlayerProp("Expanded",!1),this.showTitle(),1===this.currentTween.progress()?this.showContent():this.completeHook=this.showContent,this.toggle=!0)},hideComplete:function(){this.props.playerProps.Expanded?(this.hideContent(),this.completeHook=this.hideTitle):(this.toggle=!1,this.currentTween=b.noop,this.hideTitle()),this.props.setPlayerProp("Expanded",!1),this.toggle=!1},toggleContent:function(){this.props.setPlayerProp("Expanded",!1),this.toggle?this.hideContent():this.showContent(),this.toggle=!this.toggle},toggleComplete:function(){this.props.playerProps.Expanded?this.hideComplete():this.showComplete()},contentWillShow:function(a){return this.completeHook===this.showContent&&"hidecomplete"!==a},onObjectAction:function(a){var b=a.command;this.contentWillShow(b)||("togglecontent"===b||this.prevCommand!==b)&&(this.prevCommand=b,this.actionConfig[b]())},triggerObjectEvent:function(a){this.props.model.executeFilteredPlayerEvent(function(b){return b.eventName===a},"onobjectevent")},calcAlignment:function(){var a,c,d=this.props.model,e=d.get("arrowxpos"),f=d.get("arrowypos"),g="",h="",i="";return 0>=f?h="bottom":f>=this.props.playerProps.height&&(h="top"),0>=e?(g="right",0>e&&(a=!0)):e>=this.props.playerProps.width&&(g="left",e>this.props.playerProps.width&&(a=!0)),c=a?[g,h]:[h,g],i=b(c).compact().join("-"),this.alignment=i,this},calcLabelSize:function(){var a=this.arrowSize+2*this.props.model.get("borderwidth");return this.labelSize={width:this.props.playerProps.width+a,height:this.props.playerProps.height+a},this},calcLabelTranslate:function(){var a=h.calcTranslate(this.props.model.get("arrowxpos"),this.props.model.get("arrowypos")),b=this.props.model.get("borderwidth"),c=b%2?.5:0;a.x+=b+c,a.y+=b+c,a.offX-=b,a.offY-=b,this.labelTranslate=a},showTitle:function(){this.currentTween=this.titleTween,this.currentTween.play()},onTitleComplete:function(){this.completeHook()},hideTitle:function(){this.completeHook=this.hideTitle,this.toggle||this.currentTween===this.contentTween||(this.currentTween=this.titleTween,this.currentTween.reverse(),this.completeHook=b.noop)},showContent:function(){this.currentTween=this.contentTween,this.currentTween.play(),this.labelTween.play(),this.triggerObjectEvent("contentin"),c.delayedCall(.1,this.showStarted)},showStarted:function(){this.props.setPlayerProp("Expanded",!0)},onContentReverseComplete:function(){this.currentTween=null,this.completeHook(),this.triggerObjectEvent("contentoutcomplete")},onContentComplete:function(){this.completeHook=b.noop,null!=this.scrollArea&&this.scrollArea.calcScrolling(),this.triggerObjectEvent("contentincomplete")},hideContent:function(){this.currentTween=this.contentTween,this.currentTween.reverse(),this.labelTween.reverse(),this.triggerObjectEvent("contentout")},updateLabel:function(){var a=this.label.getBoundingClientRect(),b=this.el.getBoundingClientRect(),c=-(b.top-a.top),d=h.labelPath({width:this.props.playerProps.width,top:c,height:Math.max(this.startHeight,a.height),radius:10,dir:this.alignment,arrowX:this.props.model.get("arrowxpos"),arrowY:this.props.model.get("arrowypos")});this.setState({labelPath:d})},getIsVisible:function(){return this.props.playerProps.Expanded}});return k}),define("views/presentation/mixins/dragdropSlideObject",["require","lodash","views/helpers/dom"],function(a){"use strict";var b=(a("lodash"),a("views/helpers/dom")),c=10,d=.6,e={template:function(){return this.getTemplateManager().getTemplate("DragdropSlideObject").bind(this)()},getDefaultProps:function(){return{notchWidth:c,notchHeight:Math.round(d*c)}},componentDidMount:function(){this.htmlReady(this.mountWithOverState)},mountWithOverState:function(){var a=document.elementFromPoint(b.mouseX,b.mouseY),c=b.closest(a,function(a){return a===this.el}.bind(this));c&&this.didMouseOver()},getInitialState:function(){var a=this.getPath("props.model.data.textdata.vectortext.pr")||{};return{textCommandsetId:a.i,textPathLibId:a.l,wordbankRadius:this.getPath("props.model.height")/2}},didMouseOver:function(){this.isEnabled()&&this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})}};return e}),define("views/presentation/DropareaSlideObject",["require","lodash","react","views/mixins/baseView","views/mixins/propertizable","views/presentation/mixins/dragdropSlideObject","views/helpers/dragAndDropHelper","helpers/utils","helpers/windowManager"],function(a){"use strict";var b=(a("lodash"),a("react")),c=a("views/mixins/baseView"),d=a("views/mixins/propertizable"),e=a("views/presentation/mixins/dragdropSlideObject"),f=a("views/helpers/dragAndDropHelper").DroppableHelper,g=a("helpers/utils"),h=a("helpers/windowManager"),i=b.createClass({displayName:"DropareaSlideObject",mixins:[c,d,e],getInitialState:function(){return{backgroundVisible:!0}},shortEvents:{model:{setReview:"onSetReview"}},onSetReview:function(a){a&&this.performReview()},performReview:function(){var a=this.getPath("props.model.style"),b=this.getPath("props.model.reviewdata"),c=g.getPath(this.dropChild,"props.model.reviewdata");"matching"===a?this.dropChild&&b===c?(this.setState({reviewDot:"drop-correct"}),this.dropChild.setState({reviewDot:"drag-correct"}),this.dropChild.resetXPos()):this.setState({reviewDot:"drop-incorrect"}):c?this.setState({reviewStroke:"green"}):this.setState({reviewStroke:"red"})},componentDidMount:function(){this.style=this.getPath("props.model.style"),this.droppableHelper=new f(this.el,{data:this}),this.htmlReady(this.resumeReview)},componentDidUnmount:function(){this.droppableHelper.unregister()},resumeReview:function(){this.parentSlide=h.getCurrentWindow().getCurSlide(),this.dragItemViews=this.parentSlide.getSlideObjectViews("dragitem"),"matching"===this.style?this.addMatchingDropChild():this.addWordBankDropChild()},addWordBankDropChild:function(){var a;this.dragItemViews.forEach(function(b){b.getPlayerProp("SelectedItem")&&(a=b.refs.innard)}),a&&(a.setPlayerProp({RawXPos:this.getPlayerProp("RawXPos"),RawYPos:this.getPlayerProp("RawYPos")}),a.setState({backgroundVisible:!1}),this.setDropChild(a))},addMatchingDropChild:function(){this.dragItemViews.forEach(function(a){var b=g.getPath(a,"props.model.connectdata");if(b===this.getPlayerProp("DragConnectData")){var c=a.refs.innard;a.setPlayerProp("RawXPos",c.getDropSnapX(this.props.model)),a.setPlayerProp("RawYPos",this.getPlayerProp("RawYPos")),this.setDropChild(c)}}.bind(this))},setDropChild:function(a){var b=g.getPath(a,"props.model.connectdata");this.setPlayerProp("DragConnectData",b),this.dropChild=a,this.dropChild.drop=this},disconnect:function(){this.dropChild.drop=null,this.dropChild=null,this.setPlayerProp("DragConnectData","")},getDropChild:function(){return this.dropChild}});return i}),define("views/presentation/DragitemSlideObject",["require","lodash","react","views/mixins/baseView","views/presentation/mixins/dragdropSlideObject","views/mixins/propertizable","helpers/windowManager","views/helpers/dragAndDropHelper","views/helpers/dom"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("views/presentation/mixins/dragdropSlideObject"),f=a("views/mixins/propertizable"),g=a("helpers/windowManager"),h=a("views/helpers/dragAndDropHelper"),i=h.DraggableHelper,j=a("views/helpers/dom"),k=1500,l=5,m={performReview:function(){this.getPath("props.model.reviewdata")&&this.setState({reviewStroke:"green"})},dropComplete:function(a){var b=j.closest(a.el,function(a){return j.hasClass(a,"slide-layer")});b&&b.appendChild(this.slideObjectParent),this.setState({backgroundVisible:!1})},getDropSnapX:function(a){return a.prop("RawXPos")},onDragEnd:function(a,b){this.state.dropped||this.unDrop(),b&&b.params.data.setState({hoverStroke:!1})},unDrop:function(){var a=this.getPlayerProp("ShuffleXPos"),b=this.getPlayerProp("ShuffleYPos");this.moveBackAndEnable(),this.setDragPosition(a,b),this.putBackInParent(),this.setState({backgroundVisible:!0})},dropAndDisable:function(){this.draggableHelper.disable(),this.setPlayerProp("Enabled",!1),this.setPlayerProp("SelectedItem","1"),this.setState({dropped:!0,hovered:!1})},moveBackAndEnable:function(){this.setState({dropped:!1}),this.draggableHelper.enable(),this.setPlayerProp("Enabled",!0),this.setPlayerProp("SelectedItem","")},onDragOut:function(a,b){b.params.data.setState({hoverStroke:!1})},onDraggingOver:function(a,b){b.params.data.setState({hoverStroke:!0})},savePrevLoc:b.noop,dragStarted:b.noop},n={performReview:function(){this.setState({reviewDot:"drag-incorrect"}),this.resetXPos()},resetXPos:function(){this.setPlayerProp("RawXPos",this.getPlayerProp("ShuffleXPos"))},getDropSnapX:function(a){return a.prop("RawXPos")+a.width()-this.props.notchWidth},dropComplete:function(a){this.dropView=a,this.dropView.setState({collision:!1}),this.droppedX=this.getPlayerProp("RawXPos"),this.droppedY=this.getPlayerProp("RawYPos"),this.putBackInParent()},dropAndDisable:function(){this.setState({dropped:!0,hovered:!1})},onDragOut:function(a,b){b.params.data.setState({collision:!1})},onDraggingOver:function(a,b){b.params.data.setState({collision:!0})},onDragEnd:function(a,b){this.state.dropped?(this.putBackInParent(),this.setDragPosition(this.droppedX,this.droppedY),this.swapDisconnectedItems(!0)):this.swapDisconnectedItems()||this.unDrop(),
this.savePrevLoc(),this.autoScrollId&&(window.cancelAnimationFrame(this.autoScrollId),this.autoScrollId=null)},swapDisconnectedItems:function(a){var c,d,e,f,g,i=[];return this.dragItemViews.forEach(function(a){var b,c=this.props.model.id,d=a.props.model.id;c===d||a.refs.innard.state.dropped||(b=h.util.unionArea(this.el.getBoundingClientRect(),a.el.getBoundingClientRect()),0!==b&&i.push({area:b,view:a}))}.bind(this)),c=b(i).sortBy("area").last(),c?(d=c.view,f=d.getPlayerProp("RawXPos"),g=d.getPlayerProp("RawYPos"),e=d.refs.innard,e.setDragPosition(this.state.dropped?this.getPlayerProp("ShuffleXPos"):this.oldX,this.oldY),a||(this.setDragPosition(f,g),this.putBackInParent()),!0):void 0},unDrop:function(a){a&&this.dropView!==a||(this.setState({dropped:!1}),this.putBackInParent(),this.setDragPosition(this.oldX,this.oldY))},savePrevLoc:function(){this.oldX=this.getPlayerProp("RawXPos"),this.oldY=this.getPlayerProp("RawYPos")},dragStarted:function(){this.autoScrollId||this.checkForAutoScroll()},checkForAutoScroll:function(){var a=this.slideObjectParent.getBoundingClientRect(),b=this.scrollArea.getBoundingClientRect();a.top<b.top?this.scrollArea.scrollTop-=l:a.bottom>b.bottom&&(this.scrollArea.scrollTop+=l),this.autoScrollId=window.requestAnimationFrame(this.checkForAutoScroll)}},o=c.createClass({displayName:"DragitemSlideObject",mixins:[d,f,e],shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{backgroundVisible:!0,dropped:!1}},componentDidMount:function(){this.applyStyleMixin(),this.htmlReady(this.setupDragging)},onSetReview:function(a){a&&this.performReview()},applyStyleMixin:function(){this.style=this.getPath("props.model.style"),"wordbank"===this.style?b.mixin(this,m):b.mixin(this,n),b.bindAll(this)},setupDragging:function(){this.parentSlide=g.getCurrentWindow().getCurSlide(),this.slideObjectParent=this.el.parentNode,this.parentEl=this.slideObjectParent.parentNode,this.container=document.querySelector(".slide-top-container"),this.draggableHelper=new i(this.props.parent,this.getDraggableConfig()),this.scrollArea=j.closest(this.el,function(a){return j.hasClass(a,"scrollarea-area")}),"matching"===this.style?this.dragItemViews=this.parentSlide.getSlideObjectViews("dragitem"):this.reparentIfSelected(),this.checkShouldDisable()},checkShouldDisable:function(){this.getPlayerProp("Enabled")||this.draggableHelper.disable()},reparentIfSelected:function(){this.getPlayerProp("SelectedItem")&&this.container.appendChild(this.slideObjectParent)},getDraggableConfig:function(){return{containment:this.parentSlide.el,ondragstart:this.onDragStart,ondragend:this.onDragEnd,ondrop:this.onDrop,getPosition:this.getDragPosition,setPosition:this.setDragPosition,ondropleave:this.onDragOut,ondropdrag:this.onDraggingOver}},getDragPosition:function(){var a=this.slideObjectParent.getBoundingClientRect(),b=this.parentSlide.el.getBoundingClientRect();return this.savePrevLoc(),{x:a.left-b.left,y:a.top-b.top}},onDragStart:function(){this.setPlayerProp("depth",++k),this.container.appendChild(this.slideObjectParent),this.dragStarted()},onDrop:function(a,b){this.setState({dropped:!0});var c=b.params.data,d=c.props.model,e=this.getDropSnapX(d),f=d.prop("RawYPos"),g=c.getDropChild();this.dropAndDisable(),g&&g.unDrop(c),c.setDropChild(this),this.setDragPosition(e,f),this.dropComplete(c)},setDragPosition:function(a,b){this.setPlayerProp({RawXPos:a,RawYPos:b})},putBackInParent:function(){this.parentEl.appendChild(this.slideObjectParent)}});return o}),define("views/presentation/TextInputSlideObject",["require","lodash","helpers/windowManager","views/mixins/propertizable","views/presentation/mixins/backgroundable","react","views/mixins/baseView","helpers/resolver","helpers/actionManager","helpers/keyManager","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=(a("helpers/windowManager"),a("views/mixins/propertizable")),d=a("views/presentation/mixins/backgroundable"),e=a("react"),f=a("views/mixins/baseView"),g=a("helpers/resolver"),h=(a("helpers/actionManager"),a("helpers/keyManager")),i=a("helpers/utils"),j=["::-webkit-input-placeholder",":-moz-placeholder","::-moz-placeholder",":-ms-input-placeholder"],k=e.createClass({mixins:[f,c,d],displayName:"TextInputSlideObject",shortEvents:{model:{"action:setfocus":"setFocus"}},getInitialState:function(){return this.createInitialState()},createInitialState:function(){var a=this.getPath("props.model.bindto");return b.isEmpty(a)||(this.boundVar=g.resolvePath(a)),{inputValue:null!=this.boundVar?this.boundVar.value():this.props.playerProps.Text,placeholderClass:this.getPlaceholderClass()}},componentWillMount:function(){this.setupNumericState(),this.addStyleIfNeeded(this.state.placeholderClass),this.isMultiline=!!this.getPath("props.model.multiline"),this.isNumeric=this.getPath("props.model.numeric")},setupNumericState:function(){this.lastKey="",this.lastKeyCode=""},bounds:function(){return this.props.model.getBounds()},getInput:function(){return e.findDOMNode(this.refs.input)},getInputVal:function(){return this.getInput().value},setFocus:function(){this.getInput().focus()},onKeyDown:function(a){var b=String.fromCharCode(a.which);this.isMultiline||13!==a.which||null==this.boundVar||this.boundVar.changeValue(this.getInputVal()),a.shiftKey?(this.lastKeyCode="",this.lastKey=""):(this.lastKeyCode=a.which,this.lastKey=b)},onInputChange:function(a){var b=a.target.value,c=this.lastKeyCode===i.keys.DELETE,d=this.lastKey.match(/[0-9]/g),e=this.lastKeyCode===i.keys.DASH,f=this.lastKeyCode===i.keys.PERIOD,g=c||d||e||f;!this.isNumeric||g?this.setState({inputValue:b}):(a.target.value=b,isNaN(a.target.valueAsNumber)||this.setState({inputValue:b}))},onInputFocus:function(a){h.setCurrentItem(this.props.parent)},onInputBlur:function(a){this.setPlayerProp("Text",this.getInputVal()),this.props.model.executePlayerEvent("onlosefocus")},onKeyUp:function(a){this.setPlayerProp("Text",this.getInputVal())},onTouchStart:function(a){1===a.touches.length&&this.setFocus()},addStyleIfNeeded:function(a){var c=this.getTextColor(),d=this.getOrCreateStylesheet(),e=function(b){return b.selectorText.indexOf(a)>-1},f=b.findWhere(d.cssRules,e);f||(d.innerHTML+="\n",d.innerHTML+=j.map(function(b){return[".",a," ",b,"{ color: ",c,"; }"].join("")}).join("\n"))},getOrCreateStylesheet:function(){var a="textInputStyles",b=document.head.querySelector("#"+a);return b||(b=document.createElement("style"),b.id=a,document.head.appendChild(b)),b},getPlaceholderClass:function(){return"text-input-"+this.props.model.id},getTextColor:function(){return this.hex(this.getPath("props.model.textcolor"))},innardFocus:function(){this.setFocus()},innardRelease:function(){this.getInput().blur()}});return k}),define("views/presentation/VideoSlideObject",["require","lodash","helpers/utils","helpers/constants","helpers/appState","react","views/mixins/baseView","helpers/assetManager"],function(a){"use strict";var b=(a("lodash"),a("helpers/utils")),c=a("helpers/constants"),d=a("helpers/appState"),e=a("react"),f=a("views/mixins/baseView"),g=a("helpers/assetManager"),h=function(a,b,c){var d=a.getPath("props.model.data.videodata."+b),e=null!=c?"getAssetUrl":"getAsset";return null!=d?g[e](d):void 0},i=e.createClass({displayName:"VideoSlideObject",mixins:[f],shortEvents:{model:{"action:media_toggle":"onActionToggle","action:media_play":"onActionPlay","action:media_pause":"onActionPause","action:media_seek":"onActionSeek","action:show":"onActionShow","action:hide":"onActionHide","action:set_volume":"onActionSetVolume"}},getInitialState:function(){return this.layerTimeline=this.props.model.getLayer().timeline(),{currentTime:0,duration:this.layerTimeline.duration(),currentVolume:d.currentVolume(),isPlaying:!1}},componentWillMount:function(){this.bindTimelineEventListeners()},componentDidMount:function(){this.presentationVol=c.DEFAULT_VOLUME,this.setVolume(d.currentVolume()),this.currentTriggerStartTime=0,this.listenTo(d,"change:currentVolume",this.onVolumeChanged)},onVolumeChanged:function(a,b){this.determineAudioVolume(b)},determineAudioVolume:function(a){this.setVolume(a*this.presentationVol)},isValidVideo:function(){return""!==this.getVideoUrl()},getVideoUrl:function(){var a;return null==this.videoUrl&&(a=h(this,"assetId"),this.videoUrl=a&&"youtube"!==a.get("videoType")?a.url():""),this.videoUrl},posterFrameUrl:function(){return h(this,"posterAssetId",!0)},playing:function(a){this.setState({currentTime:a.target.currentTime})},durationLoaded:function(a){this.setState({duration:a.target.duration})},playbackEnded:function(){this.pauseVideo(),this.props.model.executePlayerEvent("onmediacomplete")},toggleVideoControls:function(){this.toggleVideo()},rangeslideVideoControls:function(a){this.seekVideo(a.target.valueAsNumber)},bindTimelineEventListeners:function(){this.hasAutoPlay()&&this.props.model.once("action:show",function(a,b){this.setupInitialAutoplay(a,b)}.bind(this)),this.listenTo(this.layerTimeline,"reset",function(a){this.seekVideo(a),this.hasAutoPlay()||this.pauseVideo()}),this.listenTo(this.layerTimeline,"playing",function(a){this.layerTimeline.hasFinished()||this.playVideo()}),this.listenTo(this.layerTimeline,"paused",function(a){this.layerTimeline.hasFinished()||this.pauseVideo()})},loadedData:function(){if(this.state.isPlaying&&this.state.isTimelineControlled){var a=this.layerTimeline.elapsedTime(),c=this.calculatePlaybackDifferential(a),d=b.toSeconds(c);this.seekVideo(d),this.refs.videoPlayer.play()}},setupInitialAutoplay:function(a,b){this.setActionStartTime(b.time).playVideo().watchSeek()},hasAutoPlay:function(){return this.getPath("props.model.autoplay")},onActionShow:function(a,b){this.isBatchActionAndNotPlaying(b)||this.hasAutoPlay()&&this.layerTimeline.isPlaying()&&this.playVideo()},onActionHide:function(){},onActionToggle:function(){this.toggleVideo()},onActionPlay:function(a,b){this.isBatchActionAndNotPlaying(b)||this.setActionStartTime(b.time).setTimelineControl(b).playVideo().watchSeek()},onActionPause:function(a,b){this.isBatchActionAndNotPlaying(b)||this.setActionStartTime(b.time).setTimelineControl(b).pauseVideo().watchSeek()},onActionSeek:function(a,b){this.isBatchActionAndNotPlaying(b)||this.setActionStartTime(b.time).seekVideo(a.position).watchSeek()},onActionSetVolume:function(a,b){var c=a.volume/100;this.setActionStartTime(b.time),this.presentationVol=c,this.determineAudioVolume(d.currentVolume())},setActionStartTime:function(a){return null!=a&&(this.currentTriggerStartTime=a),this},isBatchActionAndNotPlaying:function(a){return a.isBatchAction&&!this.layerTimeline.isPlaying()},setTimelineControl:function(a){return this.setState({isTimelineControlled:!!a.timelineLabel}),this},calculatePlaybackDifferential:function(a){return a-(this.currentTriggerStartTime||0)/1e3},watchSeek:function(){return this.stopListening(this.layerTimeline,"seek"),this.stopListening(this.layerTimeline,"seekEnd"),this.listenTo(this.layerTimeline,"seek",this.onTimelineSeek),this.listenTo(this.layerTimeline,"seekEnd",this.onTimlineSeekEnd),this},onTimelineSeek:function(a){a=this.calculatePlaybackDifferential(a),(this.pauseOnSeek||!this.hasAutoPlay())&&this.pauseVideo(),this.pauseOnSeek=!0,this.seekVideo(a)},onTimlineSeekEnd:function(a){"playing"===a&&this.playVideo()},playVideo:function(){return this.setState({isPlaying:!0}),this},pauseVideo:function(){return this.setState({isPlaying:!1}),this},toggleVideo:function(){return this.state.isPlaying?this.pauseVideo():this.playVideo(),this},seekVideo:function(a){return this.refs.videoPlayer.seek(a),this},setVolume:function(a){return this.setState({currentVolume:a}),this}});return i}),define("views/presentation/DropListSlideObject",["require","lodash","helpers/windowManager","views/mixins/baseView","views/mixins/propertizable","react","views/helpers/dom","helpers/utils"],function(a){"use strict";var b=(a("lodash"),a("helpers/windowManager")),c=a("views/mixins/baseView"),d=a("views/mixins/propertizable"),e=a("react"),f=a("views/helpers/dom"),g=a("helpers/utils"),h=e.createClass({mixins:[c,d],displayName:"DropListSlideObject",shortEvents:{model:{setReview:"onSetReview"}},onSetReview:function(a){var b=this.getPath("props.model.reviewwidth");a&&b&&this.setState({reviewWidth:b})},getInitialState:function(){return{hovered:!1,display:"none",pr:this.getPath("props.model.data.textdata.vectortext.pr")}},componentWillMount:function(){this.itemslist=this.getPath("props.model.itemslist")},componentDidMount:function(){this.setupReparenting(),this.selectItemIfSet()},setupReparenting:function(){this.parentEl=this.el.parentNode,this.dropDown=this.el.firstElementChild,this.htmlReady(this.whenHtmlReady)},whenHtmlReady:function(){this.parentSlide=b.getCurrentWindow().getCurSlide(),this.container=document.querySelector(".slide-top-container"),this.slideContainer=document.querySelector(".slide-container"),this.areaPrimary=document.querySelector(".area-primary"),this.currSlide=b.getCurrentWindowSlide()},selectItemIfSet:function(){var a=this.getPlayerProp("SelectedItemIndex");a>-1&&this.itemSelected(a)},itemSelected:function(a){if(-1!==a){var b=this.refs["item"+a];b.setState({selected:!0}),this.setPlayerProp("SelectedItemData",this.itemslist[a].itemdata),this.setPlayerProp("SelectedItemIndex",a),this.prevSelected&&this.prevSelected.setState({selected:!1}),this.prevSelected=b,this.updateText(b)}},updateText:function(a){this.setState({pr:a.props.pr})},onShowList:function(){if(this.isEnabled()){var a=this.el.getBoundingClientRect(),b=this.parentSlide.el.getBoundingClientRect(),c=this.areaPrimary?this.areaPrimary.getBoundingClientRect():this.slideContainer.getBoundingClientRect(),d=this.currSlide.calculateTotalScale();f.setStyles(this.el,{left:g.pxify((a.left-b.left)*d),top:g.pxify((a.top-b.top)*d)}),this.container.appendChild(this.el),document.body.removeEventListener("mouseup",this.onHideList),document.body.addEventListener("mouseup",this.onHideList),document.body.removeEventListener("touchend",this.onHideList),document.body.addEventListener("touchend",this.onHideList),this.setState({display:"block"}),this.htmlReady(function(){var a=this.dropDown.getBoundingClientRect(),d=4;a.bottom>c.bottom&&(this.dropDown.style.height=g.pxify(c.bottom-a.top-d),this.setState({dropDownScrollable:"drop-list-scrollable"})),f.setStyles(this.container,{width:g.pxify(b.width),height:g.pxify(b.height)}),this.slideContainer.style.overflow="visible"}.bind(this))}},onHideList:function(a){var b=f.closest(a.target,function(a){return f.hasClass(a,"drop-list-top")});b||(f.setStyles(this.container,{width:0,height:0}),f.setStyles(this.el,{left:0,top:0}),this.parentEl.appendChild(this.el),this.setState({display:"none"}),document.body.removeEventListener("mouseup",this.onHideList),this.slideContainer.style.overflow="hidden")},didMouseOver:function(){this.isEnabled()&&this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})},innardRelease:function(){this.onHideList({target:this.find(".drop-list-item")}),this.currentIndex>-1&&this.focusItem(this.currentIndex)},actionKeyCallback:function(){var a="block"===this.state.display,b=a?"onHideList":"onShowList",c=this.find(a?".drop-list-item":".drop-list-top");this[b]({target:c}),a?this.itemSelected(this.currentIndex):(this.currentIndex=this.getPlayerProp("SelectedItemIndex"),this.focusItem(this.currentIndex))},treeKeyCallback:function(a,b){if("none"!==this.state.display){var c=b?1:-1,d=this.currentIndex,e=g.clamp(0,this.itemslist.length-1,d+c);this.focusItem(e)}},focusItem:function(a){if(-1!==a){var b=this.refs["item"+a],c=e.findDOMNode(b),d=this.find(".drop-list-drop-down"),g=f.getScrollRecommendation(d,c);this.currentIndex>-1&&this.refs["item"+this.currentIndex].setState({hovered:!1}),this.currentIndex=a,b.setState({hovered:!0}),0!==g&&(d.scrollTop=b.props.yOff-this.props.model.height())}}});return h}),define("views/presentation/SequenceCtrlSlideObject",["require","lodash","views/mixins/baseView","views/mixins/propertizable","helpers/windowManager","views/helpers/dragAndDropHelper","react","views/helpers/dom","helpers/utils","helpers/svg/svgUtils"],function(a){"use strict";var b=a("lodash"),c=a("views/mixins/baseView"),d=a("views/mixins/propertizable"),e=a("helpers/windowManager"),f=a("views/helpers/dragAndDropHelper").DraggableHelper,g=a("react"),h=(a("views/helpers/dom"),a("helpers/utils")),i=a("helpers/svg/svgUtils"),j=5,k=g.createClass({mixins:[c,d],displayName:"SequenceCtrlSlideObject",shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{itemslist:[]}},onSetReview:function(a){this.displayReview(a)},componentWillMount:function(){this.getItemsList()},componentDidMount:function(){this.htmlReady(this.setupDragging)},getItemsList:function(){var a,b,c=this.getPlayerProp("ItemOrder");c?(a=c.split(""),b=this.getPath("props.model.itemsListOrder"),this.itemslist=[],a.forEach(function(a){this.itemslist.push(b[a])}.bind(this))):this.itemslist=this.getPath("props.model.itemslist"),this.setState({itemslist:this.itemslist})},setupDragging:function(){this.container=document.querySelector(".slide-top-container"),this.parentSlide=e.getCurrentWindow().getCurSlide(),this.scrollArea=this.find(".sequence-ctrl-scroll-area"),this.setupItems(),this.checkShouldDisable(),this.shouldShowScroll()},shouldShowScroll:function(){this.scrollArea.scrollHeight>this.scrollArea.offsetHeight&&(this.scrollArea.style.overflowY="scroll")},setupItems:function(){this.items=[];var a,b=0;this.itemslist.forEach(function(c,d){var e,g=this.refs["sequenceItem"+d],h=g.props.model.height,i=18,j=22;g.idx=d,g.itemdata=this.itemslist[d].itemdata,g.parent=g.el.parentNode,g.barInfo=null,g.didMouseOut(),this.items.push(g),this.setPlayerProp("_pos"+d,g.itemdata),a&&(b+=a),a=h+i,g.loc={x:j,y:i+b},this.setItemPosition(g.parent,g.loc),g.draggableHelper&&g.draggableHelper.disable(),g.draggableHelper=new f(g,this.getDraggableConfig(g.parent),g.parent),e=g.draggableHelper.getDropTarget("drag"),e.params.data.setDropChild(g)}.bind(this))},checkShouldDisable:function(){this.getPlayerProp("Enabled")||this.items.forEach(function(a){a.draggableHelper.disable()})},displayReview:function(a){a&&this.items.forEach(function(a,b){var c=this.props.model.getIndexByData(a.itemdata),d=c===b?"green":"red";a.drop.setState({reviewColor:d,reviewIdx:c})}.bind(this))},getDraggableConfig:function(a){return{containment:this.parentSlide.el,ondragstart:this.onDragStart,ondragend:this.onDragEnd,ondrop:this.onDrop,ondrag:this.onDrag,ondropleave:this.onDragOut,ondropdrag:this.onDraggingOver,getPosition:b.partial(this.getDragPosition,a)}},setItemPosition:function(a,b){a.style[this.cssTransform]=i.transformTranslate(h.pxify(b.x),h.pxify(b.y))},resetPositionItem:function(a){this.scrollArea.appendChild(a.draggableHelper.el),this.setItemPosition(a.draggableHelper.el,a.loc)},onDrag:function(a){var c=b.toArray(document.querySelectorAll(".sequence-ctrl-bar"));c.every(function(b,c){var d="block"===b.style.display;return d&&(a.view.currY=b.getBoundingClientRect().top),!d})},insertItem:function(a){var c=[];this.scrollArea.appendChild(a.draggableHelper.el),this.items=b.sortBy(this.items,function(a){return a.currY}),c=this.items.reduce(function(a,b,c){return a+this.props.model.getIndexByData(b.itemdata)}.bind(this),""),this.setPlayerProp("ItemOrder",c)},checkForAutoScroll:function(){var a=this.currDraggable.getBoundingClientRect(),b=this.scrollArea.getBoundingClientRect();a.top<b.top?(this.scrollArea.scrollTop-=j,this.updateItemYs()):a.bottom>b.bottom&&(this.scrollArea.scrollTop+=j,this.updateItemYs()),this.autoScrollId=window.requestAnimationFrame(this.checkForAutoScroll)},getDragPosition:function(a){var b=a.getBoundingClientRect(),c=this.parentSlide.el.getBoundingClientRect();return{x:b.left-c.left,y:b.top-c.top}},updateItemYs:function(){this.items.forEach(function(a){a.currY=a.parent.getBoundingClientRect().top})},onDragEnd:function(a,b){var c=a.view;a.el.style.opacity=1,this.resetPositionItem(c),this.autoScrollId&&(window.cancelAnimationFrame(this.autoScrollId),this.autoScrollId=null)},onDragStart:function(a,b){a.el.style.opacity=.5,this.container.appendChild(a.el),this.currDraggable=a.el,this.autoScrollId||this.checkForAutoScroll(),this.updateItemYs()},onDrop:function(a,b){var c=a.view,d=b.params.data,e=d.getDropChild();this.insertItem(c),c.drop.setDropChild(e),d.setDropChild(c),b.params.data.hideBar(),this.htmlReady(function(){this.getItemsList(),this.setupItems()}.bind(this))},onDragOut:function(a,b){b.params.data.hideBar()},onDraggingOver:function(a,b){b.params.data.showHideBar(a)}});return k}),define("views/presentation/SlideObject",["require","lodash","helpers/windowManager","views/helpers/dom","views/mixins/propertizable","views/mixins/decorateable","views/events/mouseEvents","views/mixins/mouseable","views/mixins/baseView","react","helpers/constants","helpers/utils","helpers/svg/svgUtils","views/helpers/collisionHelper","views/helpers/variableTextHelper","views/presentation/VectorSlideObject","views/presentation/ButtonSlideObject","views/presentation/PlaceHolderSlideObject","views/presentation/GroupingSlideObject","views/presentation/StateGroupSlideObject","views/presentation/ImageSlideObject","views/presentation/WebObjectSlideObject","views/presentation/ScrollAreaSlideObject","views/presentation/ExpandingLabelSlideObject","views/presentation/DropareaSlideObject","views/presentation/DragitemSlideObject","views/presentation/TextInputSlideObject","views/presentation/VideoSlideObject","views/presentation/DropListSlideObject","views/presentation/SequenceCtrlSlideObject"],function(a){"use strict";var b=a("lodash"),c=a("helpers/windowManager"),d=a("views/helpers/dom"),e=a("views/mixins/propertizable"),f=a("views/mixins/decorateable"),g=a("views/events/mouseEvents"),h=a("views/mixins/mouseable"),i=a("views/mixins/baseView"),j=a("react"),k=(a("helpers/constants"),a("helpers/utils")),l=a("helpers/svg/svgUtils"),m=a("views/helpers/collisionHelper"),n=a("views/helpers/variableTextHelper"),o={VectorSlideObject:a("views/presentation/VectorSlideObject"),ButtonSlideObject:a("views/presentation/ButtonSlideObject"),PlaceHolderSlideObject:a("views/presentation/PlaceHolderSlideObject"),GroupingSlideObject:a("views/presentation/GroupingSlideObject"),StateGroupSlideObject:a("views/presentation/StateGroupSlideObject"),ImageSlideObject:a("views/presentation/ImageSlideObject"),WebObjectSlideObject:a("views/presentation/WebObjectSlideObject"),ScrollAreaSlideObject:a("views/presentation/ScrollAreaSlideObject"),ExpandingLabelSlideObject:a("views/presentation/ExpandingLabelSlideObject"),DropareaSlideObject:a("views/presentation/DropareaSlideObject"),DragitemSlideObject:a("views/presentation/DragitemSlideObject"),TextInputSlideObject:a("views/presentation/TextInputSlideObject"),VideoSlideObject:a("views/presentation/VideoSlideObject"),DropListSlideObject:a("views/presentation/DropListSlideObject"),SequenceCtrlSlideObject:a("views/presentation/SequenceCtrlSlideObject")},p={vectorshape:"Vector",button:"Button",objgroup:"Grouping",shufflegroup:"Grouping",image:"Image",webobject:"WebObject",stategroup:"StateGroup",scrollarea:"ScrollArea",expandinglabel:"ExpandingLabel",textinput:"TextInput",droparea:"Droparea",dragitem:"Dragitem",video:"Video",droplist:"DropList",sequencectrl:"SequenceCtrl"},q={vectorshape:"props.model.data.vectorData.altText",scrollarea:"props.model.data.vectorData.altText",video:"props.model.data.videodata.altText",droplist:"props.model.data.textdata.altText",button:"props.model.data.textdata.altText"},r=["release","press","doubleclick","rightrelease","rightpress"],s=["releaseoutside","rollover","rollout"],t={image:"img",radio:"radio",checkbox:"checkbox",button:"button",slider:"slider",dial:"slider"},u=function(a){var b=p[a.kind()]||"PlaceHolder";return b+"SlideObject"},v=function(a){return b.pluck(a.events(),"kind").map(w)},w=function(a){return a.replace(/^on/,"")},x=j.createClass({displayName:"SlideObject",mixins:[i,e,f,h],shortEvents:{model:{show:"showObject",hidden:"hideObject",getMousePosition:"updateMousePosition",moveTo:"moveTo",moveToScaled:"moveToScaled"}},componentWillMount:function(){var a;this.latestEvent=null,this.innardConfigs={vectorshape:{textHit:this.textHit}},a=o[u(this.props.model)],this.slideObjectInnard=a,this.setupVariableRefs()},componentDidMount:function(){this.props.model.currView=this,this.registerEvents(),this.props.model.resetExecutedActions()},componentWillUnmount:function(){null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges()},componentDidUnmount:function(){this.props.model.currView=null,m.unregister(this)},componentDidUpdate:function(){this.adjustPositions()},getInnardConfigs:function(){return b.extend({ref:"innard",model:this.props.model,parent:this,playerProps:this.state,setPlayerProp:this.setPlayerProp,onScrollFocus:this.props.onScrollFocus,isInnard:!0},this.innardConfigs[this.props.model.kind()]||{})},registerEvents:function(){var a=b.keys(g);return a=b.sortBy(a,function(a){return"rollover"!==a||"rollout"!==a}),b.forEach(a,function(a){this.hasEvent(a)&&this.registerEvent(a,this.triggerEvent)}.bind(this)),m.registerCollisions(this),this},setupVariableRefs:function(){var a=q[this.props.model.kind()];this.accessibleTextTemplate=null!=a?this.getPath(a):"",this.varRefs=n.findRefs(this.accessibleTextTemplate),this.updateAccessibleText(),this.stopListeningToVarChanges=n.listenToVarChanges(this.varRefs,this.updateAccessibleText)},moveTo:function(a,b){this.setPlayerProp({RawXPos:a,RawYPos:b})},moveToScaled:function(a,b){var c=this.props.model.getSlide(),d=c.calculateTotalScale();this.moveTo(a*d,b*d)},updateMousePosition:function(a){var b=c.getCurrentWindow().getCurSlide();this.props.model.adjustVariables({name:a.xvar.value,value:b.mouseX},{name:a.yvar.value,value:b.mouseY})},updateFromTween:function(a,c){var d,e=c?a.getLastInitProps():a.getLastAnimationProps(),f=["opacity","rotation","scaleX","scaleY","x","y"],g={opacity:"Alpha",x:"RawXPos",y:"RawYPos"},h={Alpha:k.decToPct,scaleX:k.decToPct,scaleY:k.decToPct};return d=b.reduce(f,function(a,b){var c=e[b],d=g[b]||b;return null!=c&&(h[d]&&(c=h[d](c)),a[k.upperCaseFirst(d)]=c),a},{}),null!=e.bezier&&b.extend(d,this.getBezierValues(e.bezier)),this.setPlayerProp(d),this},getBezierValues:function(a){var c=b.last(a.values);return{RawXPos:c.x,RawYPos:c.y}},adjustPositions:function(){var a,b,c=this.find("svg");c&&(a=c.getBoundingClientRect(),b=this.el.getBoundingClientRect(),this.setPlayerProp("nXPos",a.left-b.left),this.setPlayerProp("nYPos",a.top-b.top))},showObject:function(){this.trigger("visibilityChanged",!0),this.props.hideShowCallback&&this.htmlReady(this.props.hideShowCallback)},hideObject:function(){this.props.hideShowCallback&&this.htmlReady(this.props.hideShowCallback),this.trigger("visibilityChanged",!1)},hasEvent:function(a){return b.contains(v(this.props.model),a)},shouldFireEvent:function(a,c){var d=!0,e=this.refs.innard;return null!=e&&b.isFunction(e.isClickDefAllowed)&&(d=e.isClickDefAllowed(c.target)),d&&(!b.contains(s,a)||this.latestEvent!==a)},triggerEvent:function(a){var b,c=a.type;this.state.Enabled&&(b=a.origEvent,b||(b=a),this.shouldFireEvent(c,b)&&(this.latestEvent=c,this.props.model.executePlayerEvent("on"+c)))},cursorByType:function(){var a=this.props.model;return a.isDraggable()||a.isZoomable()||a.isWebObject()||a.isSlideable()},showCursor:function(){return this.props.model.isCorrectIncorrectReview()?!1:this.props.model.get("useHandCursor")||!!b.intersection(r,v(this.props.model)).length||this.cursorByType()},cursorClass:function(){return this.state.Enabled?this.showCursor()?"cursor-hover":"":"cursor-default"},textHit:function(a){this.props.model.executeFilteredPlayerEvent(function(b){return b.triggerid===a},"onlinkrelease")},getStyles:function(){var a,b={xPos:"xOffset",yPos:"yOffset"},c=this.props.model.getCurrentStateData(),d=null!=c&&null!=c.html5data,e=function(a){return d?c.html5data[a]:this.getPath("props.model."+(b[a]||a))}.bind(this);return a={zIndex:this.state.depth,width:e("width"),height:e("height")},this.actualHeight=a.height,this.actualWidth=a.width,a[this.cssTransformOrigin]=[this.state.rotateXPos,"px ",this.state.rotateYPos,"px"].join(""),a[this.cssTransform]=[l.transformTranslate(this.state.RawXPos+"px",this.state.RawYPos+"px"),l.transformRotate(this.state.Rotation+"deg"),l.transformScale(this.state.ScaleX/100,this.state.ScaleY/100)].join(" "),a},hasElsoMethod:function(){return b.isFunction(this.props.checkElso)},releaseFocus:function(a){this.hasElsoMethod()&&this.props.checkElso()&&this.props.onElsoAction(!1),this.refs.innard&&this.refs.innard.innardRelease?this.refs.innard.innardRelease(a):this.isAccTypeText()?j.findDOMNode(this.refs.accessibleText).blur():this.el.blur(),this.setState({tabFocused:!1})},stealFocus:function(a){this.refs.innard&&this.refs.innard.innardFocus?this.refs.innard.innardFocus(a):this.isAccTypeText()?j.findDOMNode(this.refs.accessibleText).focus():this.el.focus(),this.setState({tabFocused:!0}),this.props.onScrollFocus&&this.props.onScrollFocus(this)},actionKeyCallback:function(a){this.hasElsoMethod()&&this.props.checkElso()?this.props.onElsoAction(!0,a):this.refs.innard&&this.refs.innard.actionKeyCallback?this.refs.innard.actionKeyCallback(a):this.triggerEvent({type:"release"})},treeKeyCallback:function(a,b){var c=this.refs.innard&&this.refs.innard.treeKeyCallback;c&&c(a,b)},getAccessibleText:function(){return this.state.accessibleText},updateAccessibleText:function(){this.setState({accessibleText:n.parseVars(this.accessibleTextTemplate,this.varRefs)})},getAriaRole:function(){var a=this.props.model.get("accType");return t[a]||null},isAccTypeText:function(){return"text"===this.props.model.get("accType")},getAriaLabel:function(){return this.isAccTypeText()?null:this.getAccessibleText()||""},getLayer:function(){return this.parentLayer=this.parentLayer||d.closest(this.el,function(a){return a.classList.contains("slide-layer")}),this.parentLayer}});return x}),define("views/player/Icon",["require","react","views/mixins/baseView","helpers/utils"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("helpers/utils"),e="Icon",f=function(a){return d.upperCaseFirst(a)+e},g=b.createClass({displayName:"Icon",mixins:[c],template:function(){var a=f(this.props.type);return this.getTemplateManager().getTemplate(a).bind(this)()}});return g}),define("views/player/Bottombar",["require","react","views/mixins/baseView"],function(a){"use strict";var b,c=a("react"),d=a("views/mixins/baseView"),e=c.createClass({displayName:"Bottombar",mixins:[d],componentWillMount:function(){b=this.getPath("props.player.controlOptions.controls")},isReadOnly:function(){return!!b.get("readonly")},hasVolume:function(){return!!b.get("volume")},hasSeekbar:function(){return!!b.get("seekbar")}});return e}),define("views/player/UiMobile",["require","lodash","react","views/player/mixins/appStateable","views/mixins/baseView","polyfills/detection","helpers/pubSub","views/mixins/mouseable"],function(a){"use strict";var b=(a("lodash"),a("react")),c=a("views/player/mixins/appStateable"),d=a("views/mixins/baseView"),e=a("polyfills/detection"),f=(a("helpers/pubSub"),a("views/mixins/mouseable")),g=b.createClass({displayName:"UiMobile",mixins:[d,c,f],subscriptions:{"mainWindow:slideChanged":"onSlideChanged","detection:orientationChange":"onOrientationChange"},getIntialState:function(){return{orientation:null,isActive:!1,showMenu:!1,showTab:!1}},componentDidMount:function(){this.setupUi()},setupUi:function(){this.updateOrientation(),this.registerEvent("clickoutside",this.onClickOffMenu,this.find(".content-menu"))},onClickOffMenu:function(a){var c=b.findDOMNode(this.refs["menu-handle"]),d=c===a.target||c.contains(a.target);!this.state.showMenu||this.isLandscape()||d||this.toggleMenu()},onOrientationChange:function(){this.updateOrientation()},onSlideChanged:function(){this.deactivateUi()},onTabChange:function(){this.setState({showTab:!0,showMenu:this.isLandscape()})},shouldShowLandscapeMenu:function(){return"landscape"===e.orientation&&this.state.showTab&&!this.state.showMenu;
},shouldHidePortraitMenu:function(){return"portrait"===e.orientation&&this.state.showMenu},updateOrientation:function(){this.shouldShowLandscapeMenu()?this.toggleMenu():this.shouldHidePortraitMenu()&&this.setState({showMenu:!1}),this.setState({orientation:e.orientation})},isLandscape:function(){return"landscape"===this.state.orientation},toggleMenu:function(){var a=!this.state.showMenu,b=this.isLandscape()?a:this.state.showTab,c=a||b;this.isLandscape()||b||this.refs.sidebar.setState({activeTab:null}),this.setState({isActive:c,showMenu:a,showTab:b})},closeTab:function(){this.setState({showTab:!1})},deactivateUi:function(){this.setState({isActive:!1,showMenu:!1,showTab:!1})}});return g}),define("views/player/SearchOptions",["require","lodash","react","views/mixins/baseView","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("helpers/utils"),f=function(a,b){return a.chain().filter(function(a){return b.test(e.stripTags(a.get("content")))}).invoke("get","slideId").value()},g=function(a,c){return b(a).filter(function(a){return c.test(a.Text)}).pluck("slideid").value()},h=c.createClass({displayName:"SearchOptions",mixins:[d],stringTitles:{filter:"filter",search_clear:"clear",search_in:"search_in",search_results:"search_results",slide_notes:"transcript_chk",slide_text:"slide_text_chk"},getInitialState:function(){return{notes:!0,text:!0,searchOptionsVisible:!1}},handleChangeNotes:function(a){this.setState({notes:a.target.checked})},handleChangeText:function(a){this.setState({text:a.target.checked})},toggleSearchOptions:function(a){this.setState({searchOptionsVisible:!this.state.searchOptionsVisible}),a.preventDefault()},performSearch:function(a){var c,d,h=[],i=[],j=new RegExp(a,"i");return this.state.notes&&(h=f(this.props.notesData,j)),this.state.text&&(i=g(this.props.searchData,j)),c=b(h).union(i),d=this.props.links.chain().map(function k(a){var b=[],d=a.get("links"),f=e.stripPlayer(a.get("slideid")),g=f.split(".").length<=1,h=!1;return j.test(a.get("displaytext"))&&(h=!0),c.contains(f)&&(h=!0),h&&!g&&b.push(a),d&&d.length&&b.push(d.map(k)),b}).flattenDeep().value()}});return h}),define("views/player/MenuLinksList",["require","lodash","helpers/utils","react","views/mixins/baseView"],function(a){"use strict";var b=(a("lodash"),a("helpers/utils"),a("react")),c=a("views/mixins/baseView"),d=b.createClass({displayName:"MenuLinksList",mixins:[c]});return d}),define("views/player/SearchFooter",["require","react","helpers/constants","views/mixins/baseView","lodash","views/player/mixins/appStateable"],function(a){"use strict";var b=a("react"),c=a("helpers/constants"),d=a("views/mixins/baseView"),e=a("lodash"),f=a("views/player/mixins/appStateable"),g=b.createClass({displayName:"SearchFooter",mixins:[d,f],stringTitles:{acc_search_input:"acc_search_input",search_clear:"clear",search:"search"},stateableValues:{"outline.search":void 0},getTabbableItems:function(){return e.forOwn(this.refs,function(a,b){a.dsFocusController=this}.bind(this)),[{idx:c.tabIndices.SEARCH_INPUT,item:this.refs.searchInput},{idx:c.tabIndices.SEARCH_SUBMIT,item:this.refs.searchSubmit},{idx:c.tabIndices.SEARCH_CLEAR,item:this.refs.searchClear}]},getInitialState:function(){return{searchInput:""}},search:function(a){a.preventDefault(),this.props.onSearch(this.state.searchInput)},handleChange:function(a){this.setState({searchInput:a.target.value})},clearSearch:function(a){a.preventDefault(),this.setState({searchInput:""}),this.props.onClearSearch()},stealFocus:function(a){this.setState({clearFocus:a===this.refs.searchClear,inputFocus:a===this.refs.searchInput,submitFocus:a===this.refs.searchSubmit}),b.findDOMNode(a).focus()},releaseFocus:function(a){this.setState({clearFocus:!1,inputFocus:!1,submitFocus:!1}),b.findDOMNode(a).blur()}});return g}),define("views/player/MenuLinksListItem",["require","lodash","react","views/mixins/baseView","helpers/utils","polyfills/detection"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("helpers/utils"),f=a("polyfills/detection"),g=c.createClass({displayName:"MenuLinksListItem",mixins:[d],getInitialState:function(){return{showChildren:!0,expanded:this.getPath("props.link.expand")}},linkSlide:function(a){return"#"+e.stripPlayer(a)},isSlideSelected:function(a){return b.last(this.props.visitedSlides)===a},hasSlideBeenViewed:function(a){return!this.isSlideSelected(a)&&b.contains(this.props.visitedSlides,a)},isSlideViewedOrCurrentParent:function(a){return this.props.link.isImmediateParent&&!this.isSlideSelected(a)||this.hasSlideBeenViewed(a)},subscriptions:{"mainWindow:slideChanged":"onSlideChanged"},onSlideChanged:function(a){var b=this.props.collapsible,c=this.props.visitedSlides,d=c[c.length-3],e=a.absoluteId,g=this.props.link.hasChild(e);if(g&&(this.setImmediateParent(!0),this.toggle(!0)),d&&this.props.hasAnyLink(e)){f.isMobile&&(b=!1);var h=this.props.link.isOrHasChild(e),i=this.props.link.isOrHasChild(d);b&&i&&!h?this.toggle(!1):h&&this.toggle(!0)}},onSelectMenuItem:function(){this.props.onSelectMenuItem&&this.props.onSelectMenuItem(this)},toggle:function(a){return this.setState({expanded:b.isBoolean(a)?a:!this.state.expanded}),this},setImmediateParent:function(a){this.props.link.isImmediateParent=a},getAutoNumber:function(){for(var a=this.props.link,b="",c=function(a){return a.index()+1+"."};a;)b=c(a)+b,a=a.parent.isKind("slidelink")&&a.parent;return b+" "}});return g}),define("views/player/PlayPauseButton",["require","react","helpers/constants","views/mixins/baseView","views/player/mixins/appStateable","polyfills/detection"],function(a){"use strict";var b=a("react"),c=a("helpers/constants"),d=a("views/mixins/baseView"),e=a("views/player/mixins/appStateable"),f=a("polyfills/detection"),g=b.createClass({displayName:"PlayPauseButton",mixins:[d,e],stringTitles:{acc_play:"acc_play",acc_pause:"acc_pause"},stateableValues:{pauseplay:void 0},componentWillMount:function(){this.props.timeline&&this.watchTimelineChanges()},getTabbableItems:function(){return[{idx:c.tabIndices.PLAYBACK_PLAY,item:this}]},getInitialState:function(){return{isPlaying:this.props.timeline?this.props.timeline.isPlaying():!1}},listenToTick:function(){null!=this.props.timeline&&this.listenTo(this.props.timeline,"tick",this.onTick)},onTick:function(a){this.setState({progress:a})},watchTimelineChanges:function(){this.stopListening(this.props.timeline),this.listenTo(this.props.timeline,"playing paused ended",this.onPlaybackStateChange),f.isMobile&&this.listenToTick()},onPlaybackStateChange:function(a){var b=a&&a.override;this.setState({isPlaying:b||this.props.timeline.isPlaying()})},toggle:function(a){this.props.timeline.togglePlayback()},componentDidUpdate:function(a){a.timeline!==this.props.timeline&&(this.watchTimelineChanges(),this.setState({isPlaying:this.props.timeline.isPlaying()}))}});return g}),define("views/player/PlaybackProgress",["require","react","helpers/constants","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("helpers/constants"),d=a("views/mixins/baseView"),e=b.createClass({displayName:"PlaybackProgress",mixins:[d],getTabbableItems:function(){return[{idx:c.tabIndices.PLAYBACK_PROGRESS,item:this}]},getInitialState:function(){return{progress:0}},componentWillMount:function(){this.listenToTick()},componentDidUpdate:function(a){a.timeline!==this.props.timeline&&(this.stopListening(a.timeline),this.listenToTick())},listenToTick:function(){null!=this.props.timeline&&this.listenTo(this.props.timeline,"tick",this.onTick)},onTick:function(a){this.setState({progress:a})},onSeek:function(a){this.seeking=!0,this.props.timeline.progress(a.currentTarget.valueAsNumber),this.isUp!==!0&&this.props.timeline.pause(),this.isUp=!1},onMouseDown:function(a){this.isUp=!1,this.props.timeline.savePlaybackState().pause()},onMouseUp:function(a){this.isUp=!0,this.props.timeline.onSeekEnd()},stealFocus:function(){this.setState({tabFocused:!0}),this.find("input").focus()},releaseFocus:function(){this.setState({tabFocused:!1}),this.find("input").blur()}});return e}),define("views/player/PlaybackResetButton",["require","react","helpers/constants","views/mixins/baseView","views/player/mixins/appStateable"],function(a){"use strict";var b=a("react"),c=a("helpers/constants"),d=a("views/mixins/baseView"),e=a("views/player/mixins/appStateable"),f=b.createClass({displayName:"PlaybackResetButton",mixins:[d,e],stringTitles:{acc_replay:"acc_replay"},stateableValues:{replay:void 0},getTabbableItems:function(){return[{idx:c.tabIndices.PLAYBACK_RESET,item:this}]},resetPlayhead:function(a){this.props.timeline.clearResetValue().playFromResetPoint()}});return f}),define("views/player/Timer",["require","lodash","react","views/mixins/baseView","timeline-lite","helpers/utils","polyfills/detection"],function(a){"use strict";var b=(a("lodash"),a("react")),c=a("views/mixins/baseView"),d=a("timeline-lite"),e=a("helpers/utils"),f=a("polyfills/detection"),g={remaining:function(a,b){return e.formatSecondsAsTime(b-a)},totalelapsed:function(a,b){return[e.formatSecondsAsTime(b),e.formatSecondsAsTime(a)].join(" / ")},elapsed:function(a,b){return e.formatSecondsAsTime(a)},none:function(){return""}},h=b.createClass({displayName:"Timer",mixins:[c],shortEvents:{model:{show:"onShow",hide:"onHide",pause:"onPause",start:"onStart"}},getInitialState:function(){return{timerVisible:!1,timeScale:0}},componentWillMount:function(){this.setupOptions(),this.started=!1,this.setupTimeline(),this.addTween()},setupOptions:function(){var a=this.props.options;this.timeEnabled=a.get("timeEnabled"),this.timeFormat=f.isMobile?"remaining":a.get("timeFormat")},setupTimeline:function(){this.tweenTick={val:0},this.timeline=new d({paused:!0}),this.duration=this.getPath("props.model.duration")/1e3,this.tweenProps={val:1,ease:"Linear.easeNone",onUpdate:this.onUpdate,onComplete:this.onComplete}},addTween:function(){this.timeline.to(this.tweenTick,this.duration,this.tweenProps)},getTimeText:function(){var a=this.duration*this.tweenTick.val;return g[this.timeFormat](a,this.duration)},onUpdate:function(){this.setState({timeText:this.getTimeText(),timeScale:this.tweenTick.val})},onComplete:function(){this.stopListening(),this.props.model.executePlayerEvent("timercomplete")},onShow:function(){this.props.onTimerShow(this),this.setState({timerVisible:!0})},onHide:function(){this.setState({timerVisible:!1})},onPause:function(){this.timeline.pause(),this.started=!1},onStart:function(){this.started||(this.timeline.play(),this.started=!0)}});return h}),define("views/presentation/SequenceCtrlDrop",["require","lodash","views/mixins/baseView","react","views/helpers/dragAndDropHelper"],function(a){"use strict";var b=(a("lodash"),a("views/mixins/baseView")),c=a("react"),d=a("views/helpers/dragAndDropHelper").DroppableHelper,e=c.createClass({mixins:[b],displayName:"SequenceCtrlDrop",getInitialState:function(){return{topBar:!1,bottomBar:!1,reviewColor:"black",reviewIdx:this.props.idx}},componentDidMount:function(){this.setupDragging()},componentDidUnmount:function(){this.droppableHelper.unregister()},setupDragging:function(){this.droppableHelper=new d(this.el,{data:this})},setDropChild:function(a){this.dropChild=a,a.drop=this},getDropChild:function(){return this.dropChild},showHideBar:function(a){if(a.el){var b=this.el.getBoundingClientRect(),c=a.el.getBoundingClientRect(),d=c.top,e=b.top+b.height/3;d>e?this.setState({topBar:!1,bottomBar:!0}):this.setState({topBar:!0,bottomBar:!1})}},hideBar:function(){this.setState({topBar:!1,bottomBar:!1})}});return e}),define("views/presentation/SequenceCtrlDragItem",["require","lodash","views/mixins/baseView","views/presentation/mixins/dragdropSlideObject","react"],function(a){"use strict";var b=(a("lodash"),a("views/mixins/baseView")),c=a("views/presentation/mixins/dragdropSlideObject"),d=a("react"),e=d.createClass({mixins:[b,c],displayName:"SequenceCtrlDragItem",getInitialState:function(){return this.createInitialState()},createInitialState:function(){return{backgroundVisible:!0,Rotation:0,ScaleX:100,ScaleY:100}},enabledHook:function(){return this.props.parent.getPlayerProp("Enabled")}});return e}),define("views/player/TabPanel",["require","lodash","react","helpers/constants","views/helpers/dom","views/mixins/baseView","views/player/mixins/appStateable"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("helpers/constants"),e=a("views/helpers/dom"),f=a("views/mixins/baseView"),g=a("views/player/mixins/appStateable"),h=function(a){this.props.config.isLive=a,this.setState({isVisible:a})},i=c.createClass({displayName:"TabPanel",mixins:[f,g],stateableValues:function(){var a={};return a[this.props.config.name]=h.bind(this),a},componentDidMount:function(){this.isTranscript="transcript"===this.props.config.name},getFocusElName:function(){return"glossary"===this.props.config.name?"button":"a"},stealFocus:function(a){if(this.setState({tabFocused:!0}),!this.isTranscript){var c=this.getFocusElName();this.treeItems=this.findAll(c),this.treeItems.length&&(this.currentFocus=this.currentFocus||b.find(this.treeItems,function(a){return a.classList.contains("cs-selected")})||b.first(this.treeItems),this.currentFocus.focus(),this.focusIndex=this.treeItems.indexOf(this.currentFocus)),this.setScrollListener()}},releaseFocus:function(a){this.currentFocus&&this.currentFocus.blur(),this.setState({tabFocused:!1}),this.clearScrollLock()},setScrollListener:function(){var a=this.find(".panel-content");a.addEventListener("wheel",this.clearScrollLock)},clearScrollLock:function(a){this.find(".panel-content").style.overflowY="auto"},getNextTreeItemIndex:function(a){var b,c=this.focusIndex,d=this.treeItems.length,f=function(){c+=a?1:-1,0>c?c=d-1:c===d&&(c=0)},g=function(a){a.classList.contains("outline-list")};if(f(),"outline"!==this.props.config.name)return c;for(;(b=e.closest(this.treeItems[c],g))&&"none"===b.style.display;)f();return c},treeKeyCallback:function(a,b,c){if(!this.isTranscript){if(c===d.keys.LEFT||c===d.keys.RIGHT)return void this.toggleCarrot(c);this.find(".panel-content").style.overflowY="hidden",this.focusIndex=this.getNextTreeItemIndex(b),this.currentFocus=this.treeItems[this.focusIndex],this.currentFocus.focus()}},actionKeyCallback:function(a,b){b||this.currentFocus.click()},toggleCarrot:function(a){var b=this.currentFocus.querySelector(".icon-carrot"),c=e.closest(this.currentFocus,function(a){return e.hasClass(a,"item-collapsible")}),f=e.hasClass(c,"outline-links-collapse");null!=b&&(f&&a===d.keys.RIGHT||!f&&a===d.keys.LEFT)&&b.click()},onSelectMenuItem:function(a){null!=this.props.onSelectMenuItem&&this.props.onSelectMenuItem(a),this.currentFocus=a.find(this.getFocusElName())}});return i}),define("views/player/SidebarTab",["require","lodash","react","views/mixins/baseView","views/player/mixins/appStateable"],function(a){"use strict";var b=(a("lodash"),a("react")),c=a("views/mixins/baseView"),d=a("views/player/mixins/appStateable"),e=function(a){this.props.config.isLive=a,this.setState({isVisible:a})},f=b.createClass({displayName:"SidebarTab",mixins:[c,d],stateableValues:function(){var a={};return a[this.props.config.name]=e.bind(this),a},stringTitles:function(){return{title:this.props.config.properties.title||this.props.config.name}},getInitialState:function(){return{isLive:!1}},activate:function(){this.props.setActiveTab(this.props.config),this.props.tabChanged&&this.props.tabChanged(this.props.config)},actionKeyCallback:function(){this.activate()},stealFocus:function(){b.findDOMNode(this.refs.button).focus(),this.setState({tabFocused:!0})}});return f}),define("views/mixins/transitionableLayer",["require","lodash","tween-lite","helpers/vow","helpers/svg/MaskHelper","polyfills/vendorOverrides"],function(a){"use strict";var b=a("lodash"),c=a("tween-lite"),d=a("helpers/vow"),e=a("helpers/svg/MaskHelper"),f=a("polyfills/vendorOverrides"),g=f.forceRepaint||b.noop,h={componentWillMount:function(){this.elDfd=new d.Deferred},componentDidMount:function(){this.elDfd.resolve()},getElPromise:function(){return this.elDfd.promise()},transitionIn:function(a,b){this.getElPromise().done(function(){var d,f=a.getInitValues(),h=a.getTransitionAnimation();this.transition=a,h.props.onComplete=b,this.isMaskTrans=a.hasMaskAnimation(),this.isMaskTrans?(this.maskHelper=new e(this),this.maskHelper.prepareMaskAnimation(this.transition),this.maskHelper.maskifyTweenData(h.props),d=this.maskHelper.animation,g(this.el,h.duration)):(c.set(this.el,f.props),d=this.el),c.to(d,h.duration,h.props)}.bind(this))},cancelTransition:function(){c.killTweensOf(this.el),this.isMaskTrans&&(c.killTweensOf(this.maskHelper.animation),this.maskHelper.destroy())}};return h}),define("views/presentation/SlideLayer",["require","lodash","react","views/presentation/SlideObject","views/mixins/baseView","views/mixins/transitionableLayer"],function(a){"use strict";var b=(a("lodash"),a("react")),c=(a("views/presentation/SlideObject"),a("views/mixins/baseView")),d=a("views/mixins/transitionableLayer"),e=b.createClass({displayName:"SlideLayer",mixins:[c,d],shortEvents:{model:{shown:"onShow",hidden:"onHide",showcustom:"onShowCustom",cancelTransition:"onCancelTransition"}},componentDidMount:function(){this.toggleVisibility(this.isBaseLayer()),this.isBaseLayer()?(this.props.model.get("timeline").pauseAtResetPoint(),this.props.model.updateAnimationData()):this.props.model.isShowable&&this.onShow(),this.setInitModelProps()},componentWillUnmount:function(){this.props.model.isShowable=!1},isBaseLayer:function(){return this.props.model.isBaseLayer()},onShow:function(){this.props.model.get("timeline").playFromResetPoint(),this.props.model.updateAnimationData(),this.show(),this.htmlReady(this.execSlideStart)},onShowCustom:function(a,b,c,d){var e=(this.props.model,function(){d(),this.execSlideStart()}.bind(this));this.props.model.get("timeline").pauseAtResetPoint(),this.transitionIn(c,e),this.show()},onCancelTransition:function(){this.cancelTransition()},onHide:function(){this.props.model.get("timeline").pause(),this.hide()},execSlideStart:function(){this.props.model.executePlayerEvent("onslidestart")},setInitModelProps:function(){return this.props.model.createObjectIndex().setAsViewed(),this}});return e}),define("views/presentation/SlideBackground",["require","react","views/mixins/baseView","helpers/svg/svgUtils","views/presentation/LinearBackgroundGradient"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("helpers/svg/svgUtils"),e=(a("views/presentation/LinearBackgroundGradient"),b.createClass({displayName:"SlideBackground",mixins:[c],componentDidMount:function(){d.namespaceSvgImages(this)},patternFillId:function(){return"pattern-fill-"+this.props.model.id}}));return e}),define("views/presentation/VectorSlideBackground",["require","react","views/mixins/baseView","helpers/svg/svgManager"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("helpers/svg/svgManager"),e=b.createClass({displayName:"VectorSlideBackground",mixins:[c],template:function(){var a=this.props.model.background().vectorData;return d.getSvgNode({commandsetId:a.pr.i,libId:a.pr.l,bounds:{xPos:a.left,yPos:a.top,height:a.bottom-a.top,width:a.right-a.left}},this)}});return e}),define("helpers/audio/AudioClipBase",["require","lodash","backbone","helpers/vow"],function(a){"use strict";var b=a("lodash"),c=a("backbone"),d=a("helpers/vow"),e=function(a){this.deferredOp=b.noop,this.dfd=d.Deferred(),this.dfd.done(function(){this.deferredOp(),this.deferredOp=b.noop}.bind(this)),this.url=a,this.startAt=0,this.isPlaying=!1,this.isEnded=!1,this.onEndedDelegate=this.onEnded.bind(this),this.initialize()};return e.prepare=b.noop,b.extend(e.prototype,c.Events,{initialize:b.noop,onEnded:function(){this.isPlaying=!1,this.isEnded=!0,this.trigger("audioClip:ended")},doDeferredOp:function(a){d.isResolved(this.dfd)?a():this.deferredOp=a},play:function(a){return null!=a&&(this.startAt=a),this.doDeferredOp(this.deferredPlay.bind(this)),this},pause:function(){return this.doDeferredOp(this.deferredPause.bind(this)),this},seek:function(a){return this.startAt=a,this.doDeferredOp(this.deferredSeek.bind(this)),this}}),e}),define("helpers/audio/AudioClipApi",["require","lodash","external/superagent","helpers/audio/AudioClipBase","polyfills/audioContext","helpers/vow","helpers/utils","polyfills/detection"],function(a){"use strict";var b=a("lodash"),c=a("external/superagent"),d=a("helpers/audio/AudioClipBase"),e=a("polyfills/audioContext"),f=(a("helpers/vow"),a("helpers/utils")),g=a("polyfills/detection"),h=f.createSuper(d),i={},j=function(){d.apply(this,arguments)};return b.extend(j,d,{context:b.memoize(function(){return e&&new e}),prepare:function(){var a=j.context().createOscillator(),b=j.context().createGain();a.type="sine",a.connect(b),b.connect(j.context().destination),b.gain.value=0,a.start(0);try{a.stop(0)}catch(c){}a.disconnect(),b.disconnect()}}),j.prototype=new d,b.extend(j.prototype,{constructor:j,initialize:function(){h("initialize").apply(this,arguments),this.contextStartTime=0,this.gainNode=j.context().createGain(),this.gainNode.connect(j.context().destination)},load:function(){return i.hasOwnProperty(this.url)?void this.decode(i[this.url]):(c.get(this.url).on("request",function(){this.xhr.responseType="arraybuffer"}).end(function(a,b){return a?void this.dfd.reject(a):void this.decode(b.xhr.response)}.bind(this)),this)},decode:function(a){j.context().decodeAudioData(a,this.onDecodeSuccess.bind(this),this.dfd.reject)},onDecodeSuccess:function(a){a?(this.buffer=a,this.dfd.resolve()):this.dfd.reject("Could not load audio buffer from "+this.url)},deferredPlay:function(){if(this.isPlaying&&this.pause(),this.source){this.unbindSourceOnEnded();try{this.source.stop(0)}catch(a){}this.source.disconnect()}this.startAt<this.getDuration()?(this.source=j.context().createBufferSource(),this.source.buffer=this.buffer,this.bindSourceOnEnded(),this.source.connect(this.gainNode),this.contextStartTime=j.context().currentTime,this.source.start(Math.max(0,-this.startAt),Math.max(0,this.startAt)),this.isPlaying=!0):this.onEnded()},deferredPause:function(){this.isPlaying&&(this.startAt=this.getCurrentTime(),this.unbindSourceOnEnded(),this.source.stop(0),this.source.disconnect(),this.source=null,this.isPlaying=!1)},deferredSeek:function(){this.startAt>this.getDuration()?(this.pause(),this.onEnded()):this.isPlaying&&this.play()},getCurrentTime:function(){if(!this.isPlaying)return this.startAt;var a=j.context().currentTime-this.contextStartTime+this.startAt;return a||0},getDuration:function(){return this.buffer.duration},setVolume:function(a){return this.gainNode.gain.value=a,this},destroy:function(){return this.pause(),this.source&&this.source.disconnect(),this.gainNode.disconnect(),g.isMobile&&delete i[this.url],this},bindSourceOnEnded:function(){this.onEndedOnceDelegate=b.once(this.onEndedDelegate),this.source.onended=this.onEndedOnceDelegate,this.source.addEventListener("ended",this.onEndedOnceDelegate)},unbindSourceOnEnded:function(){this.source.onended=null,this.source.removeEventListener("ended",this.onEndedOnceDelegate),delete this.onEndedOnceDelegate}}),j}),define("helpers/audio/AudioClipElement",["require","lodash","helpers/audio/AudioClipBase","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/audio/AudioClipBase"),d=a("helpers/utils"),e=d.createSuper(c),f=document.body,g=function(){c.apply(this,arguments)};return b.extend(g,c),g.prototype=new c,b.extend(g.prototype,{constructor:g,initialize:function(){e("initialize").apply(this,arguments),this.el=new window.Audio,this.el.addEventListener("canplay",this.dfd.resolve),this.el.addEventListener("error",this.dfd.reject),this.el.addEventListener("ended",this.onEndedDelegate),f.appendChild(this.el)},onEnded:function(){this.startTime=this.getDuration(),e("onEnded").call(this,arguments)},load:function(){return this.el.src=this.url,this.el.load(),this},deferredPlay:function(){this.startAt<this.getDuration()?(this.el.currentTime=this.startAt,this.el.play(),this.isPlaying=!0):(this.pause(),this.onEnded())},deferredPause:function(){this.startAt=this.el.currentTime,this.el.pause(),this.isPlaying=!1},deferredSeek:function(){return this.startAt<this.getDuration()?this.el.currentTime=this.startAt:(this.pause(),this.onEnded()),this},getDuration:function(){return this.el.duration},setVolume:function(a){return this.el.volume=a,this},destroy:function(){return this.el.removeEventListener("canplay",this.dfd.resolve),this.el.removeEventListener("error",this.dfd.reject),this.el.removeEventListener("ended",this.onEndedDelegate),f.removeChild(this.el),this}}),g}),define("helpers/audio/audioManager",["require","helpers/audio/AudioClipApi","helpers/audio/AudioClipElement","polyfills/detection"],function(a){"use strict";var b=a("helpers/audio/AudioClipApi"),c=a("helpers/audio/AudioClipElement"),d=a("polyfills/detection"),e=function(){return d.hasAudioApi()?b:c},f={prepare:function(){var a=e();a.prepare()},loadUrl:function(a){var b=e(),c=new b(a);return c.load(),c}};return f}),define("views/presentation/AudioPlayer",["require","react","helpers/appState","views/mixins/propertizable","helpers/constants","views/mixins/baseView","helpers/audio/audioManager"],function(a){"use strict";var b=a("react"),c=a("helpers/appState"),d=a("views/mixins/propertizable"),e=a("helpers/constants"),f=a("views/mixins/baseView"),g=a("helpers/audio/audioManager"),h=b.createClass({displayName:"AudioPlayer",mixins:[f,d],shortEvents:{model:{"action:media_seek":"onActionSeek","action:media_play":"onActionPlay","action:media_pause":"onActionPause","action:media_toggle":"onActionToggle","action:set_volume":"onActionSetVolume"},timeline:{playing:"onTimelinePlay",toggled:"onTimelineToggle",paused:"onTimelinePause",seek:"onTimelineSeek",reset:"onTimelineReset"}},getInitialState:function(){return{soundComplete:!1}},componentWillMount:function(){var a=this.props.model.getUrl(),b=g.loadUrl(a);this.setState({audioClip:b})},componentDidMount:function(){this.presentationVol=e.DEFAULT_VOLUME,this.setVolume(c.currentVolume()),this.currActionStartTime=0,this.currTimelineSeekVal=0,this.listenTo(c,"change:currentVolume",this.onVolumeChanged),this.listenTo(this.state.audioClip,"audioClip:ended",this.onEnded)},componentWillUpdate:function(a,b){(b.isPlaying!==this.state.isPlaying||b.soundComplete!==this.state.soundComplete)&&(b.isPlaying?b.soundComplete||this.state.audioClip.play():this.state.audioClip.pause())},componentWillUnmount:function(){this.state.audioClip.destroy(),this.pause()},onEnded:function(){this.setState({soundComplete:!0}),this.setPlayerProp({isPlaying:!1}),this.props.model.executePlayerEvent("onmediacomplete")},onVolumeChanged:function(a,b){this.determineAudioVolume(b)},determineAudioVolume:function(a){this.setVolume(a*this.presentationVol)},isAtBatchStart:function(){return this.currTimelineSeekVal===this.currActionStartTime},isPastBatchStart:function(){return this.currTimelineSeekVal>this.currActionStartTime},isPlayingPastBatchStart:function(){return this.isPastBatchStart()&&this.props.timeline.isPlaying()},isAtOrPastBatchStart:function(){return this.isPastBatchStart()||this.isAtBatchStart()},setTimelineControl:function(a){this.setPlayerProp({isTimelineControlled:!!a.timelineLabel})},onActionPlay:function(a,b){this.setActionStartTime(b.time),(!b.isBatchAction||this.isAtBatchStart()||this.isPlayingPastBatchStart())&&(this.state.soundComplete===!0&&(this.setState({soundComplete:!1}),this.seek(this.currActionStartTime)),this.play()),this.setTimelineControl(b)},onActionPause:function(a,b){this.setActionStartTime(b.time),this.setTimelineControl(b),this.pause()},onActionToggle:function(a,b){this.state.isPlaying?this.onActionPause(a,b):this.onActionPlay(a,b)},onActionSeek:function(a,b){this.setActionStartTime(b.time),(!b.isBatchAction||this.isAtBatchStart())&&this.seek(a.position)},onActionSetVolume:function(a,b){var d=a.volume/100;this.setActionStartTime(b.time),this.presentationVol=d,this.determineAudioVolume(c.currentVolume())},play:function(){this.setPlayerProp({isPlaying:!0,resumeOnTimelinePlay:this.state.isTimelineControlled})},pause:function(){this.setPlayerProp({isPlaying:!1,resumeOnTimelinePlay:this.state.isTimelineControlled})},seek:function(a){var b=this.state.isPlaying;this.setState({isPlaying:!1}),this.state.audioClip.seek(a),b&&this.isAtOrPastBatchStart()&&this.setState({isPlaying:!0})},setVolume:function(a){this.state.audioClip.setVolume(a)},setActionStartTime:function(a){null==a&&this.state.soundComplete&&(a=0),null!=a&&(this.currActionStartTime=a)},calculatePlaybackDifferential:function(a){return a-(this.currActionStartTime||0)/1e3},onTimelineToggle:function(a){this[a]()},onTimelinePlay:function(){this.state.resumeOnTimelinePlay&&this.play()},onTimelinePause:function(){this.pause()},onTimelineSeek:function(a){a=this.calculatePlaybackDifferential(a),this.seek(a),this.currTimelineSeekVal=1e3*a},onTimelineReset:function(){this.setState({soundComplete:!1})},template:function(){return null}});return h}),define("views/player/RelativeNavControls",["require","lodash","react","helpers/constants","helpers/keyManager","views/mixins/baseView","views/player/mixins/appStateable","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("helpers/constants"),e=a("helpers/keyManager"),f=a("views/mixins/baseView"),g=a("views/player/mixins/appStateable"),h=a("helpers/utils"),i=function(a){return["on",a,"slide"].join("")},j=c.createClass({displayName:"RelativeNavControls",mixins:[f,g],getTabbableItems:function(){return b.forOwn(this.refs,function(a,b){a.dsFocusController=this}.bind(this)),[{idx:d.tabIndices.SKIP,item:this.refs.skipNav},{idx:d.tabIndices.PREV,item:this.refs.prev},{idx:d.tabIndices.NEXT,item:this.refs.next},{idx:d.tabIndices.SUBMIT,item:this.refs.submit}]},stringTitles:{prev:"prev",acc_previous:"acc_prev",next:"next",acc_next:"acc_next",submit:"submit"},stateableValues:{previous:void 0,next:void 0,submit:void 0},triggerNavEvent:function(a,b){this.props.slide.executePlayerEvent(i(a))},triggerSubmit:function(a){this.props.slide.executePlayerEvent("onsubmitslide")},stealFocus:function(a){this.setState({nextFocus:a===this.refs.next,prevFocus:a===this.refs.prev}),c.findDOMNode(a).focus()},releaseFocus:function(a){this.setState({nextFocus:!1,prevFocus:!1}),c.findDOMNode(a).blur()},actionKeyCallback:function(a){a===this.refs.skipNav?e.reset():a.props.onClick()},onTimerShow:function(a){h.showTimer(this,a)}});return j}),define("views/player/Menu",["require","lodash","react","views/mixins/baseView","helpers/utils","tween-lite","views/helpers/dom","helpers/pubSub"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=a("helpers/utils"),f=a("tween-lite"),g=a("views/helpers/dom"),h=a("helpers/pubSub"),i=function(a){return a.replace(/#|\//g,"")},j=c.createClass({displayName:"Menu",mixins:[d],subscriptions:{"mainWindow:slideChanged":"onSlideChanged"},stringTitles:{acc_search:"acc_search"},getInitialState:function(){return{visitedSlides:[],isSearchActive:!1,links:[]}},componentWillMount:function(){h.once("resume:setdata",this.updateVisitedSlides),this.setState({links:this.getInitialLinks()})},updateVisitedSlides:function(a){null!=a&&this.setState({visitedSlides:b.pluck(a,"absoluteId")})},onSearch:function(a){var b=this.findComponent("SearchOptions").performSearch(a);this.updateLinks(b)},onClearSearch:function(){this.setLinks(this.getInitialLinks(),!1)},updateLinks:function(a){this.setLinks(a,!0)},checkFlow:function(a){var b=g.closest(a.target,g.isLink),c=g.closest(a.target,g.isIconNode),d=b&&b.getAttribute("href");d&&(a.preventDefault(),this.shouldKillLink(d)||c||h.trigger("nextSlide:requesting",e.prefixWithPlayer(d.slice(1))))},setLinks:function(a,b){var c=this.find(".outline");f.to(c,.25,{opacity:0,onComplete:function(){this.setState({isSearchActive:b,links:a}),f.to(c,.25,{opacity:1})}.bind(this)})},getInitialLinks:function(){return this.props.model.outline().links()},isFlowType:function(a){return this.props.options.get("flow")===a;
},shouldKillLink:function(a){return this.isLockedFlow()?!0:this.isFreeFlow()?!1:!this.hasSlideBeenVisited(i(a))},hasSlideBeenVisited:function(a){return b.contains(this.state.visitedSlides,e.prefixWithPlayer(a))},addSlideToVisited:function(a){var c=a.absoluteId,d=a.getScene().absoluteId,e=b(this.state.visitedSlides.slice()||[]).without(d,c).push(d,c).value();return this.setState({visitedSlides:e}),this},onSlideChanged:function(a){this.addSlideToVisited(a)},hasAnyLink:function(a){return this.state.links.findDeep(a)}}),k=j.prototype;return k.isFreeFlow=b.partial(k.isFlowType,"free"),k.isRestrictedFlow=b.partial(k.isFlowType,"restricted"),k.isLockedFlow=b.partial(k.isFlowType,"locked"),j}),define("views/player/Glossary",["require","react","views/mixins/baseView","helpers/utils"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=(a("helpers/utils"),b.createClass({displayName:"Glossary",mixins:[c],stringTitles:{terms:"terms",definition:"definition",acc_definition:"acc_definition"},getInitialState:function(){return{curTitle:"",curDefinition:""}},termChosen:function(a){this.revealTerm(a.target.textContent)},revealTerm:function(a){var b=this.props.collection.findWhere({title:a});return this.setState({curTitle:b.get("title"),curDefinition:b.get("content")}),this}}));return d}),define("views/player/Notes",["require","lodash","react","views/mixins/baseView","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("views/mixins/baseView"),e=(a("helpers/utils"),c.createClass({displayName:"Notes",mixins:[d],subscriptions:{"mainWindow:slideChanged":"onSlideChanged"},getInitialState:function(){return{currentSlideNote:{},currentSlideTitle:""}},onSlideChanged:function(a){var b=this.props.collection.findWhere({slideId:a.fullId()});this.setState({currentSlideNote:b||{},currentSlideTitle:a.get("title")})},getNotesHtml:function(){var a=this.state.currentSlideNote,c=null!=a.get?a.get("content"):"",d=document.createElement("div");return d.innerHTML=c,b(d.childNodes).reject("firstChild").each(function(a){a.innerHTML="&nbsp;"}).value(),d.innerHTML}}));return e}),define("views/player/Resources",["require","react","views/mixins/baseView"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=b.createClass({displayName:"Resources",mixins:[c],stringTitles:{acc_resources:"acc_resources"}});return d}),define("views/player/TopTabsItem",["require","lodash","helpers/pubSub","react","views/mixins/baseView","views/mixins/mouseable","views/player/mixins/appStateable","views/events/eventHelper"],function(a){"use strict";var b=a("lodash"),c=a("helpers/pubSub"),d=a("react"),e=a("views/mixins/baseView"),f=a("views/mixins/mouseable"),g=a("views/player/mixins/appStateable"),h=a("views/events/eventHelper"),i=d.createClass({displayName:"TopTabsItem",mixins:[e,f,g],stateableValues:{resources:void 0,glossary:void 0},determineVisibilty:function(){return"resources"===this.props.name?this.state.stateable_resources:"glossary"===this.props.name?this.state.stateable_glossary:!0},componentDidMount:function(){this.registerEvent("clickoutside",this.onClickOutside)},componentDidUpdate:function(){var a=this.el.parentNode.querySelectorAll(".topmenu-item:not(.hidden) .topmenu-separator"),c=b(a).forEach(function(a){a.style.display=""}).last();c&&(c.style.display="none")},stringTitles:function(){return{title:this.props.config.properties.title||this.props.config.name}},getInitialState:function(){return{isLive:!1,title:this.props.config.properties.title}},onClickOutside:function(){this.isActive()&&this.deactivate()},onSelectMenuItem:function(){this.deactivate()},isActive:function(){return this.props.activeTab===this.props.config},activate:function(){return this.props.activateTab(this),this},deactivate:function(){return this.props.deactivateTab(this),this},toggle:function(){return this.isActive()?this.deactivate():this.activate(),this},onClick:function(a){h.isSpacebarClick(a)||this.onToggle()},onToggle:function(){var a=this.props.config.properties.data;a?c.trigger("customlink:event",a):this.toggle()},stealFocus:function(a){this.find("button").focus(),this.setState({tabFocused:!0})},releaseFocus:function(a){this.find("button").blur(),this.setState({tabFocused:!1})},actionKeyCallback:function(a){this.onToggle()}});return i}),define("views/player/TopTabs",["require","lodash","react","helpers/constants","views/mixins/baseView","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("react"),d=a("helpers/constants"),e=a("views/mixins/baseView"),f=a("helpers/utils"),g=function(a){return"getLink"+f.upperCaseFirst(a)},h={left:d.tabIndices.TOP_TAB_LEFT,right:d.tabIndices.TOP_TAB_RIGHT},i=c.createClass({displayName:"TopTabs",mixins:[e],getInitialState:function(){return{activeTab:null,tabs:[]}},getTabbableItems:function(){var a,c=[],d=h[this.props.align],e=b.range(0,10);return a=e.reduce(function(a,b){var e=this.refs["topTabsItem"+b];return e&&(a.push({idx:d++,item:e}),c.push({idx:d+4,item:e.refs.tabPanel})),a}.bind(this),[]),a.concat(c)},componentWillMount:function(){var a=g(this.props.align),c=this.state.tabs;c.push.apply(c,b.cloneDeep(this.props.model[a]()))},alignDir:function(){return"left"===this.props.align?"start":"end"},activateTab:function(a){this.setState({activeTab:a.props.config})},deactivateTab:function(a){this.setState({activeTab:null})}});return i}),define("views/player/SidebarMobile",["require","lodash","helpers/utils","helpers/constants","react","views/mixins/baseView","views/player/mixins/appStateable","polyfills/vendorOverrides","polyfills/detection"],function(a){"use strict";var b=a("lodash"),c=(a("helpers/utils"),a("helpers/constants")),d=a("react"),e=a("views/mixins/baseView"),f=a("views/player/mixins/appStateable"),g=a("polyfills/vendorOverrides"),h=a("polyfills/detection"),i=g.forceSingleRepaint||b.noop,j=function(a){return a.isLive=!0,a},k=function(a,c){var d=this.state.tabs.slice(),e=b.findWhere(d,{name:a});null!=e&&(e.isLive=c),this.setState({tabs:d})},l=c.tabIndices.SIDEBAR,m=d.createClass({displayName:"SidebarMobile",mixins:[e,f],isSidebar:!0,isFullyMounted:!1,subscriptions:{"detection:orientationChange":"onOrientationChange"},stateableValues:function(){return{outline:k.bind(this,"outline"),glossary:k.bind(this,"glossary"),transcript:k.bind(this,"transcript"),resources:k.bind(this,"resources")}},getTabbableItems:function(){var a,c,d=b.range(0,4),e=function(a,b,c){var d=this.refs[a+c];return d&&b.push({idx:l++,item:d}),b},f=e.bind(this,"sidebarTab"),g=e.bind(this,"sidebarPanel");return c=d.reduce(f,[]),a=d.reduce(g,[]),c.concat(a)},getInitialState:function(){var a=b.cloneDeep(this.props.model.getSidebar()).map(j),c=b.cloneDeep(this.props.model.getLinkLeft()).map(j),d=b.cloneDeep(this.props.model.getLinkRight()).map(j),e=a.concat(c).concat(d);return{activeTab:null,tabs:e}},selectTabOnOrientationChange:function(){"landscape"!==h.orientation||this.state.activeTab||this.setActiveTab(b.findWhere(this.state.tabs,{isLive:!0}))},componentWillMount:function(){this.selectTabOnOrientationChange()},onOrientationChange:function(){this.selectTabOnOrientationChange()},componentWillUpdate:function(a,b){b.activeTab!==this.state.activeTab&&this.setActiveTab(b.activeTab),i(this.el)},hasLiveTab:function(){return this.state.activeTab&&this.state.activeTab.isLive},setActiveTab:function(a){this.setState({activeTab:a})}});return m}),define("views/presentation/VectorTextHitArea",["require","views/helpers/dom","react","views/mixins/baseView"],function(a){"use strict";var b=a("views/helpers/dom"),c=a("react"),d=a("views/mixins/baseView"),e=c.createClass({displayName:"VectorTextHitArea",mixins:[d],componentDidMount:function(){this.areas={};var a=b.closest(this.el,function(a){return b.hasClass(a,"vector-text-item")});this.findAll(".link-highlight-area").forEach(function(b){var c=b.getAttribute("data-linkarea");this.areas[c]=b,a.insertBefore(b,a.firstElementChild)}.bind(this))},renderAs:function(a){var c="mouseover"===a.type,d=a.currentTarget.getAttribute("data-hotarea");b.setStyles(this.areas[d],{opacity:Number(c)})},onClickCallback:function(a){a.preventDefault(),this.props.onClickCallback(this.props.linkId)}});return e}),define("views/mixins/videoPlayer",["require","lodash","react"],function(a){"use strict";var b=a("lodash"),c=a("react"),d={propTypes:{currentVolume:c.PropTypes.number.isRequired,duration:c.PropTypes.number.isRequired,isPlaying:c.PropTypes.bool.isRequired,onDurationChange:c.PropTypes.func,onLoadedData:c.PropTypes.func,onPlaybackEnded:c.PropTypes.func,onTimeUpdate:c.PropTypes.func,posterFrameUrl:c.PropTypes.string.isRequired,src:c.PropTypes.string.isRequired},getInitialState:function(){return{isReady:!1}},componentDidMount:function(){this.setVolume(this.props.currentVolume),this.props.isPlaying&&this.state.isReady&&this.play()},componentDidUpdate:function(a,b){var c=a.isPlaying,d=this.props.isPlaying,e=b.isReady,f=this.state.isReady;this.setVolume(this.props.currentVolume),c===d&&e===f||!f||this[this.props.isPlaying?"play":"pause"]()},componentWillUnmount:function(){null!=this.videoEl&&this.unbindVideoEventListeners()},onEvent:function(a,b){null!=this[a]&&this[a](b),null!=this.props[a]&&this.props[a](b)},bindVideoEventListeners:function(){this.videoEl.addEventListener("timeupdate",this.onTimeUpdateHandler),this.videoEl.addEventListener("durationchange",this.onDurationChangeHandler),this.videoEl.addEventListener("ended",this.onPlaybackEndedHandler),this.videoEl.addEventListener("loadeddata",this.onLoadedDataHandler)},unbindVideoEventListeners:function(){this.videoEl.removeEventListener("timeupdate",this.onTimeUpdateHandler),this.videoEl.removeEventListener("durationchange",this.onDurationChangeHandler),this.videoEl.removeEventListener("ended",this.onPlaybackEndedHandler),this.videoEl.removeEventListener("loadeddata",this.onLoadedDataHandler)},setVolume:function(a){null!=this.videoEl&&(this.videoEl.volume=a)}};return d.onTimeUpdateHandler=b.partial(d.onEvent,"onTimeUpdate"),d.onDurationChangeHandler=b.partial(d.onEvent,"onDurationChange"),d.onPlaybackEndedHandler=b.partial(d.onEvent,"onPlaybackEnded"),d.onLoadedDataHandler=b.partial(d.onEvent,"onLoadedData"),d}),define("views/presentation/VideoPlayerFull",["require","react","views/mixins/baseView","views/mixins/videoPlayer"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("views/mixins/videoPlayer"),e=b.createClass({displayName:"VideoPlayerFull",mixins:[c,d],componentDidMount:function(){this.videoEl=this.refs.video.getDOMNode(),this.videoEl.volume=this.props.currentVolume,this.bindVideoEventListeners()},onLoadedData:function(){this.setState({isReady:!0})},play:function(){this.videoEl.play()},pause:function(){this.videoEl.pause()},seek:function(a){this.state.isReady&&(this.videoEl.currentTime=a)}});return e}),define("helpers/videoManager",["require"],function(a){"use strict";var b=document.createElement("video");b.setAttribute("src","");var c={el:b,prepare:function(){b.load(),b.play()}};return c}),define("views/presentation/VideoPlayerLimited",["require","react","views/mixins/baseView","helpers/videoManager","views/mixins/videoPlayer"],function(a){"use strict";var b=a("react"),c=a("views/mixins/baseView"),d=a("helpers/videoManager"),e=a("views/mixins/videoPlayer"),f=b.createClass({displayName:"VideoPlayerLimited",mixins:[c,e],getInitialState:function(){return{currentTime:0}},componentDidMount:function(){this.setState({isReady:!0})},componentWillUnmount:function(){this.release()},onTimeUpdate:function(){this.setState({currentTime:this.videoEl.currentTime})},play:function(){f.currentlyPlaying&&f.currentlyPlaying!==this&&(f.currentlyPlaying.pause(),f.currentlyPlaying.release()),this.claim(),this.videoEl.play()},pause:function(){null!=this.videoEl&&this.videoEl.pause()},seek:function(a){this.setState({currentTime:a}),null!=this.videoEl&&(this.videoEl.currentTime=a)},claim:function(){f.currentlyPlaying!==this&&(this.videoEl=d.el,this.videoEl.src=this.props.src,this.videoEl.currentTime=this.state.currentTime,this.videoEl.volume=this.props.currentVolume,this.bindVideoEventListeners(),this.refs.container.getDOMNode().appendChild(this.videoEl),f.currentlyPlaying=this)},release:function(){null!=this.videoEl&&(this.refs.container.getDOMNode().removeChild(this.videoEl),this.unbindVideoEventListeners(),this.videoEl=null,this.onPlaybackEndedHandler(),f.currentlyPlaying=null)}});return f}),define("views/presentation/VideoControls",["require","lodash","helpers/utils","react","views/mixins/baseView","polyfills/vendorOverrides"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("react"),e=a("views/mixins/baseView"),f=(a("polyfills/vendorOverrides"),d.createClass({displayName:"VideoControls",mixins:[e],stringTitles:{acc_play:"acc_play",acc_pause:"acc_pause"},onChange:b.noop,currentTimeFormatted:function(){return c.formatSecondsAsTime(this.props.currentTime||0)},durationFormatted:function(){return c.formatSecondsAsTime(this.props.duration||0)}}));return f}),define("views/presentation/VideoPlayer",["require","lodash","react","views/mixins/baseView"],function(a){"use script";var b=(a("lodash"),a("react")),c=a("views/mixins/baseView"),d=b.createClass({displayName:"VideoPlayer",mixins:[c],propTypes:{currentVolume:b.PropTypes.number.isRequired,duration:b.PropTypes.number.isRequired,isPlaying:b.PropTypes.bool.isRequired,onDurationChange:b.PropTypes.func,onLoadedData:b.PropTypes.func,onPlaybackEnded:b.PropTypes.func,onTimeUpdate:b.PropTypes.func,posterFrameUrl:b.PropTypes.string.isRequired,src:b.PropTypes.string.isRequired},play:function(){this.refs.videoPlayer.play()},pause:function(){this.refs.videoPlayer.pause()},seek:function(a){this.refs.videoPlayer.seek(a)}});return d}),define("templates/templates",["require","react","views/SvgLibrary","views/player/Topbar","views/presentation/MainWindow","views/player/Sidebar","views/SvgLibrary","views/presentation/MainWindow","views/player/MobileStartOverlay","views/player/PlaybackControls","views/player/VolumeControls","views/player/SlideRelatedActions","views/player/PlaybackControls","views/player/SlideRelatedActions","views/presentation/VectorTextItem","views/presentation/VectorTextItem","helpers/svg/svgUtils","views/presentation/VectorTextItem","helpers/svg/svgUtils","views/presentation/VectorTextItem","views/presentation/DropListItem","helpers/svg/svgUtils","views/presentation/LinearBackgroundGradient","views/presentation/SlideObject","helpers/utils","views/presentation/SlideObject","helpers/utils","helpers/svg/svgUtils","views/presentation/PresentationOverlay","views/presentation/SlideContainer","views/player/SlideRelatedActions","views/player/Icon","views/presentation/PresentationOverlay","views/presentation/SlideContainer","views/player/SlideRelatedActions","views/player/Icon","views/presentation/SlideContainer","views/player/Bottombar","views/presentation/SlideContainer","views/player/UiMobile","views/player/SearchOptions","views/player/MenuLinksList","views/player/SearchFooter","polyfills/detection","views/player/MenuLinksListItem","views/player/MenuLinksList","views/player/Icon","views/presentation/SlideContainer","views/player/Icon","helpers/svg/svgUtils","polyfills/detection","views/player/PlayPauseButton","views/player/PlaybackProgress","views/player/PlaybackResetButton","views/player/PlayPauseButton","views/player/PlaybackProgress","views/player/PlaybackResetButton","views/player/Icon","views/player/Icon","views/player/Timer","polyfills/detection","helpers/utils","views/presentation/SlideObject","views/presentation/VectorSlideObject","views/player/Icon","views/player/Icon","views/presentation/SequenceCtrlDrop","views/presentation/SequenceCtrlDragItem","views/player/TabPanel","views/player/SidebarTab","views/player/Icon","views/player/TabPanel","views/player/SidebarTab","views/presentation/SlideLayer","views/presentation/SlideBackground","views/presentation/VectorSlideBackground","views/presentation/LinearBackgroundGradient","helpers/svg/svgUtils","helpers/utils","views/presentation/SlideObject","views/presentation/AudioPlayer","views/presentation/SlideBackground","views/player/RelativeNavControls","views/player/RelativeNavControls","views/presentation/SlideObject","views/player/Icon","views/player/Menu","views/player/Glossary","views/player/Notes","views/player/Resources","views/presentation/VectorSlideObject","helpers/svg/svgUtils","polyfills/detection","views/player/TopTabsItem","views/player/TabPanel","views/player/TopTabs","views/player/Timer","views/player/Icon","views/player/Bottombar","views/player/SidebarMobile","views/presentation/TextShadowFilter","views/presentation/VectorTextItem","views/presentation/VectorTextHitArea","helpers/utils","views/player/Icon","views/presentation/VideoPlayerFull","helpers/utils","views/presentation/VideoPlayerLimited","views/presentation/VideoControls","views/presentation/VideoPlayer","views/player/Icon"],function(a){var b=a("react");return{App:function(){var c=a("views/SvgLibrary"),d=a("views/player/Topbar"),e=a("views/presentation/MainWindow"),f=a("views/player/Sidebar"),g=this.props.player.get("fontscale")+"%",h=["presentation-wrapper","grid-row","inflexible",this.isRtl(this.props.player.get("textdirection"))?"text-direction-rtl":"","cs-base","opaque","cs-"+this.props.state.currentScheme(),"fn-"+this.props.state.currentScheme(),this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" ");return b.createElement("div",{id:"presentation-container",className:"inflexible grid-col grid-center non-eventable"},b.createElement("div",{id:"presentation",style:{width:this.props.presentation.display().get("width"),height:this.props.presentation.display().get("height"),fontSize:g,lineHeight:g},className:h},b.createElement("div",{id:"overlay",style:{left:0,pointerEvents:"none",position:"absolute",width:this.props.presentation.display().get("width"),height:this.props.presentation.display().get("height")}}),b.createElement(c,{ref:"svgLib"}),b.createElement("div",{ref:"primary",className:"area-primary cs-area-primary grid-col",role:"main"},!!this.hasTopBar()&&b.createElement(d,{ref:"topbar",model:this.props.player,timers:this.props.presentation.timers()}),b.createElement(e,{ref:"mainWindow",player:this.props.player})),this.hasSidebar()&&b.createElement(f,{ref:"sidebar",model:this.props.player}),b.createElement("div",{id:"presentation-canvas"})),b.createElement("div",{id:"overlay-container-controls",className:"non-eventable"}),b.createElement("div",{id:"overlay-container",className:"non-eventable"}),b.createElement("div",{id:"zoomimage-container"}),b.createElement("div",{id:"mask-library"}),b.createElement("div",{id:"collision-library"},b.createElement("canvas",null)))},AppMobile:function(){var c=a("views/SvgLibrary"),d=a("views/presentation/MainWindow"),e=a("views/player/MobileStartOverlay"),f=[this.isRtl(this.props.player.get("textdirection"))?"text-direction-rtl":"","opaque"].join(" ");return b.createElement("div",{id:"presentation-container",className:"non-eventable"},b.createElement("div",{id:"presentation",className:f},b.createElement(d,{ref:"mainWindow",player:this.props.player,timers:this.props.presentation.timers()}),b.createElement("div",{id:"presentation-canvas"}),b.createElement("div",{id:"overlay"}),b.createElement("div",{id:"overlay-mobile"},b.createElement(e,{title:this.getPath("props.player.controlOptions.sidebarOptions.titleText")}))),b.createElement("div",{id:"overlay-container-controls",className:"non-eventable"}),b.createElement("div",{id:"overlay-container",className:"non-eventable"}),b.createElement("div",{id:"zoomimage-container"}),b.createElement("div",{id:"mask-library"}),b.createElement("div",{id:"collision-library"},b.createElement("canvas",null)),b.createElement(c,{ref:"svgLib"}))},Bottombar:function(){var c=a("views/player/PlaybackControls"),d=a("views/player/VolumeControls"),e=a("views/player/SlideRelatedActions");return b.createElement("div",{className:"controls grid-row inflexible"},this.hasVolume()&&b.createElement(d,{volumeStrength:this.props.volumeStrength,ref:"volumeControls"}),this.hasSeekbar()&&b.createElement(c,{ref:"playbackControls",slide:this.props.slide,readonly:this.isReadOnly()}),b.createElement(e,{ref:"slideRelatedActions",slide:this.props.slide,isRtl:"rtl"===this.props.player.get("textdirection").toLowerCase()}))},BottombarMobile:function(){var c=a("views/player/PlaybackControls"),d=a("views/player/SlideRelatedActions");return b.createElement("div",{className:"slide-controls"},this.hasSeekbar()&&this.props.slide?b.createElement(c,{ref:"playbackControls",slide:this.props.slide,timeline:this.props.slide&&this.props.slide.currentTimeline(),readonly:this.isReadOnly()}):b.createElement("div",{className:"playback-controls"}),b.createElement(d,{ref:"slideRelatedActions",slide:this.props.slide,player:this.props.player,timers:this.props.timers}))},ButtonSlideObject:function(){var c=a("views/presentation/VectorTextItem"),d=this.getPath("props.model.data.textdata.vectortext.pr")||{};return b.createElement("button",{type:"button","data-accepts":"events",className:"btn slide-object-button cs-button"},b.createElement("svg",{className:"slide-object-button-text"},b.createElement(c,{ref:"vectortext",commandsetId:d.i,pathLib:d.l})))},DragdropSlideObject:function(){var c=a("views/presentation/VectorTextItem"),d=a("helpers/svg/svgUtils"),e=this.getPath("props.model.style"),f=this.getPath("props.model.height"),g=this.getPath("props.model.width"),h=this.getPath("props.model.kind"),i=this.props.notchWidth,j=this.props.notchHeight,k=i+1,l=j+1,m=this.state.hovered&&"droparea"!==h,n=d.buildUrl(m?"dragdrop-hover-gradient":"dragdrop-gradient"),o=m?"slide-object-dragitem-hover":"",p=this.state.collision&&"droparea"===h,q="dragitem"===h,r=[["M "+k,0].join(","),["L"+g,0].join(","),["L"+g,f].join(","),["L"+k,f].join(","),["L"+k,f-l].join(","),["L 1",f-l].join(","),["L 1",l].join(","),["L"+k,l].join(","),"Z"].join(" "),s=["M 0,0",["L"+g,0].join(","),["L"+g,j].join(","),["L"+(g-i),j].join(","),["L"+(g-i),f-j].join(","),["L"+g,f-j].join(","),["L"+g,f].join(","),["L 0",f].join(","),"Z"].join(" "),t={visibility:this.state.backgroundVisible?"visible":"hidden",strokeWidth:this.state.reviewStroke&&2,stroke:this.state.reviewStroke?this.state.reviewStroke:""};return b.createElement("svg",{width:g,height:f,"data-xmlns-xlink":"http://www.w3.org/1999/xlink",className:["slide-object-dragdrop","slide-object-dragdrop-"+e,"draggable",o].join(" ").trim(),onMouseEnter:this.didMouseOver,onMouseLeave:this.didMouseOut,onTouchStart:this.didMouseOver,onTouchEnd:this.didMouseOut},"wordbank"===e?b.createElement("rect",{width:g-1,height:f-1,rx:this.state.wordbankRadius,ry:this.state.wordbankRadius,fill:n,className:"slide-object-dragdrop-shape",filter:!this.state.reviewStroke&&"url(#dragdrop-inner-stroke)",style:t,transform:"translate(0.5, 0.5)"}):b.createElement("path",{d:q?r:s,className:"slide-object-dragdrop-shape",fill:n,style:p?{strokeWidth:3}:{},filter:!p&&"url(#dragdrop-inner-stroke)",strokeDasharray:q&&!this.state.dropped?"1,1":"",transform:"translate(0.5, 0.5)"}),this.state.hoverStroke&&b.createElement("rect",{width:g-1,height:f-1,rx:this.state.wordbankRadius,ry:this.state.wordbankRadius,fill:"none",stroke:"#bafbfb",transform:"translate(2,1.5) scale(0.995, 0.92)"}),b.createElement("g",{transform:d.transformTranslate(this.props.model.xOff||0,this.props.model.yOff||0)},null!=this.state.textCommandsetId&&b.createElement(c,{ref:"vtext",pathLib:this.state.textPathLibId,commandsetId:this.state.textCommandsetId})),"matching"===e&&this.state.reviewDot&&b.createElement("g",{className:"dragdrop-review-dot",transform:"translate(8,8)"},b.createElement("circle",{cx:"0",cy:"0",r:"8",className:"dragdrop-review-dot-"+this.state.reviewDot}),b.createElement("circle",{cx:"0",cy:"0",r:"7",className:"dragdrop-review-dot-"+this.state.reviewDot}),b.createElement("text",{textAnchor:"middle",y:"4"},b.createElement("tspan",null,this.getPath("props.model.reviewdata")))))},DropListItem:function(){var c=a("views/presentation/VectorTextItem"),d=a("helpers/svg/svgUtils");return b.createElement("g",{className:"drop-list-item",transform:d.transformTranslate(0,this.props.yOff),onMouseOver:this.didMouseOver,onMouseOut:this.didMouseOut,onMouseUp:this.onClick,onTouchStart:this.didMouseOver,onTouchEnd:_.flow(this.onClick,this.didMouseOut)},b.createElement("rect",{width:this.props.width,height:this.props.height,className:this.fillColorClass()}),b.createElement(c,{ref:"vectortext",commandsetId:this.props.pr.i,pathLib:this.props.pr.l}))},DropListSlideObject:function(){var c=a("views/presentation/VectorTextItem"),d=a("views/presentation/DropListItem"),e=a("helpers/svg/svgUtils"),f=this.state.reviewWidth||this.getPath("props.model.width"),g=this.getPath("props.model.height"),h=this.state.pr,i=8,j=25,k=f-j+1,l=this.state.hovered?"#d5ffff":"white",m="#cecece",n=("item-list-clip"+this.props.model.id,g+8),o=g+n*this.itemslist.length;return b.createElement("div",{className:"drop-list"},b.createElement("div",{className:["drop-list-drop-down",this.state.dropDownScrollable].join(" "),style:{width:f,height:o,borderColor:m,display:this.state.display,borderRadius:2*i}},b.createElement("svg",{className:"eventable",width:f,height:o,"data-xmlns-xlink":"http://www.w3.org/1999/xlink"},b.createElement("g",null,this.itemslist.map(function(a,c){return b.createElement(d,{ref:"item"+c,key:a.textdata.uniqueId,idx:c,width:f,height:n,yOff:g+n*c,pr:a.textdata.vectortext.pr,selected:this.itemSelected})}.bind(this))))),b.createElement("div",{className:"drop-list-top-container"},b.createElement("svg",{width:f,height:g,"data-xmlns-xlink":"http://www.w3.org/1999/xlink",style:{zIndex:100}},b.createElement("g",{className:"drop-list-top eventable",onMouseDown:this.onShowList,onMouseOver:this.didMouseOver,onMouseOut:this.didMouseOut,onTouchStart:_.flow(this.didMouseOver,this.onShowList),onTouchEnd:this.didMouseOut},b.createElement("rect",{width:f-1,height:g-1,rx:i,ry:i,stroke:m,fill:"white"}),b.createElement("path",{d:e.rightRoundedRectPath(k,1,j-3,g-3,i),fill:"url(#drop-list-gradient)",stroke:l}),b.createElement("path",{d:["M",f-j,0,"v",g-1].join(" "),stroke:"#cecece"}),b.createElement("g",{transform:e.transformTranslate(k+5.5,i+1)},b.createElement("path",{d:["M",0,0,"L",10,0,5,5,0,0].join(" "),fill:"#494949",stroke:"rgba(255, 255, 255, 0.8)"})),b.createElement(c,{ref:"vectortext",commandsetId:h.i,pathLib:h.l})))))},ExpandingLabelSlideObject:function(){var c=a("views/presentation/LinearBackgroundGradient"),d=a("views/presentation/SlideObject");return b.createElement("div",{className:"expanding-label-container",style:{width:this.props.playerProps.width,height:this.props.playerProps.height}},b.createElement("svg",{className:"expanding-label-path",style:{position:"absolute",left:this.labelTranslate.offX,top:this.labelTranslate.offY,width:this.labelSize.width,height:this.labelSize.height}},this.props.model.background()&&b.createElement("defs",null,b.createElement(c,{patternFillId:this.patternFillId(),model:this.props.model})),b.createElement("g",{transform:["translate(",this.labelTranslate.x,", ",this.labelTranslate.y,")"].join("")},b.createElement("path",{d:this.state.labelPath,stroke:this.props.model.get("borderColor")?this.props.model.get("borderColor"):"none",fill:this.props.model.get("background")?["url(#",this.patternFillId(),")"].join(""):"white"}))),b.createElement("div",{className:["expanding-label expanding-label-",this.alignment].join(""),style:{width:this.props.playerProps.width}},b.createElement("div",{className:"expanding-label-content"},this.svg(),b.createElement("div",{className:this.shouldShowContent()?"shown":"hidden"},this.props.model.objects().map(function(a,c){return b.createElement(d,{ref:"obj"+c,key:a.cid,model:a,playerProps:this.props.playerProps,parent:this})}.bind(this))))))},Glossary:function(){return b.createElement("div",{className:"panel-content glossary bleed cs-glossary",role:"complementary"},b.createElement("section",{className:"panel-section"},b.createElement("header",{className:"panel-section-header"},b.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18nterms),b.createElement("hr",{className:"cs-diva diva"})),b.createElement("div",{className:"panel-section-content cs-scrolling-panel"},b.createElement("ul",{className:"choice-list"},this.props.collection.map(function(a,c){return b.createElement("li",{className:"term cs-term "+(this.state.curTitle===a.get("title")?"cs-selected active":""),key:c},b.createElement("button",{className:"choice-list-trigger",onClick:this.termChosen},a.get("title")))}.bind(this))))),b.createElement("section",{className:"panel-section cs-editor"},b.createElement("header",{className:"panel-section-header"},b.createElement("hr",{className:"cs-divb divb"}),b.createElement("hr",{className:"cs-divc divc"}),b.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18ndefinition),b.createElement("hr",{className:"cs-diva diva"})),b.createElement("div",{className:"panel-section-content cs-scrolling-panel",id:"glossary-definition"},b.createElement("dl",{className:"unstyled"},b.createElement("dt",{className:"term-word hidden"},this.state.curTitle),b.createElement("dd",{className:"term-definition html-reset cs-editor-html"},this.state.curDefinition.split(/\n/).map(function(a,c){return b.createElement("p",{key:c},a)}))))))},GlossaryMobile:function(){var c=a("helpers/utils");return b.createElement("div",{className:"glossary"},b.createElement("header",{className:"panel-header panel-section-header"},b.createElement("h4",{className:"panel-section-heading"},this.state.i18nterms)),b.createElement("div",{className:"panel-section-content",role:"complementary"},b.createElement("dl",null,this.props.collection.map(function(a,d){return b.createElement("div",{key:d},b.createElement("dt",null,a.get("title")),b.createElement("dd",{dangerouslySetInnerHTML:{__html:c.stripTags(a.get("content"))}}))}.bind(this)))))},GroupingSlideObject:function(){var c=a("views/presentation/SlideObject");return b.createElement("div",{className:"group"},this.props.model.objects().map(function(a,d){return b.createElement(c,{ref:"obj"+d,key:a.cid,onScrollFocus:this.props.onScrollFocus,model:a,parent:this})}.bind(this)))},ImageSlideObject:function(){var c=a("helpers/utils"),d=a("helpers/svg/svgUtils"),e=this.props.model.get("xOffset"),f=this.props.model.get("yOffset"),g={width:this.props.playerProps.width,height:this.props.playerProps.height,pointerEvents:"none"},h={left:this.props.model.get("btnxpos"),top:this.props.model.get("btnypos"),pointerEvents:"all"};return h[this.cssTransform]=["translate(-50%, -50%)",d.transformTranslate(c.pxify(-e),c.pxify(-f)),d.transformRotate(-this.props.playerProps.Rotation+"deg")].join(" "),b.createElement("div",{className:"image-container slideobject-maskable","data-accepts":"events",style:{transform:d.transformTranslate(c.pxify(e),c.pxify(f))}},this.props.model.isZoomable()?b.createElement("div",null,b.createElement("img",{src:this.imageUrl,onClick:this.zoom,onTouchEnd:this.zoom}),b.createElement("div",{className:"zoom",onClick:this.zoom,style:g},b.createElement("img",{className:"zoom-image",style:h,src:this.props.model.get("zoomiconurl")}))):b.createElement("img",{src:this.imageUrl}))},LightBox:function(){var c=a("views/presentation/PresentationOverlay"),d=a("views/presentation/SlideContainer"),e=a("views/player/SlideRelatedActions"),f=a("views/player/Icon");return b.createElement("span",null,b.createElement(c,null),b.createElement("div",{className:["cs-",this.getPath("props.state.currentScheme")," lightbox-wrapper"].join("")},b.createElement("div",{className:"cs-infopanelpopup lightbox wn-"+this.props.model.id,style:{width:this.props.model.get("width")}},b.createElement("button",{ref:"close",className:"lightbox-close-btn btn-unstyled",onClick:this.close},b.createElement(f,{type:"close"})),b.createElement("div",{className:"slide-wrapper",style:{height:this.slideWrapperHeight}},b.createElement(d,{ref:"slideContainer",currentSlide:this.state.currentSlide,
scale:this.slideScale,windowId:this.props.model.id})),this.props.hasControls&&b.createElement(e,{ref:"actions",slide:this.state.currentSlide}))))},LightBoxMobile:function(){var c=a("views/presentation/PresentationOverlay"),d=a("views/presentation/SlideContainer"),e=a("views/player/SlideRelatedActions"),f=a("views/player/Icon");return b.createElement("div",null,b.createElement(c,null),b.createElement("div",{className:"lightbox wn-"+this.props.model.id},b.createElement("button",{ref:"close",className:"lightbox-close-btn btn-unstyled",onClick:this.close},b.createElement(f,{type:"close"})),b.createElement("div",{className:"slide-wrapper",style:{width:this.props.model.get("width")}},b.createElement(d,{ref:"slideContainer",lightboxed:!0,currentSlide:this.state.currentSlide,scale:this.slideScale,windowId:this.props.model.id}),this.props.hasControls&&b.createElement(e,{ref:"actions",slide:this.state.currentSlide}))))},LinearBackgroundGradient:function(){return b.createElement("linearGradient",{id:this.props.patternFillId,gradientTransform:["rotate(",this.props.model.background().fill.rotation," 0.5 0.5)"].join("")},this.props.model.background().fill.colors.map(function(a,c){return b.createElement("stop",{key:c,offset:this.stopPct(a)+"%",stopColor:this.toRgba(a)})}.bind(this)))},MainWindow:function(){var c=a("views/presentation/SlideContainer"),d=a("views/player/Bottombar"),e={margin:this.state.hasTabs?"0 auto":"0",width:this.state.currentSlide?this.state.currentSlide.get("width"):0};return b.createElement("div",{id:"main-window",style:e},b.createElement(c,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame"}),this.state.currentSlide&&this.hasBottomBar()&&b.createElement(d,{ref:"bb",player:this.props.player,slide:this.state.currentSlide}))},MainWindowMobile:function(){var c=a("views/presentation/SlideContainer"),d=a("views/player/UiMobile");return b.createElement("div",{ref:"primary",role:"main",id:"main-window"},b.createElement(c,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame"}),b.createElement(d,{model:this.props.player,currentSlide:this.state.currentSlide,timers:this.props.timers}))},Menu:function(){var c=a("views/player/SearchOptions"),d=a("views/player/MenuLinksList"),e=a("views/player/SearchFooter"),f=a("polyfills/detection"),g=this.props.options.get("wrapListItems"),h=this.props.options.get("autonumber");return b.createElement("div",{className:"outline-panel cs-outline"},f.isMobile&&b.createElement("div",{className:"mobile-menu-title"},this.props.title),this.props.hasSearch&&b.createElement(c,{ref:"searchOptions",onResults:"updateLinks",visible:this.state.isSearchActive,visitedSlides:this.state.visitedSlides,searchData:this.props.model.get("search"),notesData:this.props.notesData,links:this.props.model.outline().links()}),b.createElement("div",{className:"panel-content panel-content-menu",role:"directory"},b.createElement("nav",{className:["outline",h===!0?"nested-numbering":"",g===!0?"wrap-list":""].join(" "),role:"tree",onClick:this.checkFlow},b.createElement(d,{ref:"menuLinksList",showChildren:!this.state.isSearchActive,showDisplayText:!this.state.isSearchActive,collapsible:this.props.options.get("autocollapse"),visitedSlides:this.state.visitedSlides,wrap:g,hasAnyLink:this.hasAnyLink,tips:this.props.options.get("tooltips"),autonumber:h,links:this.state.links,onSelectMenuItem:this.props.onSelectMenuItem}))),this.props.hasSearch&&b.createElement(e,{ref:"searchFooter",showClearButton:this.state.isSearchActive,onSearch:this.onSearch,onClearSearch:this.onClearSearch}))},MenuLinksList:function(){var c=a("views/player/MenuLinksListItem");return b.createElement("ol",{className:"outline-list"},this.props.links.map(function(a,d){return b.createElement(c,{link:a,key:d,ref:"menuLinksListItem"+d,showChildren:this.props.showChildren,showDisplayText:this.props.showDisplayText,collapsible:this.props.collapsible,tips:this.props.tips,hasAnyLink:this.props.hasAnyLink,wrap:this.props.wrap,autonumber:this.props.autonumber,visitedSlides:this.props.visitedSlides,onSelectMenuItem:this.props.onSelectMenuItem})}.bind(this)))},MenuLinksListItem:function(){var c,d=a("views/player/MenuLinksList"),e=a("views/player/Icon"),f=this.props.link.get("slideid"),g=this.props.link.get("slidetitle"),h=this.props.link.get("displaytext");return g=null==g?"":g,h=null==h?"":h,c=this.props.showDisplayText||!g?h.toString():g.toString(),b.createElement("li",{className:[this.state.expanded===!1?"outline-links-collapse":"",this.props.link.links().length>0?"item-collapsible":"",this.props.wrap===!0?"wrap-item":""].join(" ")},b.createElement("a",{className:["cs-listitem",this.isSlideSelected(f)?"cs-selected":"",this.isSlideViewedOrCurrentParent(f)?"cs-viewed":""].join(" "),href:this.linkSlide(f),onClick:this.onSelectMenuItem,title:this.props.wrap===!1&&this.props.tips===!0?(this.props.autonumber?this.getAutoNumber():"")+c:""},this.props.showChildren&&this.props.link.links().length>0&&b.createElement("span",{className:"svg-icon-wrapper icon-carrot",onClick:this.toggle},b.createElement(e,{type:"carrot"})),b.createElement("span",null,c)),this.props.showChildren&&this.props.link.links().length>0&&b.createElement(d,{ref:"menuLinksList",showChildren:this.props.showChildren,showDisplayText:this.props.showDisplayText,collapsible:this.props.collapsible,tips:this.props.tips,wrap:this.props.wrap,hasAnyLink:this.props.hasAnyLink,autonumber:this.props.autonumber,visitedSlides:this.props.visitedSlides,links:this.props.link.links(),onSelectMenuItem:this.props.onSelectMenuItem}))},MessageWindow:function(){var c=a("views/presentation/SlideContainer");return b.createElement("span",null,b.createElement("div",{className:"overlay overlay-message"}),b.createElement("div",{className:["message-window ",this.windowType(),"cs-window"].join(" "),style:{width:this.getPath("props.model.width"),height:this.getPath("props.model.height")}},b.createElement("header",{className:"message-window-header"},b.createElement("h3",{className:"message-window-heading",dangerouslySetInnerHTML:{__html:this.getPath("state.currentSlide.title")||""}}),b.createElement("hr",{className:"cs-diva"}),b.createElement("hr",{className:"cs-divb"})),b.createElement(c,{ref:"slideContainer",shouldScale:this.isScaleable,windowType:this.windowType,currentSlide:this.state.currentSlide,windowId:"MessageWnd"})))},MobileStartOverlay:function(){return b.createElement("div",{className:"mobile-start-overlay "+(this.state.visible?"shown":"hidden")},b.createElement("div",{className:"mobile-start-overlay-title"},this.props.title),b.createElement("svg",{viewBox:"-10 -10 80 80",onClick:this.onStart},b.createElement("path",{d:"M30,0C13.431,0,0,13.431,0,30s13.431,30,30,30s30-13.431,30-30S46.569,0,30,0z M22,43V17l20,13L22,43z"})))},Notes:function(){return b.createElement("div",{className:"cs-transcript transcript"},b.createElement("header",{className:"panel-header panel-section-header"},b.createElement("h4",{className:"panel-heading panel-section-heading cs-heading"},this.state.currentSlideTitle),b.createElement("hr",{className:"cs-div panel-relative-hr"})),b.createElement("div",{className:"panel-content cs-editor",role:"complementary"},b.createElement("p",{className:"cs-editor-html editor-html",dangerouslySetInnerHTML:{__html:this.getNotesHtml()}})))},ObjectSlideBackground:function(){return b.createElement("pattern",{patternUnits:"userSpaceOnUse",height:this.getSlideHeight(),width:this.getSlideWidth(),id:this.props.id,patternTransform:[this.props.patternTransform," translate(",this.getX(),", ",this.getY(),") rotate(",this.getRot(),", ",this.getXRot(),", ",this.getYRot(),")"].join("")},b.createElement("use",{"data-xlink-href":"#slide-bg-"+this.getSlideId()}))},PlaceHolderSlideObject:function(){return b.createElement("div",{className:"placeholder-object",style:{width:this.props.model.width,height:this.props.model.height}},this.props.model.kind())},PlayPauseButton:function(){var c=a("views/player/Icon"),d=a("helpers/svg/svgUtils"),e=a("polyfills/detection"),f=this.state.isPlaying?"pause":"play";return b.createElement("button",{className:"cs-button btn-unstyled force-unstyled inflexible "+(this.state.stateable_pauseplay?"":"hidden ")+(this.state.tabFocused?"focused":""),onClick:this.toggle},e.isMobile&&b.createElement("svg",{className:"circle-progress",width:"38",height:"38",viewBox:"0 0 38 38"},b.createElement("circle",{cx:"17",cy:"17",r:"17",fill:"#464646",stroke:"none"}),b.createElement("path",{d:d.wheelPath(17,17,17,0,360*this.state.progress),transform:"rotate(-90 17 17)",fill:"white",stroke:"none"}),b.createElement("circle",{cx:"17",cy:"17",r:"14.5",fill:"#31373a",stroke:"none"})),b.createElement(c,{key:f,type:f}),b.createElement("span",{className:"accessibility"},this.state.isPlaying?this.state.i18nacc_pause:this.state.i18nacc_play))},PlaybackControls:function(){var c=a("views/player/PlayPauseButton"),d=a("views/player/PlaybackProgress"),e=a("views/player/PlaybackResetButton");return b.createElement("div",{className:"controls-group control-bar cs-seekcontrol progress-control"},b.createElement("div",{className:"grid-row"},b.createElement(c,{ref:"playPauseButton",timeline:this.state.timeline}),b.createElement(d,{ref:"playbackProgress",timeline:this.state.timeline,readonly:this.props.readonly}),b.createElement(e,{ref:"playbackResetButton",timeline:this.state.timeline})))},PlaybackControlsMobile:function(){var c=a("views/player/PlayPauseButton"),d=a("views/player/PlaybackProgress");a("views/player/PlaybackResetButton");return b.createElement("div",{className:"playback-controls"},b.createElement(c,{ref:"playPauseButton",timeline:this.props.timeline}),b.createElement(d,{ref:"playbackProgress",timeline:this.props.timeline,readonly:this.props.readonly}),b.createElement("div",{className:"playback-timer"},"3:27"))},PlaybackProgress:function(){var a=["progress-bar cs-seekbar",this.state.tabFocused?"focused":"",this.props.readonly?"read-only-mobile":""].join(" ");return b.createElement("div",{className:a},b.createElement("div",{className:"cs-seekbar-inner progress-bar-inner"},b.createElement("div",{className:"cs-seek progress-bar-seek"},b.createElement("div",{className:"cs-fill progress-bar-fill",style:{width:100*this.state.progress+"%"}})),b.createElement("input",{type:"range",min:"0",max:"1",ref:"input",onChange:this.onSeek,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,disabled:this.props.readonly,value:this.state.progress,step:"0.001"})))},PlaybackResetButton:function(){var c=a("views/player/Icon"),d="cs-button btn-unstyled force-unstyled inflexible "+(this.state.stateable_replay?"":"hidden ")+(this.state.tabFocused?"focused":"");return b.createElement("button",{className:d,onClick:this.resetPlayhead},b.createElement(c,{type:"playbackReset"}),b.createElement("span",{className:"accessibility"},this.state.i18nacc_replay))},PresentationOverlay:function(){return b.createElement("div",{className:"overlay "+this.displayClass()})},RelativeNavControls:function(){var c=a("views/player/Icon"),d=a("views/player/Timer"),e=a("polyfills/detection"),f=this.getPath("props.timers");return b.createElement("span",{className:"relative-nav"},b.createElement("a",{"aria-label":"skip navigation",className:"skip-nav",ref:"skipNav"}),b.createElement("button",{ref:"prev",className:"btn cs-button inflexible "+(this.state.stateable_previous?"":"hidden")+(this.state.prevFocus?"focused":""),onClick:this.triggerNavEvent.bind(this,"prev")},b.createElement("span",{className:"btn-icon"},b.createElement(c,{type:this.props.isRtl?"next":"prev"})),b.createElement("span",{className:"text"},this.state.i18nprev)),b.createElement("button",{ref:"next",className:"btn cs-button inflexible "+(this.state.stateable_next?"":"hidden")+(this.state.nextFocus?"focused":""),onClick:this.triggerNavEvent.bind(this,"next")},b.createElement("span",{className:"text"},this.state.i18nnext),b.createElement("span",{className:"btn-icon"},b.createElement(c,{type:this.props.isRtl?"prev":"next"}))),b.createElement("button",{ref:"submit",className:["btn cs-button inflexible",this.state.stateable_submit?"":"hidden",this.state.tabFocused?"focused":""].join(" "),onClick:this.triggerSubmit},e.isMobile&&b.createElement("span",{className:"btn-icon"},b.createElement(c,{type:"check"})),b.createElement("span",{className:"text"},this.state.i18nsubmit)),e.isMobile&&null!=f&&f.map(function(a,c){return b.createElement(d,{ref:"timer"+c,key:c,model:a,onTimerShow:this.onTimerShow,options:this.getPath("props.player.controlOptions.sidebarOptions")})}.bind(this)))},Resources:function(){var c=a("helpers/utils");return b.createElement("div",{className:"cs-resource resources"},b.createElement("header",{className:"panel-header panel-section-header html-reset"},b.createElement("h4",{className:"panel-section-heading",dangerouslySetInnerHTML:{__html:c.stripTagsMobile(this.props.model.get("description"))||""}}),b.createElement("hr",{className:"cs-separator panel-relative-hr"})),b.createElement("div",{className:"panel-content",role:"complementary"},b.createElement("ul",{className:"resources-list unstyled"},this.props.model.resources().map(function(a,c){return b.createElement("li",{className:"resource",key:c},b.createElement("a",{href:a.get("url"),className:"cs-listitem",target:"_blank"},a.get("title")))}.bind(this)))))},ScrollAreaSlideObject:function(){var c=a("views/presentation/SlideObject"),d=a("views/presentation/VectorSlideObject");return b.createElement("div",{className:"scrollarea"},this.hasVectorBackground()&&b.createElement("div",{className:"scrollarea-background"+(this.state.tabFocused?"focused":"")},b.createElement(d,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps,className:"scrollarea-background-svg"})),this.hasImageBackground()&&b.createElement("div",{className:"scrollarea-background"},b.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()})),b.createElement("div",{className:"scrollarea-area "+(this.state.shouldNotScroll?"prevent-scroll":""),style:{width:this.props.playerProps.width,height:this.props.playerProps.height}},this.props.model.objects().map(function(a,d){return b.createElement(c,{ref:"obj"+d,key:a.cid,model:a,onScrollFocus:this.childScrollFocus,hideShowCallback:this.childHideShow,parent:this})}.bind(this))))},SearchFooter:function(){var c=a("views/player/Icon");return b.createElement("footer",{className:"panel-footer "+(this.state.stateable_search?"":"hidden")},b.createElement("div",{className:"search-clear "+(this.props.showClearButton?"":"hidden")},b.createElement("button",{onClick:this.clearSearch,className:"btn cs-button btn-stretch "+(this.state.clearFocus?"focused":""),ref:"searchClear"},b.createElement(c,{type:"clear"})," ",this.state.i18nsearch_clear)),b.createElement("hr",{className:"cs-diva diva"}),b.createElement("hr",{className:"cs-divb divb"}),b.createElement("form",{id:"outline-search",className:"grid-row search-input cs-outlinesearch cs-searchinput "+(this.state.clearFocus?"focused":""),role:"search"},b.createElement("input",{className:"cs-input",type:"search",onChange:this.handleChange,placeholder:this.state.i18nsearch,value:this.state.searchInput,ref:"searchInput"}),b.createElement("button",{onClick:this.search,className:"cs-button btn-unstyled inflexible "+(this.state.clearFocus?"focused":""),ref:"searchSubmit"},b.createElement(c,{type:"search"}),b.createElement("span",{className:"accessibility"},this.state.i18nacc_search_input))))},SearchOptions:function(){var c=a("views/player/Icon"),d=["panel-header","panel-section-header","panel-section-search",this.props.visible?"":"hidden"].join(" "),e=["search-options",this.state.searchOptionsVisible?"visible":""].join(" ");return b.createElement("header",{className:d},b.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18nsearch_results),b.createElement("button",{onClick:this.toggleSearchOptions,className:"btn-unstyled search-filter cs-search-filter"},this.state.i18nfilter," ",b.createElement(c,{type:"gear"})),b.createElement("div",{className:e},b.createElement("p",null,this.state.i18nsearch_in),b.createElement("label",null,b.createElement("input",{type:"checkbox",checked:this.state.notes,onChange:this.handleChangeNotes}),this.state.i18nslide_notes),b.createElement("label",null,b.createElement("input",{type:"checkbox",checked:this.state.text,onChange:this.handleChangeText}),this.state.i18nslide_text)))},SequenceCtrlDrop:function(){var a=22,c=18,d=c/2,e=this.props.height,f=this.props.width;return b.createElement("div",{className:"sequence-ctrl-drop",style:{top:this.props.yOff,width:f+a,height:e}},b.createElement("div",{className:"sequence-ctrl-num",style:{width:a,height:e,lineHeight:e+"px",color:this.state.reviewColor}},this.state.reviewIdx+1+"."),b.createElement("div",{className:"sequence-ctrl-hit",style:{width:f,height:e}}),b.createElement("div",{className:"sequence-ctrl-bar sequence-ctrl-bar-top",style:{width:f,left:a,top:-d,display:this.state.topBar?"block":"none"}}),b.createElement("div",{className:"sequence-ctrl-bar sequence-ctrl-bar-bottom",style:{top:e,width:f,left:a,top:e+d,display:this.state.bottomBar?"block":"none"}}))},SequenceCtrlSlideObject:function(){var c,d=a("views/presentation/SequenceCtrlDrop"),e=a("views/presentation/SequenceCtrlDragItem"),f=this.getPath("props.model.width"),g=this.getPath("props.model.height"),h={width:f+7,height:g},i=0;return b.createElement("div",{className:"sequence-ctrl",style:h},b.createElement("div",{className:"sequence-ctrl-scroll-area",style:h},b.createElement("div",{className:"sequence-ctrl-scroll-area-contents"},this.state.itemslist.map(function(a,e){var f=a.textdata.height,g=18;return c&&(i+=c),c=f+g,b.createElement(d,{ref:"item"+e,key:a.textdata.uniqueId,idx:e,width:a.textdata.width,height:a.textdata.height,yOff:g+i,pr:a.textdata.vectortext.pr})}.bind(this)),this.state.itemslist.map(function(a,c){var d=(a.textdata.height,{style:"wordbank",width:f-(f-a.textdata.width)/2,height:a.textdata.height,kind:"dragitem",xOff:a.textdata.xPos,yOff:a.textdata.yPos,itemdata:a.itemdata,idx:c,data:{textdata:a.textdata}});return b.createElement("div",{className:"sequence-ctrl-drag-container",key:c,ref:"sequenceItemContainer"+c,style:{position:"absolute"}},b.createElement(e,{ref:"sequenceItem"+c,key:a.textdata.uniqueId,idx:c,parent:this,model:d}))}.bind(this)))))},Sidebar:function(){var c=a("views/player/TabPanel"),d=a("views/player/SidebarTab"),e="area-secondary grid-col cs-left inflexible "+(this.state.activeTab||this.hasLogo()?"":"hidden");return b.createElement("div",{className:e},this.hasLogo()&&b.createElement("div",{className:"logo inflexible cs-logo"},b.createElement("img",{src:this.logoUrl(),alt:"logo"})),b.createElement("div",{className:"tabs-wrap"},b.createElement("ul",{className:["tabs",this.state.tabs.length>2?"fill-width":""].join(" "),role:"tablist"},this.state.tabs.map(function(a,c){return b.createElement(d,{ref:"sidebarTab"+c,config:a,key:c,activeTab:this.state.activeTab,setActiveTab:this.setActiveTab})}.bind(this))),this.state.tabs.map(function(a,d){return b.createElement(c,{config:a,key:d,ref:"sidebarPanel"+d,panelClass:"panel",model:this.props.model,activeTab:this.state.activeTab})}.bind(this))))},SidebarMobile:function(){var c=a("views/player/Icon"),d=a("views/player/TabPanel"),e=a("views/player/SidebarTab");return b.createElement("div",{className:"content-nav"},b.createElement("nav",{className:"content-menu"},b.createElement("ul",{className:"content-menu-options",role:"tablist"},b.createElement("li",{role:"tab",className:"tab menu-close"},b.createElement("button",{ref:"close",onClick:this.props.toggleMenu},b.createElement("span",{className:"btn-icon"},b.createElement(c,{type:"menu"})),b.createElement("span",{className:"text"},"Menu"))),this.state.tabs.map(function(a,c){return b.createElement(e,{ref:"sidebarTab"+c,config:a,key:c,tabChanged:this.props.tabChanged,activeTab:this.state.activeTab,setActiveTab:this.setActiveTab})}.bind(this)))),b.createElement("div",{className:"content-tabs"},b.createElement("button",{ref:"close",className:"tab-close",onClick:this.props.closeTab},b.createElement("span",{className:"btn-icon"},b.createElement(c,{type:"close"})),b.createElement("span",{className:"text"},"Close")),this.state.tabs.map(function(a,c){return b.createElement(d,{config:a,key:c,ref:"sidebarPanel"+c,panelClass:"panel",model:this.props.model,closeTab:this.props.closeTab,activeTab:this.state.activeTab})}.bind(this))))},SidebarTab:function(){var a=["tab","cs-tabs",this.props.config.isLive?"":"hidden",this.props.activeTab===this.props.config?"cs-selected active":"",this.state.tabFocused?"focused":""].join(" ");return b.createElement("li",{className:a},b.createElement("button",{className:"tabs-trigger cs-inner-button",onClick:this.activate,ref:"button",role:"tab"},this.state.i18ntitle))},SidebarTabMobile:function(){var a=["tab",this.props.config.isLive?"":"hidden",this.props.activeTab===this.props.config?"cs-selected active":"",this.state.tabFocused?"focused":""].join(" ");return b.createElement("li",{role:"tab",className:a},b.createElement("button",{className:"tabs-trigger",onClick:this.activate},this.state.i18ntitle))},Slide:function(){var c=a("views/presentation/SlideLayer"),d=a("views/presentation/SlideBackground"),e=a("views/presentation/VectorSlideBackground"),f=this.getPath("props.model.background.type");return b.createElement("article",{className:"slide","data-rollout-highest-node":"true",style:{zIndex:this.state.transitionDepth,width:this.props.model.get("width"),height:this.props.model.get("height")},onMouseDownCapture:this.onStoreMouseLoc,onTouchStartCapture:this.onStoreTouchLoc,onContextMenu:this.onCtxMenu},!!f&&"vector"===f&&b.createElement(e,{ref:"bg",model:this.props.model}),!!f&&"vector"!==f&&b.createElement(d,{ref:"bg",model:this.props.model}),b.createElement("div",{className:"zoom-bg-container"}),this.getPath("props.model.slideLayers").map(function(a,d){return b.createElement(c,{ref:"layer"+d,key:a.cid,model:a})}.bind(this)),b.createElement("div",{className:"slide-top-container"}))},SlideBackground:function(){var c=a("views/presentation/LinearBackgroundGradient");return b.createElement("svg",{width:this.props.model.get("width"),height:this.props.model.get("height")},b.createElement("defs",null,"fill"===this.props.model.background().type?b.createElement(c,{patternFillId:this.patternFillId(),model:this.props.model}):b.createElement("pattern",{id:this.patternFillId(),width:this.props.model.get("width"),height:this.props.model.get("height"),patternUnits:"userSpaceOnUse"},b.createElement("image",{width:this.props.model.get("width"),height:this.props.model.get("height"),"data-xlink-href":this.props.model.backgroundImageUrl()}))),b.createElement("rect",{id:"slide-bg-"+this.props.model.get("id"),width:this.props.model.get("width"),height:this.props.model.get("height"),fill:["url(#",this.patternFillId(),")"].join("")}))},SlideContainer:function(){var c=a("helpers/svg/svgUtils"),d=a("helpers/utils"),e={overflow:this.state.overflowHide?"hidden":""},f=this.props.scale>0?this.props.scale:1,g=d.pxify(this.state.xOff||0),h=d.pxify(this.state.yOff||0);return this.state.scale&&(f=this.state.scale),e[this.cssTransform]=[c.transformTranslate(g,h),c.transformScale(f,f)].join(" "),this.props.currentSlide&&(e.width=this.props.currentSlide.get("width"),e.height=this.props.currentSlide.get("height")),b.createElement("div",{style:e,className:"slide-container inflexible cs-slide-container"},b.createElement("div",{className:"slide-transition-container"}),b.createElement("div",{className:"slide-transition-container"}))},SlideLayer:function(){var c=a("views/presentation/SlideObject"),d=a("views/presentation/AudioPlayer"),e=a("views/presentation/SlideBackground");return b.createElement("div",{className:["slide-layer",this.props.model.isBaseLayer()?"base-layer":"",this.displayClass()].join(" "),style:{pointerEvents:this.props.model.isPenetrable()?"none":"auto",zIndex:this.props.model.get("depth")}},this.props.model.objects().map(function(a,d){return b.createElement(c,{ref:"obj"+d,key:a.cid,model:a})}.bind(this)),this.props.model.hasBackground()&&b.createElement(e,{ref:"bg",model:this.props.model}),b.createElement("div",{className:"hidden"},this.props.model.audiolib().map(function(a,c){return b.createElement(d,{ref:"audio"+c,key:c,model:a,timeline:this.props.model.timeline()})}.bind(this))))},SlideObject:function(){var a=this.getStyles(),c=["slide-object","slide-object-"+this.props.model.kind(),this.displayClass(),this.cursorClass(),this.state.tabFocused?"focused":"",this.props.model.isToolTip()?"tooltip":"",this.props.model.isDraggable()?"draggable":""].join(" ");return b.createElement("div",{className:c,style:a,"aria-label":this.getAriaLabel(),role:this.getAriaRole(),"data-model-id":this.props.model.id,"data-model-abs-id":this.props.model.absoluteId,tabIndex:"-1"},this.props.model.get("markerType")&&b.createElement("div",{className:["marker-animation marker-animation-",this.props.model.get("markerType")].join("")}),this.props.model.isHotSpotMarker()&&b.createElement("div",{className:"hotspot-marker"},b.createElement("span",null)),this.isAccTypeText()&&b.createElement("span",{className:"accessibility",ref:"accessibleText",tabIndex:"-1"},this.getAccessibleText()),b.createElement(this.slideObjectInnard,this.getInnardConfigs()))},SlideRelatedActions:function(){var c=a("views/player/RelativeNavControls");return b.createElement("div",{className:"controls-group grid-row control-actions"},b.createElement(c,{ref:"relativeNavControls",isRtl:this.props.isRtl,slide:this.props.slide}))},SlideRelatedActionsMobile:function(){var c=a("views/player/RelativeNavControls");return b.createElement("div",{className:"controls-group grid-row control-actions"},b.createElement(c,{ref:"relativeNavControls",isRtl:this.props.isRtl,slide:this.props.slide,player:this.props.player,timers:this.props.timers}))},StateGroupSlideObject:function(){var c=a("views/presentation/SlideObject");return b.createElement("div",{className:"group "+(this.props.model.prop("OnStage")?"":"hidden")},this.props.model.objects().map(function(a,d){return b.createElement(c,{ref:"obj"+d,key:d,model:a,checkElso:this.checkElso,onElsoAction:this.onElsoAction,playerProps:this.props.playerProps,parent:this})}.bind(this)),b.createElement("div",{className:"state-group-top-level"}))},SvgLibrary:function(){return b.createElement("svg",{width:"0",height:"0",style:{position:"absolute"}},b.createElement("linearGradient",{id:"drop-list-gradient",gradientTransform:"rotate(90)"},b.createElement("stop",{offset:"0%"}),b.createElement("stop",{offset:"100%"})),b.createElement("linearGradient",{id:"dragdrop-gradient",gradientTransform:"rotate(90)"},b.createElement("stop",{offset:"0%"}),b.createElement("stop",{offset:"100%"})),b.createElement("linearGradient",{id:"dragdrop-hover-gradient",gradientTransform:"rotate(90)"},b.createElement("stop",{offset:"0%"}),b.createElement("stop",{offset:"100%"})),b.createElement("linearGradient",{id:"wordbank-droparea-stroke-gradient",gradientTransform:"rotate(90)"},b.createElement("stop",{offset:"0%"}),b.createElement("stop",{offset:"100%"})),b.createElement("filter",{id:"dragdrop-inner-stroke"},b.createElement("feFlood",{floodColor:"#fff",result:"strokeColor"}),b.createElement("feMorphology",{operator:"erode",radius:"2","in":"SourceAlpha",result:"innerMorph"}),b.createElement("feMorphology",{operator:"erode",radius:"1","in":"SourceAlpha",result:"outerMorph"}),b.createElement("feComposite",{"in":"innerMorph",in2:"outerMorph",operator:"xor",result:"morph"}),b.createElement("feComposite",{"in":"strokeColor",in2:"morph",operator:"in",result:"innerStroke"}),b.createElement("feComposite",{"in":"innerStroke",in2:"SourceGraphic",operator:"over"})))},TabPanel:function(){var c=(a("views/player/Icon"),a("views/player/Menu")),d=a("views/player/Glossary"),e=a("views/player/Notes"),f=a("views/player/Resources");return b.createElement("section",{className:["cs-menu cs-panel",this.props.config.isLive?"":"hidden",this.props.activeTab===this.props.config?"cs-selected active":"hidden",this.props.panelClass,this.state.tabFocused?"focused":""].join(" "),role:"tabpanel",id:"panel-"+this.props.config.name},"outline"===this.props.config.name&&b.createElement(c,{ref:"menu",model:this.props.model.navData(),notesData:this.props.model.notesData(),options:this.getPath("props.model.controlOptions.menuOptions"),hasSearch:this.getPath("props.model.controlOptions.controls.search"),title:this.getPath("props.model.controlOptions.sidebarOptions.titleText"),onSelectMenuItem:this.onSelectMenuItem}),"glossary"===this.props.config.name&&b.createElement(d,{ref:"glossary",collection:this.props.model.glossaryData()}),"resources"===this.props.config.name&&b.createElement(f,{ref:"resources",model:this.props.model.resourceData()}),"transcript"===this.props.config.name&&b.createElement(e,{ref:"notes",collection:this.props.model.notesData()}))},TextInputSlideObject:function(){var c=a("views/presentation/VectorSlideObject"),d=this.getPath("props.model.maxchars"),e=this.getPath("props.model.marginright"),f=this.isMultiline?6:0,g={fontFamily:this.quotify(this.getPath("props.model.font")),fontSize:this.getPath("props.model.fontsize")+"px",fontWeight:this.getPath("props.model.bold")?"bold":"normal",direction:this.getPath("props.model.rtl")?"rtl":"ltr",textAlign:this.getPath("props.model.align"),color:this.getTextColor(),width:this.getPath("props.model.width"),height:this.getPath("props.model.height"),paddingTop:this.getPath("props.model.margintop")+f,paddingRight:this.isNumeric?0:e,paddingBottom:this.getPath("props.model.marginbottom"),paddingLeft:this.getPath("props.model.marginleft")};return b.createElement("div",{className:this.state.placeholderClass},this.hasVectorBackground()&&b.createElement(c,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps}),this.hasImageBackground()&&b.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()}),this.isMultiline&&!this.isNumeric?b.createElement("textarea",{ref:"input",onFocus:this.onInputFocus,onBlur:this.onInputBlur,style:g,maxLength:d>0?d:"","data-accepts":"events",disabled:!this.getPath("props.playerProps.Enabled")&&"disabled",placeholder:this.getPath("props.model.placeholder"),value:this.state.inputValue,onChange:this.onInputChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onTouchStart:this.onTouchStart}):b.createElement("input",{ref:"input",onFocus:this.onInputFocus,onBlur:this.onInputBlur,type:this.isNumeric?"number":"text",style:g,maxLength:d>0?d:"","data-accepts":"events",disabled:!this.getPath("props.playerProps.Enabled")&&"disabled",value:this.state.inputValue,placeholder:this.getPath("props.model.placeholder"),onChange:this.onInputChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onTouchStart:this.onTouchStart}))},TextShadowFilter:function(){return b.createElement("filter",{id:this.props.id},b.createElement("feFlood",{"flood-color":"#000","flood-opacity":"0.2",result:"flood"}),b.createElement("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:"1",result:"gauss"}),b.createElement("feComposite",{"in":"flood",in2:"gauss",operator:"in",result:"shadow"}),b.createElement("feOffset",{"in":"shadow",dx:"2",dy:"2",result:"offsetShadow"}),b.createElement("feComposite",{"in":"SourceGraphic",in2:"offsetShadow",operator:"over"}))},Timer:function(){var c=a("helpers/svg/svgUtils"),d=a("polyfills/detection"),e=18,f={width:e,height:e};return b.createElement("div",{className:["timer",this.state.timerVisible?"shown":"hidden"].join(" ")},b.createElement("div",{className:"timer-text"},this.state.timeText),!d.isMobile&&b.createElement("div",{className:"timer-wheel",style:f},b.createElement("svg",{style:f,width:e,height:e,"data-xmlns-xlink":"http://www.w3.org/1999/xlink"},b.createElement("defs",null,b.createElement("linearGradient",{id:"timer-blue-grad"},b.createElement("stop",{offset:"0%",stopColor:"#00aaff"}),b.createElement("stop",{offset:"100%",stopColor:"#00d4ff"})),b.createElement("linearGradient",{
id:"timer-yellow-grad"},b.createElement("stop",{offset:"0%",stopColor:"#fde246"}),b.createElement("stop",{offset:"100%",stopColor:"#fccd2b"}))),b.createElement("circle",{cx:"9",cy:"9",r:"9",fill:"url(#timer-yellow-grad)"}),b.createElement("path",{d:c.wheelPath(9,9,9,0,360*(1-this.state.timeScale)),fill:"url(#timer-blue-grad)",transform:"rotate(-90 9 9)",stroke:"none"}),b.createElement("circle",{cx:"9",cy:"9",r:"9",fill:"none",stroke:"white"}),b.createElement("circle",{cx:"9",cy:"9",r:"10",fill:"none",stroke:"#c7c7c7"}))))},TopTabs:function(){var c=a("views/player/TopTabsItem");return b.createElement("div",{className:"top-tabs-"+this.props.align},this.state.tabs.map(function(a,d){return b.createElement(c,{key:d,ref:"topTabsItem"+d,config:a,name:a.name,activeTab:this.state.activeTab,activateTab:this.activateTab,deactivateTab:this.deactivateTab,align:this.props.align,model:this.props.model})}.bind(this)))},TopTabsItem:function(){var c=a("views/player/TabPanel");return b.createElement("div",{className:["cs-topmenu-item","topmenu-item",this.props.activeTab===this.props.config?"active":"",this.determineVisibilty()?"":"hidden"].join(" ")},b.createElement("button",{"data-name":this.props.name,className:["topmenu-tab","tabs-trigger","cs-tab text-compact ",this.state.tabFocused?"focused":""].join(" "),onClick:this.onClick},this.state.i18ntitle),b.createElement("div",{className:"cs-separator topmenu-separator inflexible"},b.createElement("div",{className:"cs-diva topmenu-separator-item"}),b.createElement("div",{className:"cs-divb topmenu-separator-item topmenu-seperator-b"})),b.createElement(c,{ref:"tabPanel",config:this.props.config,model:this.props.model,activeTab:this.props.activeTab,panelClass:"topmenu-panel topmenu-panel-align-"+this.props.align,onSelectMenuItem:this.onSelectMenuItem}))},Topbar:function(){var c=a("views/player/TopTabs"),d=a("views/player/Timer");return b.createElement("header",{className:"header-primary"},this.hasTitle()&&b.createElement("h1",{className:"presentation-title cs-title"},this.getPath("props.model.controlOptions.sidebarOptions.titleText")),this.hasTimer()&&this.getPath("props.timers").map(function(a,c){return b.createElement(d,{ref:"timer"+c,key:c,model:a,onTimerShow:this.onTimerShow,options:this.getPath("props.model.controlOptions.sidebarOptions")})}.bind(this)),b.createElement("div",{className:"top-tabs"},this.hasLinkLeft()&&b.createElement(c,{ref:"topTabsLeft",model:this.props.model,tabs:[],align:"left"}),this.hasLinkRight()&&b.createElement(c,{ref:"topTabsRight",model:this.props.model,tabs:[],align:"right"})))},UiMobile:function(){var c=a("views/player/Icon"),d=a("views/player/Bottombar"),e=a("views/player/SidebarMobile");return b.createElement("div",{className:["option-pane",this.state.isActive?"active":"",this.state.showMenu?"menu-active":"",this.state.showTab?"tab-active":""].join(" ")},b.createElement("div",{className:"menu-handle"},b.createElement("button",{ref:"menu-handle",className:"hamburger-btn",onClick:this.toggleMenu},b.createElement("span",{className:"btn-icon"},b.createElement(c,{type:"menu"})))),this.props.currentSlide&&b.createElement(d,{ref:"bb",player:this.props.model,slide:this.props.currentSlide,timers:this.props.timers}),b.createElement(e,{ref:"sidebar",model:this.props.model,tabChanged:this.onTabChange,closeTab:this.closeTab,toggleMenu:this.toggleMenu}))},VariableText:function(){var a={width:this.props.model.width(),height:this.props.model.height()};return this.props.y&&(a.top=this.props.y),this.props.x&&(a.left=this.props.x),b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",className:"textlib"+(this.state.isVisible?"":" invisible"),style:a},b.createElement("div",{className:"textlib-inner "+this.state.valignClass,onClick:this.possibleHit},b.createElement("div",{className:"textlib-content-wrap",dangerouslySetInnerHTML:{__html:this.state.embeddedTemplate}})))},VectorText:function(){var c=a("views/presentation/TextShadowFilter"),d=a("views/presentation/VectorTextItem"),e=a("views/presentation/VectorTextHitArea");return b.createElement("g",{className:"vector-text-item"},b.createElement("g",{transform:this.getTransform(),className:this.props.hasShadow?this.state.className:""},this.props.hasShadow&&this.state.textShadowFilterId&&b.createElement(c,{ref:"shadow",id:this.state.textShadowFilterId}),b.createElement(d,{ref:"item",pathLib:this.state.curPathLib,commandsetId:this.state.curCommandsetId})),this.props.textLibItem.linkdata().map(function(a,c){return b.createElement(e,{key:"hitArea"+c,ref:"hitItem"+c,color:a.get("fill").colors[0],hotAreas:a.get("hotareas"),linkId:a.get("id"),onClickCallback:this.onClickCallback})}.bind(this)))},VectorTextHitArea:function(){var c=a("helpers/utils"),d=function(a){return"hotarea_"+a};return b.createElement("g",null,this.props.hotAreas.map(function(a,e){return b.createElement("g",{ref:d(e),key:d(e)},b.createElement("rect",{className:"link-hit-area","data-hotarea":d(e),x:a.xPos,y:a.yPos,width:a.width,height:a.height,onMouseOver:this.renderAs,onMouseOut:this.renderAs,onClick:this.onClickCallback}),b.createElement("rect",{className:"link-highlight-area","data-linkarea":d(e),x:a.xPos,y:a.yPos,width:a.width,height:a.height,fill:c.hexify(this.props.color.rgb),style:{opacity:0}}))}.bind(this)))},VideoControls:function(){var c=a("views/player/Icon"),d=this.props.isPlaying?"pause":"play";return b.createElement("div",{className:"video-controls grid-row inflexible"},b.createElement("div",{className:"video-controls-play-pause inflexible",onClick:this.props.toggleVideoControls,onTouchEnd:this.props.toggleVideoControls},b.createElement("button",{className:"btn-unstyled"},b.createElement(c,{key:d,type:d}),b.createElement("span",{className:"accessibility"},this.props.isPlaying?this.state.i18nacc_pause:this.state.i18nacc_play))),b.createElement("div",{className:"progress-bar"},b.createElement("div",{className:"progress-bar-inner"},b.createElement("div",{className:"progress-bar-seek"},b.createElement("div",{className:"progress-bar-fill",style:{width:this.props.currentTime/this.props.duration*100+"%"}})),b.createElement("input",{type:"range",min:"0",max:this.props.duration,onChange:this.onChange,onInput:this.props.rangeslideVideoControls,value:this.props.currentTime,step:"1"})),b.createElement("div",{className:"progress-bar-elapsed-time"},b.createElement("span",null,this.currentTimeFormatted()),b.createElement("span",{className:"progress-bar-total-duration"},"/ ",this.durationFormatted()))))},VideoPlayer:function(){var c=a("views/presentation/VideoPlayerFull");return b.createElement(c,b.__spread({ref:"videoPlayer"},this.props))},VideoPlayerFull:function(){return b.createElement("video",{id:this.getPath("props.model.id"),ref:"video",src:this.props.src,poster:this.props.posterFrameUrl,width:this.props.playerProps.width,height:this.props.playerProps.height,"data-accepts":"events"})},VideoPlayerLimited:function(){var c=a("helpers/utils"),d=this.props.isPlaying,e=this.props.posterFrameUrl,f={height:c.pxify(this.props.playerProps.height),width:c.pxify(this.props.playerProps.width)};return!d&&e&&(f.backgroundImage="url("+e+")"),b.createElement("div",{className:"video-player-limited-container",ref:"container",style:f,"data-accepts":"events"})},VideoPlayerMobile:function(){var c=a("views/presentation/VideoPlayerLimited");return b.createElement(c,b.__spread({ref:"videoPlayer"},this.props))},VideoSlideObject:function(){var c=a("views/presentation/VideoControls"),d=a("views/presentation/VideoPlayer");({width:this.props.playerProps.width,height:this.props.playerProps.height});return b.createElement("div",{className:"video-slide-object"},b.createElement(d,{currentVolume:this.state.currentVolume,duration:this.state.duration,isPlaying:this.state.isPlaying,onDurationChange:this.durationLoaded,onLoadedData:this.loadedData,onPlaybackEnded:this.playbackEnded,onTimeUpdate:this.playing,playerProps:this.props.playerProps,posterFrameUrl:this.posterFrameUrl(),ref:"videoPlayer",src:this.getVideoUrl()}),this.props.model.get("showcontrols")&&b.createElement(c,{ref:"controls",currentTime:this.state.currentTime,duration:this.state.duration,isPlaying:this.state.isPlaying,toggleVideoControls:this.toggleVideoControls,rangeslideVideoControls:this.rangeslideVideoControls}))},VolumeControls:function(){var c=a("views/player/Icon");return b.createElement("div",{className:"controls-group control-bar inflexible"},b.createElement("div",{ref:"btn",className:"btn cs-button volume "+(!this.state.isOpen&&this.state.tabFocused?"focused":""),onClick:this.onClick},b.createElement("button",{className:"btn-unstyled text-align-middle"},b.createElement(c,{type:"volume",ref:"volumeIcon",volumeStrength:10*this.state.volumeStrength}),b.createElement("span",{className:"accessibility"},this.state.i18nvolume)),b.createElement("div",{className:["btn cs-volume cs-button slider-bar",this.state.isOpen?"":"hidden",this.state.isOpen&&this.state.tabFocused?"focused":""].join(" "),id:"control-volume-slider"},b.createElement("input",{ref:"volumeRange",className:"cs-volume",type:"range",min:"0",max:"1.0",value:this.state.volumeStrength,onChange:this.onInputChange,step:"0.1","aria-orientation":"vertical"}))))},WebObjectSlideObject:function(){return b.createElement("div",{className:"webobject"},b.createElement("iframe",{src:this.props.model.get("url"),style:{width:this.props.playerProps.width,height:this.props.playerProps.height},className:this.showThumb()?"hidden":"shown"}),this.showThumb()&&b.createElement("img",{onClick:this.showContent,style:{width:this.props.playerProps.width,height:this.props.playerProps.height},className:"thumbnail",src:this.imageUrl}))},ZoomImage:function(){return b.createElement("div",{className:"zoom-image "+this.displayClass()},b.createElement("img",{src:this.props.imageUrl,style:{width:this.props.width,height:this.props.height}}))},CarrotIcon:function(){var a='<use xlink:href="#icon-carrot" class="cs-shadow" transform="translate(1, 0)" /><polygon id="icon-carrot" points="1,1.5 5,5 1,8.5"/>';return b.createElement("svg",{className:"cs-icon cs-icon-carrot",width:"10",height:"10",viewBox:"0 0 10 10",key:a,dangerouslySetInnerHTML:{__html:a}})},CheckIconMobile:function(){var a='<use xlink:href="#icon-check-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M12.685,30c-0.538,0-1.053-0.218-1.429-0.604L0,17.832l2.857-2.8l9.827,10.097L37.143,0L40,2.8L14.114,29.396C13.738,29.782,13.222,30,12.685,30z"/>';return b.createElement("svg",{className:"cs-icon check-mobile-icon",width:"40",height:"30",viewBox:"0 0 40 30",key:a,dangerouslySetInnerHTML:{__html:a}})},ClearIcon:function(){var a='<use xlink:href="#icon-clear" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-clear" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>';return b.createElement("svg",{className:"cs-icon icon-clear",width:"13",height:"14",viewBox:"0 0 13 14",key:a,dangerouslySetInnerHTML:{__html:a}})},CloseIcon:function(){var a='<use xlink:href="#close-icon" class="icon-shadow" transform="translate(0, .5)" /><path id="close-icon" d="M9,9.5L9,9.5c-0.5,0.5-1.3,0.5-1.8,0L4.9,7.3L2.6,9.6c-0.5,0.5-1.3,0.5-1.8,0l0,0c-0.5-0.5-0.5-1.3,0-1.8l2.3-2.3L0.8,3.3C0.3,2.8,0.3,2,0.9,1.4l0,0c0.5-0.5,1.3-0.5,1.8,0l2.3,2.3l2.3-2.3c0.5-0.5,1.3-0.5,1.8,0l0,0c0.5,0.5,0.5,1.3,0,1.8L6.7,5.5L9,7.7C9.5,8.2,9.5,9,9,9.5z"/>';return b.createElement("svg",{className:"icon",width:"10",height:"10",viewBox:"0 0 10 10",key:a,dangerouslySetInnerHTML:{__html:a}})},CloseIconMobile:function(){var a='<use xlink:href="#icon-close-mobile" class="icon-mobile" /><polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18   "/>';return b.createElement("svg",{className:"icon",width:"36",height:"36",viewBox:"0 0 36 36",key:a,dangerouslySetInnerHTML:{__html:a}})},GearIcon:function(){return b.createElement("svg",{className:"cs-icon icon-gear",width:"14",height:"14",viewBox:"0 0 14 14"},b.createElement("path",{id:"icon-gear",d:"M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"}))},MenuIcon:function(){var a=['<use xlink:href="#icon-menu-mobile" class="icon-mobile" transform="translate(0, 1)" />','<g id="icon-menu-mobile">','<rect width="40" height="4"/>','<rect y="16" width="40" height="4"/>','<rect y="32" width="40" height="4"/>',"</g>"].join("");return b.createElement("svg",{className:"cs-icon menu-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:a,dangerouslySetInnerHTML:{__html:a}})},NextIcon:function(){var a='<use xlink:href="#next-icon" class="cs-icon-shadow" transform="translate(0, 1)" /><polygon id="next-icon" points="2.7,0 0,1.7 3,5 0.3,8.3 3,10 7,5"/>';return b.createElement("svg",{className:"cs-icon",width:"8",height:"11",viewBox:"0 0 8 11",key:a,dangerouslySetInnerHTML:{__html:a}})},NextIconMobile:function(){var a='<use xlink:href="#icon-next-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M39.414,16.587L22.826,0L20,2.826L33.175,16H0v4h33.175L20,33.174L22.826,36l16.588-16.587C40.195,18.633,40.195,17.368,39.414,16.587z"/>';return b.createElement("svg",{className:"cs-icon next-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:a,dangerouslySetInnerHTML:{__html:a}})},PauseIcon:function(){var a=['<use xlink:href="#icon-pause" class="cs-icon-shadow" transform="translate(0, 1)" />','<g id="icon-pause">','<rect x="0" width="4" height="14"/>','<rect x="8" width="4" height="14"/>',"</g>"].join("");return b.createElement("svg",{className:"cs-icon pause-icon",width:"12",height:"14",viewBox:"0 0 12 14",key:a,dangerouslySetInnerHTML:{__html:a}})},PlayIcon:function(){var a='<use xlink:href="#icon-play" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-play" d="M1.3,0.1l8.3,5.2c0.5,0.3,0.5,1,0,1.3l-8.3,5.2c-0.5,0.3-1.3,0-1.3-0.7L0,0.8C0,0.3,0.7-0.2,1.3,0.1z"/>';return b.createElement("svg",{className:"cs-icon play-icon",width:"11",height:"14",viewBox:"0 0 11 14",key:a,dangerouslySetInnerHTML:{__html:a}})},PlayIconMobile:function(){var a='<use xlink:href="#icon-play" /><path id="icon-play" d="M 11 7.15 L 0 0 0 14.3 11 7.15 Z"/>';return b.createElement("svg",{className:"cs-icon play-icon",width:"11",height:"14",viewBox:"0 0 11 14",key:a,dangerouslySetInnerHTML:{__html:a}})},PlaybackResetIcon:function(){var a='<use xlink:href="#icon-replay" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-replay" d="M9.2,15c4.1,0,7.4-3.1,7.7-7c0-0.2,0-0.4,0-0.5C17,3.3,13.5,0,9.2,0C5.7,0,2.6,2.8,1.8,6.1H0l2.6,2.9l3-2.9H3.7c0.6-2.5,2.8-4.3,5.5-4.3c3.3,0,5.9,2.5,5.9,5.7c0,0.2,0,0.4,0,0.5c-0.3,2.9-2.8,5.2-5.9,5.2c-2,0-3.7-0.9-4.8-2.5l-1.8,1.1C4,13.9,6.7,15,9.2,15z"/>';return b.createElement("svg",{className:"cs-icon",width:"18",height:"16",viewBox:"0 0 18 16",key:a,dangerouslySetInnerHTML:{__html:a}})},PrevIcon:function(){var a='<use xlink:href="#prev-icon" class="cs-icon-shadow" transform="translate(0, 1)" /><polygon id="prev-icon" points="0,5 4,10 7,8.3 4,5 7,1.7 4.3,0"/>';return b.createElement("svg",{className:"cs-icon",width:"8",height:"11",viewBox:"0 0 8 11",key:a,dangerouslySetInnerHTML:{__html:a}})},PrevIconMobile:function(){var a='<use xlink:href="#icon-prev-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M0.586,19.413L17.174,36L20,33.174L6.825,20H40v-4H6.825L20,2.826L17.174,0L0.586,16.587C-0.195,17.367-0.195,18.632,0.586,19.413z"/>';return b.createElement("svg",{className:"cs-icon prev-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:a,dangerouslySetInnerHTML:{__html:a}})},SearchIcon:function(){return b.createElement("svg",{className:"cs-icon",width:"14",height:"14",viewBox:"0 0 14 14"},b.createElement("path",{d:"M13.8,12.5l-3.6-3.6c0,0-0.1-0.1-0.1-0.1c0.6-0.9,1-2,1-3.2C11.1,2.5,8.6,0,5.5,0S0,2.5,0,5.6c0,3.1,2.5,5.6,5.5,5.6c1.2,0,2.4-0.4,3.3-1.1c0,0,0,0.1,0.1,0.1l3.6,3.6c0.3,0.3,0.8,0.3,1.1,0l0.2-0.2 C14.1,13.3,14.1,12.8,13.8,12.5z M5.5,9.5c-2.2,0-3.9-1.8-3.9-4c0-2.2,1.8-4,3.9-4c2.2,0,3.9,1.8,3.9,4C9.5,7.8,7.7,9.5,5.5,9.5z"}))},VolumeIcon:function(){var a=this.props.volumeStrength>0?"":"hidden",c=this.props.volumeStrength>=5?"":"hidden",d=10==this.props.volumeStrength?"":"hidden",e=['<use xlink:href="#player-volume" class="cs-icon-shadow" transform="translate(0, 1)" />','<g id="player-volume">','<polygon points="4.3,10.7 0,10.7 0,4.3 4.3,4.3 8.6,0 8.6,15"/>','<rect class="'+a+'" x="10" y="5" width="1" height="6"/>','<rect class="'+c+'" x="12" y="4" width="1" height="8"/>','<rect class="'+d+'" x="14" y="3" width="1" height="10"/>',"</g>"].join("");return b.createElement("svg",{className:"cs-icon",width:"15",height:"15",viewBox:"0 0 15 15",key:e,dangerouslySetInnerHTML:{__html:e}})}}}),define("helpers/templateManager",["require","lodash","helpers/errorManager","views/mixins/baseView","templates/templates","polyfills/detection"],function(a){"use strict";var b=a("lodash"),c=a("helpers/errorManager"),d=a("views/mixins/baseView"),e=a("templates/templates"),f=a("polyfills/detection"),g=c.throwError("templateManager"),h=c.backtick,i=g("getTemplate"),j=h("templateName")+" argument empty",k="tried calling for an undefined template",l=function(a){var b=e[a+"Mobile"];return f.isMobile&&null!=b?b:e[a]},m={getTemplate:function(a){a||i(j);var c=l(a);return b.isUndefined(c)&&i(k,h(a)),c}};return d.setTemplateManager(m),m}),define("views/events/doubleclick",["require","lodash","views/events/eventHelper"],function(a){"use strict";var b=a("lodash"),c=a("views/events/eventHelper"),d=0,e=600,f=function(a){var b;return d++,setTimeout(function(){d=0},e),d>=2&&(b=!0,d=0,a.currentTarget.wasDoubleClicked=!0),c.doesEventTargetAcceptEvents(a)&&b};c.registerEvent("doubleclick",function(a){return function(c,d){var e=b.flow(a(c,"mouseup",f,d,!0),a(c,"touchend",f,d,!0));return{teardown:e}}})}),define("views/events/press",["require","lodash","views/events/eventHelper"],function(a){"use strict";var b=a("lodash"),c=a("views/events/eventHelper"),d=function(a){return c.isLeftMouseBtn(a)&&c.doesEventTargetAcceptEvents(a)};c.registerEvent("press",function(a){return function(e,f,g){var h=function(a){return c.doesEventTargetAcceptEvents(a)?(g.triggerEvent({type:"rollover"}),!0):void 0},i=b.flow(a(e,"mousedown",d,f),a(e,"touchstart",h,f,!1));return{teardown:i}}})}),define("views/events/release",["require","lodash","views/events/eventHelper","views/events/touchHelper"],function(a){"use strict";var b=a("lodash"),c=a("views/events/eventHelper"),d=(a("views/events/touchHelper"),function(a){var b=a.currentTarget.wasDoubleClicked;return a.currentTarget.wasDoubleClicked=null,!!b}),e=function(a){return!d(a)&&c.isLeftMouseBtn(a)&&c.doesEventTargetAcceptEvents(a)},f=function(a){return c.doesEventTargetAcceptEvents(a)};c.registerEvent("release",function(a){return function(c,d){var g=b.flow(a(c,"mouseup",e,d),a(c,"touchend",f,d,!1));return{teardown:g}}})}),define("views/events/rightpress",["require","views/events/eventHelper"],function(a){"use strict";var b=a("views/events/eventHelper"),c=function(a){return b.isRightMouseBtn(a)&&b.doesEventTargetAcceptEvents(a)};b.registerEvent("rightpress",function(a){return function(b,d){var e=a(b,"mousedown",c,d);return{teardown:e}}})}),define("views/events/rightrelease",["require","views/events/eventHelper"],function(a){"use strict";var b=a("views/events/eventHelper"),c=function(a){return b.isRightMouseBtn(a)&&b.doesEventTargetAcceptEvents(a)};b.registerEvent("rightrelease",function(a){return function(b,d){var e=a(b,"mouseup",c,d);return{teardown:e}}})}),define("views/events/rollover",["require","lodash","views/events/eventHelper","views/events/touchHelper","views/helpers/dom"],function(a){"use strict";var b,c=a("lodash"),d=a("views/events/eventHelper"),e=(a("views/events/touchHelper"),a("views/helpers/dom"));d.registerEvent("rollover",function(a){return function(f,g,h){var i=function(a){var c=function(){return b&&b!==h&&"rollout"!==b.latestEvent};return c()&&!b.isObscurable&&b.triggerEvent({type:"rollout",target:a.target}),b=h,function(){var a=0,c=function(b){a++},d=function(g){var i;if(0===a&&!h.isObscurable){if(i=document.elementFromPoint(g.pageX,g.pageY),b.el===e.closest(i,e.isSlideObject))return;h.triggerEvent({type:"rollout",target:g.target})}document.removeEventListener("mousemove",d),f.removeEventListener("mousemove",c)};f.addEventListener("mousemove",c),document.addEventListener("mousemove",d)}(),d.doesEventTargetAcceptEvents(a)},j=function(a){return d.doesEventTargetAcceptEvents(a)},k=c.flow(a(f,"mouseover",i,g),a(f,"touchstart",j,g,!0,!1));return{teardown:k}}})}),define("views/events/rollout",["require","lodash","views/events/eventHelper","views/helpers/collisionHelper","views/helpers/dom","helpers/utils","polyfills/vendorOverrides"],function(a){"use strict";var b=a("lodash"),c=a("views/events/eventHelper"),d=a("views/helpers/collisionHelper"),e=a("views/helpers/dom"),f=a("helpers/utils"),g=a("polyfills/vendorOverrides"),h=40,i=g.mouseOver||function(){return"mouseenter"},j=function(a){var b=(a.getCurrentStateData&&a.getCurrentStateData()||{}).html5data,c=null!=b,d=c?b.width:a.get("width"),e=c?b.height:a.get("height");return{width:d,height:e}},k=function(a){return a.get("showcontrols")?h:0};c.registerEvent("rollout",function(a){return function(c,g,h){var l,m,n,o,p,q,r=h.props.model,s=function(){m=null,g({type:"rollout",node:c,target:c}),clearInterval(n)},t=function(a){o=j(r),p=o.width,q=o.height+k(r);var b,c,g=[[0,0],[p,q]],i=d.slideObjectMouseLoc(h),l=h.props.model.isZoomable(),n=!1;return l&&(b=document.elementFromPoint(e.mouseX,e.mouseY),n=e.hasClass(b,"zoom-image")),f.pointInRect(i.x,i.y,g)||n?void(h.isRectangular||(c=d.containsPoint(h,i.x,i.y),c?m="over":"over"===m&&s())):void s()};return l=h.isObscurable?b.flow(a(c,i(),function(a){h.isObscurable&&(clearInterval(n),n=setInterval(t,16))},b.noop),a(c,"touchend",null,g,!0,!1)):b.flow(a(c,"mouseleave",function(a){return!0},g),a(c,"touchend",null,g,!0,!1)),{teardown:l}}})}),define("views/events/clickoutsideobjects",["require","lodash","views/events/eventHelper"],function(a){"use strict";var b,c=a("lodash"),d=a("views/events/eventHelper"),e=function(a){var e=d.parentNodesOf(a.target);b=c(e).pluck("dataset").compact().pluck("modelId").compact().value()},f=function(a){return{data:b||[]}};d.registerEvent("clickoutsideobjects",function(a){return function(b,d){var g=c.flow(a(b,"mousedown",e,c.noop,!0),a(b,"touchstart",e,c.noop,!0,!1)),h=c.flow(a(b,"mouseup",f,d,!0),a(b,"touchend",f,d,!0,!1));return[{teardown:g},{teardown:h}]}})}),define("views/events/clickoutside",["require","lodash","views/events/eventHelper"],function(a){"use strict";var b=a("lodash"),c=a("views/events/eventHelper"),d=function(a,b){return a.contains(b.target)?!1:{node:a,target:b.target}};c.registerEvent("clickoutside",function(a){return function(c,e){var f=b.flow(a(document.body,"click",b.partial(d,c),e),a(document.body,"touchstart",b.partial(d,c),e,!1,!1));return{teardown:f}}})}),define("views/events/releaseoutside",["require","lodash","views/events/eventHelper"],function(a){"use strict";var b=a("lodash"),c=a("views/events/eventHelper");c.registerEvent("releaseoutside",function(a){return function(c,d){var e,f,g=function(a,b){var c=document.elementFromPoint(b.pageX,b.pageY);return e&&e(),a.contains(c)?!1:{node:a}},h=function(a,c){return g(a,b.first(c.changedTouches))},i=function(){e=b.flow(a(document,"mouseup",b.partial(g,c),d),a(document,"touchend",b.partial(h,c),d,!0,!1))};return f=b.flow(a(c,"mousedown",i),a(c,"touchstart",i)),{teardown:function(){e&&e(),f()}}}})}),define("views/events/allEvents",["require","views/events/doubleclick","views/events/press","views/events/release","views/events/rightpress","views/events/rightrelease","views/events/rollover","views/events/rollout","views/events/clickoutsideobjects","views/events/clickoutside","views/events/releaseoutside"],function(a){"use strict";a("views/events/doubleclick"),a("views/events/press"),a("views/events/release"),a("views/events/rightpress"),a("views/events/rightrelease"),a("views/events/rollover"),a("views/events/rollout"),a("views/events/clickoutsideobjects"),a("views/events/clickoutside"),a("views/events/releaseoutside")}),define("models/presentation/SlideLink",["require","models/BaseModel"],function(a){"use strict";var b=a("models/BaseModel"),c=b.extend({});return c}),define("collections/presentation/SlideLinks",["require","collections/BaseCollection","models/presentation/SlideLink"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/SlideLink"),d=b.extend({model:c});return d}),define("models/presentation/SlideRef",["require","models/BaseModel","collections/presentation/SlideLinks","helpers/assetManager","helpers/resolver"],function(a){"use strict";var b=a("models/BaseModel"),c=a("collections/presentation/SlideLinks"),d=a("helpers/assetManager"),e=a("helpers/resolver"),f=b.extend({shorthand:["assetIds"],associations:{linksto:c},loadAssets:function(){return d.loadAssets(this.assetIds().slice())},getSlide:function(){return e.resolvePath(this.id)}});return f}),define("collections/presentation/SlideRefs",["require","collections/BaseCollection","models/presentation/SlideRef"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/SlideRef"),d=b.extend({model:c});return d}),define("models/presentation/SlideMap",["require","lodash","models/BaseModel","collections/presentation/SlideRefs","helpers/utils","helpers/resolver","helpers/errorManager"],function(a){"use strict";var b,c=a("lodash"),d=a("models/BaseModel"),e=a("collections/presentation/SlideRefs"),f=a("helpers/utils"),g=a("helpers/resolver"),h=a("helpers/errorManager"),i=h.throwError("SlideMap"),j=function(a,b){return b.type===a},k=c.partial(j,"slidedraw"),l=c.partial(j,"slide"),m=c.partial(j,"slidebank"),n=d.extend({shorthand:["queueSize"],associations:{slideRefs:e},initialize:function(){this.loaders=[]},setCurrent:function(a,c){var d;b||(b=g.getPresentationContext()),this.queueCounter=0,this.stopCurrentLoaders(),d=g.resolvePath(a,b),d.isScene&&(a+="."+d.slides().first().id),c.done(function(){this.getNextSlide(f.stripPlayer(a))}.bind(this))},stopCurrentLoaders:function(){this.loaders.length>0&&this.loaders.forEach(function(a){a.dfds.forEach(function(a){a.reject()})}),this.loaders=[]},checkQueue:function(){return this.queueCounter<this.queueSize()},getFirstOfDraw:function(a){var c=g.resolvePath(a,b),d=c.getFirstSlide(),e=this.slideRefs().findWhere({id:d.id}),h=e.loadAssets();h.done(function(){this.getNextSlide(f.prefixWithPlayer(a))}.bind(this))},getNextSlideFromDraw:function(a){var d,e,f;this.checkQueue()&&(d=g.resolvePath(a,b),e=c.result(d,"getSlideDraw"),e&&(f=e.getNextSlideId(d),f&&this.preloadNextBankSlide(f)))},getNextSlide:function(a){var d,e,f;this.checkQueue()&&(d=this.slideRefs().findWhere({id:a}),d&&d.get("linksTo")?(e=d.get("linksTo"),c.isArray(e)||i("getNextSlide","`linksTo` must be an array"),this.preloadLink(e)):(f=g.resolvePath(a,b),f.isSlideDraw?this.preloadNextBankSlide(f.startingSlide()):this.getNextSlideFromDraw(a)))},preloadNextBankSlide:function(a){var b=c.last(a.split("."));this.preloadLink([{id:b,type:"slidebank",fullId:a}])},preloadLink:function(a){a.forEach(function(a){if("nextviewedslide"!==a.id){var b,c=this.slideRefs().findWhere({id:a.id});k(a)?this.getFirstOfDraw(a.id):(b=c.loadAssets(),this.loaders.push(b),b.done(function(){this.queueCounter++,l(a)?this.getNextSlide(a.id):m(a)&&this.getNextSlideFromDraw(a.fullId)}.bind(this)))}}.bind(this))}});return n}),define("models/presentation/Window",["require","models/BaseModel"],function(a){"use strict";var b=a("models/BaseModel"),c=b.extend({});return c}),define("collections/presentation/Windows",["require","collections/BaseCollection","models/presentation/Window"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/Window"),d=b.extend({model:c});return d}),define("models/presentation/Display",["require","models/BaseModel","collections/presentation/Windows"],function(a){"use strict";var b=a("models/BaseModel"),c=a("collections/presentation/Windows"),d=b.extend({associations:{windows:c},shorthand:["width","height"]});return d}),define("models/presentation/Scoring",["require","lodash","helpers/pubSub","models/BaseModel","models/presentation/mixins/propertizable","helpers/constants","helpers/resolver","helpers/utils"],function(a){"use strict";var b=(a("lodash"),a("helpers/pubSub")),c=a("models/BaseModel"),d=a("models/presentation/mixins/propertizable"),e=a("helpers/constants"),f=a("helpers/resolver"),g=a("helpers/utils"),h=c.extend({mixins:[d],playerPropNames:{Score:0,PercentScore:0,Status:e.statuses.INCOMPLETE,Completed:!1},shorthand:["type","scoreRefs"],subscriptions:{"slide:viewed":"incrementViewed"},initialize:function(){
this.viewedSlides=0,b.once("data:initialized",this.setupRefs.bind(this))},setupRefs:function(){this.scoreRef=null!=this.scoreRefs()&&this.scoreRefs().length>0&&this.scoreRefs()[0],this.linkRef()},hasScoreRef:function(){return!!this.scoreRef},linkRef:function(){this.hasScoreRef()&&(this.quiz=this.getQuiz(this.scoreRef.ref),this.quiz.setScoring(this))},incrementViewed:function(a,c){c||(this.viewedSlides++,this.isPastViewThreshold()&&this.isView()&&b.trigger("course:viewed",this))},getQuiz:function(a){return f.resolvePath(g.prefixWithPlayer(a),this)},isCourseComplete:function(){return this.isView()||!(!this.quiz||!this.quiz.getIsComplete())},isPastViewThreshold:function(){return this.viewedSlides>=this.get("viewThreshold")},weightScore:function(a){return g.fix(a/this.get("weight"),2)},getStatus:function(){var a,b,c=e.statuses.INCOMPLETE;return!this.isView()&&this.isCourseComplete()&&(this.isType("survey")?c=this.get("passStatus"):this.isType("quiz")&&(a=this.quiz.prop("PercentScore")>=this.quiz.passPercent(),c=this.get(a?"passStatus":"failStatus"),(this.scoreRef.mustpass||!a)&&(b=this.quiz.isPassed()?"passStatus":"failStatus",c=this.get(b)))),c},updateStatus:function(a){var c=!a,d=this.getStatus();this.prop("Status",d),c&&b.trigger("status:updated")},updateScore:function(a){var b=0,c=0;return this.quiz!==a?void this.quiz.updateScore():(this.quiz.maxPoints>0&&(b=this.quiz.prop("Score"),c=this.quiz.prop("PercentScore")),this.prop({Score:b,PercentScore:c}),void this.updateStatus())},setComplete:function(a){this.hasScoreRef()&&this.prop({Completed:this.quiz.getIsComplete()})},reset:function(){this.prop({Status:this.getStatus(),Score:this.quiz.prop("Score"),Completed:this.quiz.prop("Completed")})},isView:function(){return this.isType("view")},checkCourseComplete:function(){var a=this.prop("Completed");this.updateStatus(),this.isCourseComplete()&&(this.setComplete(),a||this.isView()||b.trigger("course:completed",this,a))},isPassed:function(){return this.prop("Status")===this.get("passStatus")},getPercentScore:function(){return g.pctToDec(this.quiz.prop("PercentScore"))},markAttemptsSent:function(){this.quiz&&this.quiz.markAttemptsSent()},getViewedStatus:function(){return this.get(this.isPastViewThreshold()?"passStatus":"failStatus")}});return h}),define("models/presentation/mixins/resumables/slideResumable",["require","models/presentation/helpers/utils","helpers/resume/Chunk"],function(a){"use strict";var b=a("models/presentation/helpers/utils"),c=a("helpers/resume/Chunk"),d=function(a){return c.create(c.toUnsignedString64(a))},e={getResumeData:function(){return this.encodedResumeData||""},buildResumeData:function(){var a="";if(this.viewed)if(this.resume()){var b=this.getBaseLayer();a=[this.getInteractionResumeData(),b.timeline().getResumeData(),b.getObjectsResumeData(),this.getSlideLayerResumeData(),this.slideLayers().getActiveLayersResumeData(),b.audiolib().getResumeData(),this.variables().getResumeDataOrReturn("")].map(c.create).join("")}else this.hasInteractions()&&(a=c.create(this.getInteractionResumeData()));this.encodedResumeData=a,this.setResumeData(a,!1)},getSlideLayerResumeData:function(){return this.slideLayers().getNonBaseLayers().filter(b.isResumable).reduce(function(a,b){var d=b.getResumeDataOrReturn("");return a+c.create(d)},"")},getInteractionResumeData:function(){var a="";return this.hasInteractions()&&(a=this.interactions().map(function(a){return a.getResumeData()}).map(c.create).join("")),a},updateInteractionData:function(){var a;return this.hasInteractions()&&(a=new c({fullString:this.getResumeData()}).remainder(),this.encodedResumeData=c.create(this.getInteractionResumeData())+a),this},resetResume:function(){this.encodedResumeData="",this.setResumeData(""),this.interactionData=""},resetBeforeView:function(){return this.resetProps(),this.variables().resetValues(),this.slideLayers().invoke("resetResume"),this},setResumeData:function(a,b){return a.length>0?(this.interactionData=new c({fullString:a}),this.setInteractionResumeData(this.interactionData.encodedString()),this.resume()&&(b!==!1&&this.setAsViewed(),this.hasResumeData=!0,this.timelineData=this.interactionData.reChunk(),this.objectData=this.timelineData.reChunk(),this.layerData=this.objectData.reChunk(),this.activeLayerData=this.layerData.reChunk(),this.audioData=this.activeLayerData.reChunk(),this.variableData=this.audioData.reChunk())):this.hasResumeData=!1,this},applyResumeData:function(){if(this.resume()&&this.hasResumeData){this.hasResumeData=!1;var a=this.getBaseLayer();a.timeline().setResumeData(this.timelineData.encodedString()),a.setObjectsResumeData(this.objectData.encodedString()),this.setSlideLayerResumeData(this.layerData),this.variables().setResumeData(this.variableData.encodedString()),this.slideLayers().restoreActiveLayers(this.activeLayerData.encodedString())}return this},setInteractionResumeData:function(a){var b=new c({fullString:a});this.hasInteractions()&&this.interactions().forEach(function(a){a.setResumeData(b.encodedString()),b=b.reChunk()})},setSlideLayerResumeData:function(a){var d=new c({fullString:a.encodedString()});this.slideLayers().getNonBaseLayers().filter(b.isResumable).forEach(function(a){a.setResumeData(d.encodedString()),d=d.reChunk()})},onBeforeResumeBuilt:function(){this.slideLayers().invoke("prepareResumeData")},onAfterResumeBuilt:function(){this.getSceneOrDraw().saveSlideData(this),this.getBaseLayer().timeline().silentReset()},getWindowResumeRef:function(){var a,b,c=this.getSlideDraw();return c?(a="1",b=[this.index(),c.getScene().index(),c.index()]):(a="0",b=[this.index(),this.getScene().index()]),a+b.map(d).join("")}};return e}),define("models/presentation/mixins/resumables/slideLayerResumable",["require","lodash","models/presentation/helpers/utils","helpers/resume/Chunk"],function(a){"use strict";var b=a("lodash"),c=a("models/presentation/helpers/utils"),d=a("helpers/resume/Chunk"),e=function(a){return!!a.isSlide},f={init:function(){this.getResumeDataOrReturn=b.partial(c.meetConditionOrReturn,this,this.isViewed)},getResumeData:function(){return this.encodedResumeData},buildResumeData:function(){this.encodedResumeData=this.viewed?[this.timeline().getResumeData(),this.getObjectsResumeData(),this.audiolib().getResumeData(),this.variables().getResumeDataOrReturn("")].map(d.create).join(""):""},getObjectsResumeData:function(){return this.objectIndex.filter(c.isResumable).reduce(function(a,b){return a+d.create(b.getResumeData())},"")},resetResume:function(){this.encodedResumeData="",this.timeline().resetResume(),this.variables().resetValues(),this.resetProps(),b.invoke(this.objectIndex,"resetResume")},setResumeData:function(a){if(this.shouldResume()&&a){var b=new d({fullString:a}),c=b.reChunk(),e=c.reChunk(),f=e.reChunk();this.timeline().setResumeData(b.encodedString()),this.setObjectsResumeData(c.encodedString()),this.audiolib().setResumeData(e.encodedString()),this.variables().setResumeData(f.encodedString())}},setObjectsResumeData:function(a){var b=new d({fullString:a});this.objectIndex.filter(c.isResumable).forEach(function(a){a.setResumeData(b.encodedString()),b=b.reChunk()})},onBeforeResumeBuilt:function(){this.objects().invoke("prepareResumeData")},updateAnimationData:function(){b.invoke(this.objectIndex.filter(c.isResumable),"updateAnimationData")},shouldResume:function(){return this.resume()&&this.getClosestAncestor(e).resume()}};return f}),define("models/presentation/Audio",["require","models/BaseModel","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/eventable","helpers/assetManager"],function(a){"use strict";var b=a("models/BaseModel"),c=a("mixins/actionable"),d=a("models/presentation/mixins/propertizable"),e=a("models/presentation/mixins/eventable"),f=a("helpers/assetManager"),g=b.extend({shorthand:["assetId","events"],mixins:[c,e,d],abilities:{resolveAsThis:!0,resolveAsParent:!1,beEventTarget:!0},playerPropNames:{isTimelineControlled:!1,isPlaying:!1,resumeOnTimelinePlay:!1},getSlide:function(){return this.getClosestAncestorByKind("slide")},getUrl:function(){return f.getAssetUrl(this.assetId())},getResumeData:function(){var a="",b=0;return this.getSlide().resume()&&(b+=this.prop("isTimelineControlled")?1:0,b+=this.prop("isPlaying")?2:0,b+=this.prop("resumeOnTimelinePlay")?4:0,a=b.toString()),a},setResumeData:function(a){this.getSlide().resume()&&(a=parseInt(a,10),this.prop({isTimelineControlled:!!(1&a),isPlaying:!!(2&a),resumeOnTimelinePlay:!!(4&a)}))}});return g}),define("collections/presentation/AudioLib",["require","lodash","collections/BaseCollection","helpers/resume/Chunk","models/presentation/Audio"],function(a){"use strict";var b=(a("lodash"),a("collections/BaseCollection")),c=a("helpers/resume/Chunk"),d=a("models/presentation/Audio"),e=b.extend({model:d,getResumeData:function(){return this.invoke("getResumeData").map(c.create)},setResumeData:function(a){var b=new c({fullString:a});this.forEach(function(a){a.setResumeData(b.encodedString()),b=b.reChunk()})}});return e}),define("models/presentation/GroupingSlideObject",["require","lodash","models/presentation/SlideObject","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("models/presentation/SlideObject"),d=a("helpers/utils"),e=d.createSuper(c),f=e("resolveables").concat(["objects"]),g=b.defaults({groupObjects:!0},e("abilities")),h=c.extend({resolveables:f,abilities:g,isGroupingSlideObject:!0,resolvers:{objects:function(a,b){return b.findNestedObject(a)}},getCorrectBounds:function(a,c){var d=a.getBounds(),e=a.xPos(),f=a.yPos();return b.extend({left:e,right:e+d.width,top:f,bottom:f+d.height,idx:c},b.pick(d,"height","width"))}});return h}),define("models/presentation/StateGroupSlideObject",["require","lodash","helpers/resolver","models/presentation/SlideObject","models/presentation/GroupingSlideObject","helpers/utils","helpers/actionManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/resolver"),d=a("models/presentation/SlideObject"),e=a("models/presentation/GroupingSlideObject"),f=a("helpers/utils"),g=a("helpers/actionManager"),h=(f.createSuper(d),e.extend({shorthand:["actionstates"],setState:function(a,d){var e=b.findWhere(this.actionstates(),{name:c.getRef(a.stateRef,d.context,d)});return e&&!b.isEmpty(e.actions)&&g.executeActions(e.actions,b.extend(d,{context:this})),this},getIsExpandingLabel:function(){return this.isExpandingLabel=this.isExpandingLabel||!!this.objects().findWhere({kind:"expandinglabel"}),this.isExpandingLabel},getActionStateFromVar:function(){var a=this.get("actionstates");return a&&b.findWhere(a,{name:this.prop("ObjectState")})},getClickDef:function(){var a=this.getActionStateFromVar();return a&&a.clickdef}}));return h}),define("models/presentation/ShuffledGroupingSlideObject",["require","lodash","models/presentation/SlideObject","models/presentation/GroupingSlideObject","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("models/presentation/SlideObject"),d=a("models/presentation/GroupingSlideObject"),e=a("helpers/utils"),f=e.createSuper(c),g=function(a){return e.isTrue(a.get("shuffleLock"))},h=function(a,c,d){return b.sortBy(d,a).every(function(b,d,e){var f=e[d-1];return f?b[a]>=f[a]+.75*f[c]:!0})},i=b.partial(h,"top","height"),j=b.partial(h,"left","width"),k=function(a,b,c,d,e){var f=a[d],g=this.getCorrectBounds(f),h=a[d-1],i=h&&this.getCorrectBounds(h);if(0===d)f[b.defaultCoord](c[b.origin]),"endpoint"===e[1].altAlign?f[b.altCoord](c[b.altEndpoint]-g[b.dimension]):f[b.altCoord](c[b.altOrigin]);else switch(f[b.defaultCoord](i[b.endpoint]+c.defaultSpacing),c.altAlign){case"origin":f[b.altCoord](i[b.altOrigin]);break;case"endpoint":f[b.altCoord](i[b.altEndpoint]-g[b.dimension]);break;case"oOffset":f[b.altCoord](i[b.altOrigin]+c.altSpacing);break;case"eOffset":f[b.altCoord](i[b.altEndpoint]+c.altSpacing)}},l=function(a,b,c){var d=a[c];d.xPos(b.left),d.yPos(b.top)},m=b.defaults({resolveAsParent:!1,groupObjects:!0},f("abilities")),n=d.extend({abilities:m,initialize:function(){f("initialize").apply(this,arguments),this.get("shuffle")&&this.setShuffleBounds().shuffleObjects().determineSpacing().sortBoundsFromSpacing().setSpacing().setShuffledPositions()},setShuffleBounds:function(){return this.originalBounds=this.objects().map(this.getCorrectBounds),this},getShuffledArray:function(){return this.shuffledObjectIndices.map(function(a){return this.objects().at(a)}.bind(this))},shuffleObjects:function(){var a=b.shuffle(this.objects().slice());return this.repositionLockedItems(a),this.shuffledObjectIndices=a.map(function(a){return this.objects().indexOf(a)}.bind(this)),this},repositionLockedItems:function(a){this.objects().forEach(function(b,c){if(g(b)){var d=a[c],e=a.indexOf(b);a[c]=a[e],a[e]=d}})},determineSpacing:function(){return i(this.originalBounds)?this.spacing="vertical":j(this.originalBounds)?this.spacing="horizontal":this.spacing="none",this},sortBoundsFromSpacing:function(){var a="vertical"===this.spacing?"top":"left";return this.originalBounds=b.sortBy(this.originalBounds,a),this},setSpacing:function(){if("none"===this.spacing)return this.positionCallback=b.partial(l,this.getShuffledArray()),this;var a=this.originalBounds,c="vertical"===this.spacing,d=c?"yPos":"xPos",e=c?"xPos":"yPos",f=c?"top":"left",g=c?"left":"top",h=c?"bottom":"right",i=c?"right":"bottom",j=c?"height":"width";a.forEach(function(b,c){var d=a[c-1];d&&(b.defaultSpacing=b[f]-d[h],b[g]===d[g]?b.altAlign="origin":b[i]===d[i]?b.altAlign="endpoint":b[g]>d[i]?(b.altAlign="oOffset",b.altSpacing=b[g]-d[g]):(b.altAlign="eOffset",b.altSpacing=b[g]-d[i]))});var m={defaultCoord:d,altCoord:e,origin:f,altOrigin:g,endpoint:h,altEndpoint:i,dimension:j};return this.positionCallback=b.partial(k.bind(this),this.getShuffledArray(),m),this},setShuffledPositions:function(){this.originalBounds.forEach(this.positionCallback)}});return n}),define("models/presentation/TextInputSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/utils"],function(a){"use strict";var b=(a("lodash"),a("helpers/constants")),c=(a("models/BaseModel"),a("models/presentation/SlideObject")),d=(a("helpers/utils"),c.extend({shorthand:["background"],variableProps:{Text:{type:b.varTypes.STRING,value:""}},getPathRef:function(){return this.background().vectorData.pr}}));return d}),define("models/presentation/ScrollAreaSlideObject",["require","lodash","models/presentation/GroupingSlideObject","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("models/presentation/GroupingSlideObject"),d=(a("helpers/utils"),c.extend({shorthand:["background"],getPathRef:function(){var a=this.background().vectorData;return a?a.pr:{}},getBounds:function(){var a=b(this.background().vectorData).pick("top","right","bottom","left").value(),c={xPos:a.left,yPos:a.top,right:a.right,bottom:a.bottom,fullX:a.left,fullY:a.top};return c.height=c.fullHeight=Math.abs(c.bottom-c.yPos),c.width=c.fullWidth=Math.abs(c.right-c.xPos),c}}));return d}),define("models/presentation/ExpandingLabelSlideObject",["require","lodash","helpers/constants","models/presentation/GroupingSlideObject","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/constants"),d=a("models/presentation/GroupingSlideObject"),e=a("helpers/utils"),f=d.extend({shorthand:["colors","background","borderColor"],initialize:function(){this.addExtraVariables().setupLabelColors()},addExtraVariables:function(){return this.variables().addVariable({name:"_expanded",type:c.varTypes.BOOL,value:!1}),this},setupLabelColors:function(){var a=b(this.colors()),c=a.findWhere({name:"border"}),d=a.findWhere({name:"bg"});if(c){var f=b.first(c.fill.colors),g=e.toRgba(f.rgb,f.alpha);this.set("borderColor",g)}d&&this.set("background",d)}});return f}),define("models/presentation/DropListSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/constants"),d=(a("models/BaseModel"),a("models/presentation/SlideObject")),e=a("helpers/utils"),f=d.extend({variableProps:{SelectedItemData:{type:c.varTypes.STRING,value:""},SelectedItemIndex:{type:c.varTypes.NUM,value:-1}},initialize:function(){this.itemslist=e.getPath(this,"data.itemlist").slice(),this.shuffleItems()},shuffleItems:function(){this.get("shuffle")&&(this.itemslist=b.shuffle(this.itemslist))}});return f}),define("models/presentation/DropareaSlideObject",["require","lodash","models/presentation/SlideObject","helpers/utils","helpers/constants"],function(a){"use strict";var b=(a("lodash"),a("models/presentation/SlideObject")),c=(a("helpers/utils"),a("helpers/constants")),d=b.extend({variableProps:{DragConnectData:{type:c.varTypes.STRING,value:""},SelectedItem:{type:c.varTypes.STRING,value:""}}});return d}),define("models/presentation/DragitemSlideObject",["require","lodash","models/presentation/SlideObject","helpers/constants"],function(a){"use strict";var b=(a("lodash"),a("models/presentation/SlideObject")),c=a("helpers/constants"),d=b.extend({variableProps:{SelectedItem:{type:c.varTypes.STRING,value:""}}});return d}),define("models/presentation/SequenceCtrlSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/constants"),d=(a("models/BaseModel"),a("models/presentation/SlideObject")),e=a("helpers/utils"),f=function(){return b.range(10).reduce(function(a,b){return a["_pos"+b]={type:c.varTypes.STRING,value:""},a},{})},g=b.extend(f(),{ItemOrder:{type:c.varTypes.STRING,value:""}}),h=d.extend({variableProps:g,initialize:function(){this.setupItemsList()},setupItemsList:function(){var a;this.itemsListOrder=e.getPath(this,"data.itemlist").slice(),this.itemsIdx=this.itemsListOrder.reduce(function(a,b,c){return a[b.itemdata]=c,a},{}),this.itemslist=b.shuffle(this.itemsListOrder),a=this.itemslist.reduce(function(a,b,c){return a+this.itemsIdx[this.itemslist[c].itemdata]}.bind(this),""),this.prop("ItemOrder")||this.prop("ItemOrder",a)},getIndexByData:function(a){return this.itemsIdx[a]}});return h}),define("collections/presentation/SlideObjects",["require","lodash","collections/BaseCollection","models/presentation/SlideObject","models/presentation/GroupingSlideObject","models/presentation/StateGroupSlideObject","models/presentation/ShuffledGroupingSlideObject","models/presentation/TextInputSlideObject","models/presentation/ScrollAreaSlideObject","models/presentation/ExpandingLabelSlideObject","models/presentation/DropListSlideObject","models/presentation/DropareaSlideObject","models/presentation/DragitemSlideObject","models/presentation/SequenceCtrlSlideObject","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("collections/BaseCollection"),d=a("models/presentation/SlideObject"),e=a("models/presentation/GroupingSlideObject"),f=a("models/presentation/StateGroupSlideObject"),g=a("models/presentation/ShuffledGroupingSlideObject"),h=a("models/presentation/TextInputSlideObject"),i=a("models/presentation/ScrollAreaSlideObject"),j=a("models/presentation/ExpandingLabelSlideObject"),k=a("models/presentation/DropListSlideObject"),l=a("models/presentation/DropareaSlideObject"),m=a("models/presentation/DragitemSlideObject"),n=a("models/presentation/SequenceCtrlSlideObject"),o=a("helpers/utils"),p=function(a){return a.canGroupObjects()},q={objgroup:e,stategroup:f,shufflegroup:g,textinput:h,scrollarea:i,expandinglabel:j,droplist:k,droparea:l,dragitem:m,sequencectrl:n},r=c.extend({model:function(a,b){var c=q[a.kind]||d;return o.buildDataStructure(c,b,a)},findNestedObject:function(a){var c;return b.find(this.filter(p),function(b){return c=b.objects().get(a),!!c}),c}});return[e,g,f,i,j].forEach(function(a){a.addAssociation("objects",r)}),r}),define("models/presentation/SlideLayer",["require","lodash","models/BaseModel","helpers/actionManager","models/presentation/mixins/eventable","mixins/varPropListenable","models/presentation/mixins/resumables/slideLayerResumable","models/presentation/mixins/propertizable","helpers/assetManager","mixins/actionable","collections/presentation/AudioLib","collections/presentation/SlideObjects","collections/presentation/Variables","models/presentation/Timeline","collections/presentation/Animations","helpers/resolver"],function(a){"use strict";var b=a("lodash"),c=a("models/BaseModel"),d=(a("helpers/actionManager"),a("models/presentation/mixins/eventable")),e=a("mixins/varPropListenable"),f=a("models/presentation/mixins/resumables/slideLayerResumable"),g=a("models/presentation/mixins/propertizable"),h=a("helpers/assetManager"),i=a("mixins/actionable"),j=a("collections/presentation/AudioLib"),k=a("collections/presentation/SlideObjects"),l=a("collections/presentation/Variables"),m=a("models/presentation/Timeline"),n=a("collections/presentation/Animations"),o=a("helpers/resolver"),p="custom",q=function(a,b){return a.push(b),b.setSlideIndex(a.length-1),b.objects&&b.objects().reduce(q,a),a},r=c.extend({mixins:[d,i,f,g,e],shorthand:["isBaseLayer","pauseParent","modal","resume","depth","background","events","actionGroups"],resolveables:["objects","actionGroups","audiolib","variables"],resolvers:{objects:function(a,b){return b.findNestedObject(a)}},shortEvents:{timeline:{complete:"onTimelineComplete"},self:{"action:show_slidelayer":"show","action:hide_slidelayer":"hide","action:setactivetimeline":"setActiveTimeline","action:pause_animations":"pauseTimeline","action:resume_timeline":"resumeTimeline"}},abilities:function(){var a=function(){return!this.isBaseLayer()};return{resolveAsThis:a,beEventTarget:a,resolveAsParent:a}},associations:{objects:k,audiolib:j,timeline:m,variables:l,animations:n},initialize:function(){this.isBaseLayer()&&this.depth(0),this.createObjectIndex()},hasBackground:function(){return!!this.background()},backgroundImageUrl:function(){return h.getAssetUrl(this.background().imagedata.assetId)},isPenetrable:function(){return!this.modal()},determineObjectVisibility:function(a){if(!this.hasShown)return this;var b="show"===a,c=this.get("hideobjectsondisplay")||[];return c.forEach(function(a){var c=o.resolvePath(a.value,this);c.prop("HiddenByLayer",b)}.bind(this)),this},toggleVisibility:function(a,b,c){var d="show"===a,e=d?"shown":"hidden",f=null!=c&&c.transition===p;if(d)this.isOpen?this.timeline().updateResetPoint():this.resume()||this.resetResume(),this.hasShown=!0,this.isOpen=!0,this.cancelTransition();else{if(!this.isOpen)return;this.isOpen=!1,this.timeline().updateResetPoint()}if(f){var g=this.animations().get(c.animationId),h=function(){this.isTransitioning=!1,this.trigger(e,this,c)}.bind(this);this.isTransitioning=!0,this.trigger(a+p,c,this,g,h)}else this.trigger(e,this,c);return this.determineObjectVisibility(a).executePlayerEvent(b),this},setActiveTimeline:function(a){var b=o.getRef(a.objRef,this),c=o.resolvePath(b,this);return this.trigger("timeline:changed",c.timeline()),this},cancelTransition:function(){this.isTransitioning=!1,this.trigger("cancelTransition")},pauseTimeline:function(){this.timeline().pause()},resumeTimeline:function(){this.timeline().play()},onTimelineComplete:function(){this.getClosestThisRef().executePlayerEvent("ontimelinecomplete")},createObjectIndex:function(){return this.objectIndex=this.objects().reduce(q,[])||[],this},getObjectByIndex:function(a){return this.objectIndex[a]},setAsViewed:function(){return this.viewed=!0,this},isViewed:function(){return this.viewed},onAfterResumeBuilt:function(){this.isBaseLayer()||this.timeline().silentReset()},setAsShowable:function(){this.isShowable=!0}}),s=r.prototype;return s.show=b.partial(s.toggleVisibility,"show","ontopmostlayer"),s.hide=b.partial(s.toggleVisibility,"hide","endtopmostlayer"),r}),define("collections/presentation/SlideLayers",["require","lodash","collections/BaseCollection","models/presentation/SlideLayer","helpers/resume/Chunk"],function(a){"use strict";var b=a("lodash"),c=a("collections/BaseCollection"),d=a("models/presentation/SlideLayer"),e=a("helpers/resume/Chunk"),f=function(a){return!a.isBaseLayer()&&!a.isShowable},g=c.extend({model:d,shortEvents:{self:{shown:"onLayerShown",hidden:"onLayerHidden"}},initialize:function(){this.activeLayers=[]},getBaseLayer:function(){return this.findWhere({isBaseLayer:!0})},getNonBaseLayers:function(){return this.without(this.getBaseLayer())},shouldHideOtherLayers:function(a){return a&&"never"!==a.hideOthers},hideOtherLayers:function(a){var c=function(b){return!b.isBaseLayer()&&b!==a&&!b.isTransitioning};return b.invoke(this.filter(c),"hide"),this},pauseBaseLayer:function(){return this.getBaseLayer().timeline().pause(),this},pauseAll:function(){this.invoke("pauseTimeline"),this.invoke("cancelTransition")},playBaseLayer:function(){return this.getBaseLayer().timeline().play(),this},getSlide:function(){return this.getClosestAncestorWithAssoc(g)},hideAllHideableLayers:function(){b.invoke(this.filter(f),"hide")},onLayerShown:function(a,b){this.addLayerToActive(a),this.shouldHideOtherLayers(b)&&this.hideOtherLayers(a),a.pauseParent()&&this.pauseBaseLayer()},onLayerHidden:function(a,b){this.removeLayerFromActive(a),this.getSlide().currentTimeline()===a.timeline()&&this.trigger("timeline:changed",this.getBaseLayer().timeline()),a.pauseParent()&&this.playBaseLayer()},removeLayerFromActive:function(a){return this.activeLayers=b.without(this.activeLayers,a),this.remapLayerDepths(),this},addLayerToActive:function(a){return this.removeLayerFromActive(a),this.activeLayers=b(this.activeLayers).push(a).value(),this.remapLayerDepths(),this},remapLayerDepths:function(){this.activeLayers.forEach(function(a,b){a.depth(b+1)})},restoreActiveLayers:function(a){for(var b,c=new e({fullString:a});c.encodedString().length>0;)b=this.at(c.getUnsignedValue()),b.show().setAsShowable(),c=c.reChunk()},getActiveLayersResumeData:function(){return this.activeLayers.reduce(function(a,b){return a+e.create(e.toSignedString64(b.index()))},"")}});return g}),define("models/presentation/mixins/resumables/interactionResumable",["require","lodash","helpers/constants","helpers/resume/Chunk"],function(a){"use strict";var b=a("lodash"),c=a("helpers/constants"),d=a("helpers/resume/Chunk"),e=[c.statuses.CORRECT,c.statuses.INCORRECT,c.statuses.INCOMPLETE,c.statuses.NEUTRAL],f=function(a,b){return a>-1?"0"+d.toUnsignedString64(a,2):"1"+d.create(b)},g=function(a,b){return[a,b].join(".")},h=b.partial(g,"statement"),i=b.partial(g,"choice"),j={init:function(){b.bindAll(this,"responseToResumeData")},getResumeData:function(){var a=this.prop("AttemptCount"),b=d.toUnsignedString64(a,2);return b+=[this.prop("Answered")?1:0,this.prop("Unanswered")?1:0,a>0?this.getAttemptResumeData():this.getNoAttemptResumeData()].join("")},getAttemptResumeData:function(){return[e.indexOf(this.prop("Status")),d.create(d.toSignedString64(this.prop("Score"))),d.create(d.toSignedString64(this.prop("LastScore"))),d.create(d.toSignedString64(this.prop("AnswerIndex")))].join("")},getNoAttemptResumeData:function(){var a=this.responses||[],b=d.toUnsignedString64(a.length,2);return b+a.map(this.responseToResumeData).join("")},responseToResumeData:function(a){var c,e,g,h=this.isValidResponse(a),i=null!=a&&!!a.statementResponse&&!!a.choiceResponse,j=(h?2:0)+(i?1:0),k=d.toUnsignedString64(j,1);return h&&(e=i?a.choiceResponse:a,g=b.findIndex(this.choices(),{id:e.split(".")[1]}),k+=f(g,e),i&&(c=b.findIndex(this.statements(),{id:a.statementResponse.split(".")[1]}),k+=f(c,a.statementResponse))),d.create(k)},resetResume:function(){this.resetProps(),this.responses=[],this.curAnswer=null},setResumeData:function(a){if(null!=a&&""!==a){var b=function(b){var c=a.slice(0,b);return a=a.slice(b),c};this.prop({AttemptCount:d.fromUnsignedString64(b(2)),Answered:"1"===b(1),Unanswered:"1"===b(1)}),this.prop("AttemptCount")>0?this.setAttemptResumeData(a):this.setNoAttemptResumeData(a)}},setAttemptResumeData:function(a){var b=function(b){var c=a.slice(0,b);return a=a.slice(b),c},c=parseInt(b(1)),f=new d({fullString:a}),g=f.reChunk(),h=g.reChunk(),i=h.getSignedValue();this.prop({Status:e[c],Score:f.getSignedValue(),LastScore:g.getSignedValue(),AnswerIndex:i}),this.curAnswer=this.answers()[i]},setNoAttemptResumeData:function(a){var b,c,e,f,g,j,k,l,m=function(b){var c=a.slice(0,b);return a=a.slice(b),c},n=function(){return"0"===m(1)},o=function(){return new d({fullString:a}).encodedString()},p=d.fromUnsignedString64(m(2)),q=new d({fullString:a});for(a=q.encodedString();p--;)b=d.fromUnsignedString64(m(1),10),c=1&b,e=2&b,e&&(n()?(g=d.fromUnsignedString64(m(2)),k=this.choices()[g].id,f=i(k)):f=o(),c&&(n()?(j=d.fromUnsignedString64(m(2)),l=h(this.statements()[j].id)):l=o(),f={choiceResponse:f,statementResponse:l}),this.responses=this.responses||[],this.responses.push(f))}};return j}),define("helpers/interactionHelper",["require","lodash","backbone","helpers/utils","helpers/errorManager","helpers/conditioner","helpers/actionManager"],function(a){"use strict";var b=a("lodash"),c=(a("backbone"),a("helpers/utils"),a("helpers/errorManager")),d=a("helpers/conditioner"),e=a("helpers/actionManager"),f=c.warn("interactionHelper"),g=function(a,b){return b.length===a.length},h=function(a,b){var c=a.getClosestAncestorByKind("slide");return d.evaluateStatement(b,c)},i={};i.multiplechoice=i.truefalse=i.hotspot=i.wordbank=i.multipleresponse=[g,function(a,b,c){return h(c,{kind:"and",statements:a.map(function(a){return{kind:"compare",operator:a.ignorecase?"ichas":"has",valuea:b,valueb:a.choiceid,typea:"object",typeb:"string"}})})}],i.sequence=i.matching=[function(a,c,d){var e=b.zip(a,c).map(function(a){return b.extend.apply(b,a)});return h(d,{kind:"and",statements:e})}],i.numeric=[function(a,b,c){return h(c,{kind:"and",statements:a.map(function(a){return a.statement})})}],i.fillin=[function(a,b,c){var d=c.prop("Value")[0];return h(c,{kind:"or",statements:a.map(function(a,b){return{kind:"compare",operator:a.ignorecase?"iceq":"eq",valuea:d,valueb:c.getChoiceById(a.choiceid).lmstext,typea:"string",typeb:"string"}})})}];var j={setCurrInteraction:function(a){return this.interaction=a,this},getChosenAnswer:function(a){return b.find(this.interaction.answers(),function(b){return this.evaluateResponses(a,b)}.bind(this))},evaluateAnswers:function(a,b){if(!this.interaction)return void f("evaluateAnswers","needs to have interaction defined via `setCurrInteraction`.");var c=this.getChosenAnswer(a);return null!=b&&c?e.executeActions(c.actions,{context:this.interaction.getClosestAncestorByKind("slide")}):f("evaluateAnswers","no answer found."),c},evaluateResponses:function(a,b){return this.performEvaluation(a,b)},isOther:function(a){var c=b.first(a.evaluate.statements);return!!c&&"other"===c.kind},getEvalFns:function(){return i[this.interaction.type()]},performEvaluation:function(a,c){var d=this.interaction,e=this.getEvalFns();return this.isOther(c)||!b.isEmpty(e)&&e.every(function(b){return b(c.evaluate.statements,a,d)}.bind(this))}};return j}),define("models/presentation/interactions/Interaction",["require","lodash","models/BaseModel","helpers/constants","helpers/conditioner","helpers/resume/resumer","views/helpers/dom","models/presentation/mixins/resumables/interactionResumable","helpers/interactionHelper","models/presentation/mixins/propertizable","mixins/actionable","helpers/actionManager","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("models/BaseModel"),d=a("helpers/constants"),e=a("helpers/conditioner"),f=a("helpers/resume/resumer"),g=a("views/helpers/dom"),h=a("models/presentation/mixins/resumables/interactionResumable"),i=a("helpers/interactionHelper"),j=a("models/presentation/mixins/propertizable"),k=a("mixins/actionable"),l=a("helpers/actionManager"),m=a("helpers/utils"),n=function(a){return/^choices/.test(a)},o={};o.numeric=o.fillin=function(a){return g.writeNode("answer"),g.writeCloseNode("answer")},o.likert=o.sequence=o.matching=function(a){var b=this.getChoiceById(a.choiceResponse),c=this.getStatementById(a.statementResponse);return g.writeNode("answer",{statementid:c.lmstext,choiceid:b.lmstext
},!0)},o.multiplechoice=o.truefalse=o.hotspot=o.wordbank=o.multipleresponse=function(a){return g.writeNode("answer",{choiceid:this.getChoiceById(a).lmstext},!0)};var p={numeric:function(a,b,c){return a.push(e.statementToString(b.statement,this)),a},matching:function(a,b,c){return a.push({choice:this.getChoiceById(b.choiceid),statement:this.getStatementById(b.statementid)}),a},"default":function(a,b,c){return a.push(this.getChoiceById(b.choiceid)),a}};p.sequence=p.matching;var q=function(a,c,d){return b.findWhere(a.get(c),{id:d.replace(c+".","")})},r=c.extend({mixins:[k,j,h],shorthand:["type","maxpoints","istracked","issurvey","skipenabled","choices","responseDefinition","answers","statements"],shortEvents:{self:{"action:eval_interaction":"onEvalInteraction","action:addchoiceresponse":"onAddChoiceResponse","action:addpairresponse":"onAddPairResponse"}},playerPropNames:{AttemptCount:0,Status:d.statuses.INCOMPLETE,Value:"",Description:"",Score:0,LastScore:0,AnswerIndex:-1,Answered:!1,Unanswered:!1,Viewed:!1,Sent:!1,QuestionIndex:-1},responses:null,curAnswer:null,initialize:function(){this.attempts=[],this.getChoiceById=b.partial(q,this,"choices"),this.getStatementById=b.partial(q,this,"statements"),this.prop("CorrectResponse",this.getCorrectResponse())},attempt:function(){var a=this.prop("AttemptCount")+1;return this.prop("AttemptCount",a),this},appendAttempts:function(){this.attempts.push(b.extend(this.getPlayerPropsRaw(),{responses:this.responses.slice(),Latency:f.getCourseTime()}))},setAsViewed:function(a){this.prop("Viewed",a)},setStatusFromCurAnswer:function(){return this.prop("Status",this.curAnswer?this.curAnswer.status:d.statuses.INCOMPLETE),this},setAsAnswered:function(){return this.prop({Answered:!0,Unanswered:!1}),this},setAnswerIndex:function(){return this.prop("AnswerIndex",this.answers().indexOf(this.curAnswer)),this},setScore:function(){return this.prop({LastScore:this.prop("Score"),Score:this.curAnswer.points}),this},evaluate:function(a){return this.attempt().buildResponses(),this.curAnswer=i.setCurrInteraction(this).evaluateAnswers(this.responses.slice(),a),this.setAsAnswered().setAnswerIndex().setScore().setStatusFromCurAnswer().appendAttempts(),this.trigger("interaction:evaluated",this),this},buildResponses:function(){return this.responses=[],l.executeActions(this.responseDefinition().actions,{context:this.getClosestAncestorByKind("slide")}),this.updateValue(),this},updateValue:function(){var a=this.isType("numeric")?"first":"identity";return this.prop("Value",b[a](this.responses)),this},addResponse:function(a){var c=this.isType("numeric")?parseFloat:b.identity;return this.responses.push(c(a)),this},onEvalInteraction:function(a){this.evaluate(a)},onAddChoiceResponse:function(a){var b=a.value,c="string"===a.type;this.addResponse(c?b:this.resolvePath(b))},onAddPairResponse:function(a){var b=a.valuea,c=a.valueb;this.addResponse({statementResponse:b,choiceResponse:n(c)?c:this.resolvePath(c)})},getCorrectAnswer:function(){return b.find(this.answers(),{status:d.statuses.CORRECT})},getCorrectResponse:function(){var a=this.getCorrectAnswer(),c=p[this.type()]||p["default"];return b.reduce(a?a.evaluate.statements:[],c.bind(this),[])},evaluateUnanswered:function(){if(!this.prop("Viewed"))return this.attempt(),this.prop("Answered",!0),void this.trigger("interaction:evaluated",this);var a=this.prop("AnswerIndex"),b=this.prop("Score");a>-1&&(this.curAnswer=this.answers().at(a),this.prop({Status:this.curAnswer.status,Score:this.curAnswer.points,LastScore:b,Unanswered:!1,Answered:!0})),this.evaluate()},isValidResponse:function(a){return null!=a&&""!==a},hasResponses:function(){return null!=this.responses&&this.responses.length>0},isPassing:function(){return this.prop("Status")===d.statuses.CORRECT},markAttempts:function(){this.attempts.forEach(function(a){a.Sent=!0})},getAoSoapXml:function(){return 0===this.prop("AttemptCount")?"":[g.writeNode("interaction",{idRef:m.stripPlayer(this.absoluteId),type:this.type()}),this.getAttemptXml(),g.writeCloseNode("interaction")].join("")},getAttemptXml:function(){return this.attempts.reduce(function(a,b,c,d){var e=c===d.length-1,f=o[this.type()].bind(this),h=[g.writeNode("attempt",{time:b.Latency,"final":e.toString(),pointsAwarded:b.Score,result:b.Status,sent:b.Sent})];return b.responses.map(f).forEach(function(a){h.push(a)}),h.push(g.writeCloseNode("attempt")),a.push(h.join("")),a}.bind(this),[]).join("")},getActualValues:function(a){return a?this.prop("CorrectResponse"):this.responses.map(function(a){return b.isPlainObject(a)?{statement:this.getStatementById(a.statementResponse||a.statement),choice:this.getChoiceById(a.choiceResponse||a.choice)}:this.getChoiceById(a.toString())}.bind(this))}}),s=r.prototype;return s.getResponseValues=b.partial(s.getActualValues,!1),s.getCorrectValues=b.partial(s.getActualValues,!0),r}),define("collections/presentation/interactions/Interactions",["require","collections/BaseCollection","models/presentation/interactions/Interaction"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/interactions/Interaction"),d=b.extend({model:c});return d}),define("models/presentation/Slide",["require","lodash","models/BaseModel","helpers/pubSub","models/presentation/mixins/eventable","mixins/actionable","mixins/varPropListenable","models/presentation/mixins/propertizable","models/presentation/mixins/resumables/slideResumable","collections/presentation/SlideLayers","collections/presentation/Variables","collections/presentation/interactions/Interactions","helpers/constants","helpers/assetManager","helpers/utils","helpers/vow"],function(a){"use strict";var b=(a("lodash"),a("models/BaseModel")),c=a("helpers/pubSub"),d=a("models/presentation/mixins/eventable"),e=a("mixins/actionable"),f=a("mixins/varPropListenable"),g=a("models/presentation/mixins/propertizable"),h=a("models/presentation/mixins/resumables/slideResumable"),i=a("collections/presentation/SlideLayers"),j=a("collections/presentation/Variables"),k=a("collections/presentation/interactions/Interactions"),l=a("helpers/constants"),m=a("helpers/assetManager"),n=a("helpers/utils"),o=a("helpers/vow"),p=b.extend({isSlide:!0,mixins:[d,e,h,g,f],shorthand:["fullId","currentTimeline","resume","events","actionGroups","background"],resolveables:["slideLayers","variables","actionGroups","interactions"],resolvers:{slideLayers:function(a,b){var c=b.getBaseLayer();return c.objects().get(a)||c.audiolib().get(a)||c.objects().findNestedObject(a)}},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{slideLayers:i,variables:j,interactions:k},shortEvents:{self:{"action:zoompan":"zoomPan"},slideLayers:{"timeline:changed":"onTimelineChanged"},interactions:{"interaction:evaluated":"onInteractionEvaluated"}},initialize:function(){this.viewed=!1,this.quizzes=[],this.loadedDfd=new o.Deferred,this.loadedDfd.promise().done(this.getVariableChangeSubscriptions.bind(this)),this.fullId([this.parent.id,this.id].join(l.PATH_DELIMITER))},resetCurrentTimeline:function(){return this.currentTimeline(this.getBaseLayer().timeline()),this},url:function(){return n.resolveDataUrl(this.id)},backgroundImageUrl:function(){return m.getAssetUrl(this.background().imagedata.assetId)},isLoaded:function(){return o.isResolved(this.loadedDfd)},load:function(a){var b=this.loadedDfd,c=b.resolve.bind(b,this);return this.isLoaded()||(this.getScene().isMessageScene()?c():o.when(this.fetch(),a.loadAssets()).then(c)),b.promise()},getBaseLayer:function(){return this.slideLayers().getBaseLayer()},getScene:function(){return this.getClosestAncestor(function(a){return a.isScene})},getSlideDraw:function(){return this.getClosestAncestor(function(a){return a.isSlideDraw})},getSceneOrDraw:function(){return this.getSlideDraw()||this.getScene()},getViewGroupId:function(){var a=this.get("viewGroupId");return a.length>0?a:this.id},getTransitionAnimation:function(){return this.get("showAnimationId")?this.getBaseLayer().animations().findWhere({id:this.get("showAnimationId")}):void 0},zoomPan:function(a,b){this.trigger("zoompan",{action:a,event:b})},triggerAction:function(a){return e.triggerAction.apply(this,arguments),e.triggerAction.apply(this.getBaseLayer(),arguments),this},onTimelineChanged:function(a){this.currentTimeline(a)},setAsViewed:function(){var a=this.viewed;return this.viewed=!0,a||this.interactions().forEach(function(a){a.setAsViewed(!0)}),this.get("trackViews")&&c.trigger("slide:viewed",this,a),this},hasInteractions:function(){return this.interactions().length>0},setQuiz:function(a){this.quizzes.push(a)},onInteractionEvaluated:function(){this.updateInteractionData()},getVariableChangeSubscriptions:function(){null==this.hasVarSubscriptions&&(this.setVarAndPropListeners(),this.slideLayers().forEach(function(a){a.setVarAndPropListeners(),a.objectIndex.forEach(function(a){a.setVarAndPropListeners()})}),this.hasVarSubscriptions=!0)},calculateTotalScale:function(){var a;return this.parentTransform?(a=this.parentTransform.scale,this.pinchZoomScale&&(a*=this.pinchZoomScale),1/a):1}});return p}),define("collections/presentation/Slides",["require","collections/BaseCollection","models/presentation/Slide"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/Slide"),d=b.extend({model:c});return d}),define("models/presentation/mixins/resumables/sceneOrDrawResumable",["require","lodash","helpers/vow","models/presentation/helpers/utils","helpers/resume/Chunk","helpers/resume/resumer"],function(a){"use strict";var b=a("lodash"),c=a("helpers/vow"),d=(a("models/presentation/helpers/utils"),a("helpers/resume/Chunk")),e=a("helpers/resume/resumer"),f="slides",g="slidedraws",h={arrays:{slides:"slidesResume",slidedraws:"slidedrawsResume"},maps:{slides:"slidesResumeMap",slidedraws:"slidedrawsResumeMap"},arrGetters:{slides:"getResumableSlidesArray",slidedraws:"getResumableDrawsArray"},indexGetters:{slides:"getSlideMapIndexOf",slidedraws:"getDrawMapIndexOf"}},i=function(a){return a.isSlideDraw||a.resume()||a.hasInteractions()},j={postInit:function(){var a;this.isScene&&(this.createSlideResumeArray(),this.hasDraws()&&(a=this.slidedraws().invoke("getSlidePromise"),c.after.apply(c,a).done(this.createDrawResumeArray.bind(this))))},getResumableArray:function(a){return this[a]().filter(i)},createSlideResumeArray:function(){return this.slidesResumeMap=[],this.slidesResume=this.slides().filter(i).reduce(function(a,b){return this.slidesResumeMap.push(b.index()),a.push(d.EMPTY_CHUNK),a}.bind(this),[]),this},createDrawResumeArray:function(){this.slidedrawsResumeMap=[],this.slidedrawsResume=this.slidedraws().reduce(function(a,b){return b.createSlideResumeArray(),this.slidedrawsResumeMap.push(b.index()),a.push(d.create(b.getResumeData())),a}.bind(this),[])},createOrderArray:function(a){this.resumeOrder=a.map(function(a){return d.toUnsignedString64(this.sliderefs().indexOf(a),2)}.bind(this)).join("")},getMapIndexOf:function(a,b){return this[a].indexOf(b.index())},saveData:function(a,b){if(i(b)){var c=h.indexGetters[a],f=h.arrays[a],g=this[c](b);this[f][g]=d.create(b.getResumeData())}this.isScene?e.savePresentationData(this):this.getScene().saveDrawData(this)},getResumeData:function(){var a=this.isSlideDraw?"getDrawResume":"getSceneResume";return this[a]()},getDrawResume:function(){var a=this.variables();return[d.create(this.resumeOrder),this.slidesResume.join(""),a.length?d.create(a.getResumeDataOrReturn("")):""].join("")},getSceneResume:function(){return[d.create(this.variables().getResumeDataOrReturn("")),this.slidesResume.join(""),(this.slidedrawsResume||[]).join("")].join("")},setResumeData:function(a){if(""!==a&&null!=a){var b=this.isSlideDraw?"setDrawResume":"setSceneResume";this[b](a)}},setSceneResume:function(a){var b,c=new d({fullString:a}),e=c.reChunk();this.variables().setResumeData(c.encodedString()),b=this.setSlideResumeData(e),this.setDrawsResumeData(b)},setDrawResume:function(a){var b,c=new d({fullString:a}),e=c.reChunk(),f=this.variables();this.setSlidesInResumeOrder(c.encodedString()),b=this.setSlideResumeData(e),f.length&&f.setResumeData(b.encodedString()),this.slideDfd.resolve(this.slides())},setSlidesInResumeOrder:function(a){var b,c;for(this.resumeOrder=[];a.length>0;)b=a.slice(0,2),this.resumeOrder.push(d.fromUnsignedString64(b)),a=a.slice(2);c=this.resumeOrder.map(function(a){return this.sliderefs()[a]}.bind(this)),this.generateSlides(c)},setSlidesOrDrawsResumeData:function(a,b){var c=h.arrGetters[a],d=this[c]();return d.forEach(function(a){a.setResumeData(b.encodedString()),b=b.reChunk()}),b}};return j.saveSlideData=b.partial(j.saveData,f),j.saveDrawData=b.partial(j.saveData,g),j.getSlideMapIndexOf=b.partial(j.getMapIndexOf,h.maps[f]),j.getDrawMapIndexOf=b.partial(j.getMapIndexOf,h.maps[g]),j.getResumableSlidesArray=b.partial(j.getResumableArray,f),j.getResumableDrawsArray=b.partial(j.getResumableArray,g),j.setSlideResumeData=b.partial(j.setSlidesOrDrawsResumeData,f),j.setDrawsResumeData=b.partial(j.setSlidesOrDrawsResumeData,g),j}),define("models/presentation/SlideDraw",["require","lodash","helpers/pubSub","helpers/utils","helpers/vow","helpers/resolver","helpers/constants","collections/presentation/Slides","collections/presentation/Variables","models/BaseModel","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/resumables/sceneOrDrawResumable","helpers/actionManager"],function(a){"use strict";var b=a("lodash"),c=a("helpers/pubSub"),d=a("helpers/utils"),e=a("helpers/vow"),f=a("helpers/resolver"),g=a("helpers/constants"),h=a("collections/presentation/Slides"),i=a("collections/presentation/Variables"),j=a("models/BaseModel"),k=a("mixins/actionable"),l=a("models/presentation/mixins/propertizable"),m=a("models/presentation/mixins/resumables/sceneOrDrawResumable"),n=a("helpers/actionManager"),o=function(a,c,d){var e=b.partial(b.findWhere,c);return d.filter(function(b){return null!=e({id:b.id})===a})},p=j.extend({isSlideDraw:!0,mixins:[m,k,l],resolveables:["slides","actionGroups","variables"],shorthand:["sliderefs","exitaction","slides","shufflecount","shuffle","actionGroups"],shortEvents:{self:{"action:setdrawreview":"onSetDrawReview"}},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{variables:i},initialize:function(){this.slideDfd=new e.Deferred,c.once("data:initialized",this.createDraw.bind(this))},createDraw:function(){this.generateDraw().fixRefIds(),this.slideDfd.resolve(this.slides())},fixRefIds:function(){var a=[this.parent.id,this.id].join(g.PATH_DELIMITER);this.slides().forEach(function(b){b.fullId(a)})},getScene:function(){return this.getClosestAncestorByKind("scene")},getTopSlide:function(){return b.first(this.sliderefs())},getBottomSlide:function(){return b.last(this.sliderefs())},hasLockedTopSlide:function(){return this.getTopSlide().linkprev},hasLockedBottomSlide:function(){return this.getBottomSlide().linknext},startingSlide:function(){return d.stripPlayer(this.slides().first().absoluteId)},getNextSlideId:function(a){var b=a.nextSibling();return b&&b.absoluteId},getFirstSlide:function(){return this.slides().first()},performExitAction:function(){n.executeAction(this.exitaction().Action,{context:this})},getTop:function(){var a,c=this.sliderefs(),d=0,e=[];if(this.hasLockedTopSlide())for(e.push(this.getTopSlide());e.length&&b.last(e).linknext&&(a=c[d+1]);)e.push(c[++d]);return e},getBottom:function(){var a,c=this.sliderefs(),d=c.length-1,e=[];if(this.hasLockedBottomSlide())for(e.push(this.getBottomSlide());b.first(e).linkprev&&(a=c[d-1]);)e.unshift(c[--d]);return e},getTrimmedSlides:function(){return this.trimSpecial(this.sliderefs().slice())},trimSpecial:function(a){for(;a.length&&a[0].linkprev;)a.shift();for(;a.length&&b.last(a).linknext;)a.pop();return a},getMiddle:function(a,c){if(0>=c)return[];var d,e,f,g=this.shuffle(),h=[],i=this.getScene().getRefs(),j=b.partial(o,!1,i),k=b.partial(o,!0,i),l=j(a),m=function(a){return g?Math.floor(Math.random()*a):0};if(l.length<c)for(f=k(a);l.length<c;)l.push.apply(l,f.splice(m(f.len),1));for(;h.length<c&&l.length;){for(e=m(l.length),d=l[e];d.linkprev;)d=l[--e];for(;d;)h.push.apply(h,l.splice(e,1)),d=d.linknext&&l[e]}return h},getIncludedSlides:function(a){return a.filter(function(a){return a.shuffleinclude})},generateDraw:function(){var a,c,d,e=this.getTop(),f=this.getBottom(),g=this.getTrimmedSlides(),h=this.getIncludedSlides(g);return g=b.xor(g,h),c=this.shufflecount()-(e.length+f.length+h.length),a=this.getMiddle(g,c),d=e.concat(h,a,f),this.generateSlides(d),this},generateSlides:function(a){var b=this.resolveSlides(a);return this.set("slides",new h(b,{parent:this})),a.forEach(function(a){this.getScene().addRef(a)}.bind(this)),this.createOrderArray(a),this},resolveSlides:function(a){return a.map(function(a){var c=d.prefixWithPlayer(a.id),e=b.cloneDeep(f.resolvePath(c,this));return e}.bind(this))},getSlidePromise:function(){return this.slideDfd.promise()},onSetDrawReview:function(a){this.isInReview=a.review}});return p}),define("collections/presentation/SlideDraws",["require","collections/BaseCollection","models/presentation/SlideDraw"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/SlideDraw"),d=b.extend({model:c});return d}),define("models/presentation/Scene",["require","models/BaseModel","helpers/vow","lodash","collections/presentation/Slides","collections/presentation/SlideDraws","collections/presentation/Variables","models/presentation/mixins/resumables/sceneOrDrawResumable"],function(a){"use strict";var b=a("models/BaseModel"),c=a("helpers/vow"),d=a("lodash"),e=a("collections/presentation/Slides"),f=a("collections/presentation/SlideDraws"),g=a("collections/presentation/Variables"),h=a("models/presentation/mixins/resumables/sceneOrDrawResumable"),i=b.extend({isScene:!0,mixins:[h],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{slides:e,slidedraws:f,variables:g},resolveables:["slides","slidedraws"],shorthand:["startingSlide","isMessageScene"],initialize:function(){this.usedRefs=[]},addRef:function(a){this.usedRefs.push(a)},getRefs:function(){return this.usedRefs},hasDraws:function(){return this.slidedraws().length>0},resolveDfd:function(){this.drawDfd.resolve()},getDrawPromise:function(){var a=this.slidedraws().invoke("getSlidePromise");return this.drawDfd=new c.Deferred,c.after.apply(c,a).done(this.resolveDfd.bind(this)),this.drawDfd.promise()},getAllSlides:function(){var a=this.hasDraws()?d(this.slidedraws().pluck("slides")).invoke("slice").flatten().value():[];return this.slides().slice().concat(a)}});return i}),define("collections/presentation/Scenes",["require","collections/BaseCollection","models/presentation/Scene"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/Scene"),d=b.extend({model:c,getNonMessageScenes:function(){return this.reject(function(a){return a.isMessageScene()})}});return d}),define("collections/presentation/SlideBank",["require","collections/BaseCollection"],function(a){"use strict";var b=a("collections/BaseCollection"),c=b.extend({});return c}),define("helpers/MediaLoader",["require","lodash","backbone","helpers/vow","helpers/errorManager","polyfills/vendorOverrides"],function(a){"use strict";var b=a("lodash"),c=a("backbone"),d=a("helpers/vow"),e=a("helpers/errorManager"),f=a("polyfills/vendorOverrides"),g=e.throwError("MediaLoader"),h=f.handleMediaLoading||b.noop,i=c.View.extend({events:{load:"onLoad",canplay:"onLoad",error:"onError"},retries:1,retryTimeout:250,hasStartedLoading:!1,isMediaElement:function(){return!!this.el.load},initialize:function(a){a&&a.url||g("initialize","Must provide a `url` option"),a&&a.type||g("initialize","Must provide a `type` option"),null!=a.retries&&(this.retries=a.retries),null!=a.retryTimeout&&(this.retryTimeout=a.retryTimeout),this.failuresCount=0,this.url=a.url,this.type=a.type,this.createDeferred().createElement(),a.autoload&&this.load()},createDeferred:function(){var a=new d.Deferred;return Object.defineProperties(this,{dfd:{value:a},promise:{value:a.promise()}}),this},createElement:function(){return this.setElement(document.createElement(this.type)),this},load:function(){return this.hasStartedLoading||(this.hasStartedLoading=!0,this.el.src=this.url,this.isMediaElement()&&this.loadMediaElement()),h(this),this.promise},loadMediaElement:function(){this.el.volume=0,this.el.load(),this.el.play()},clearMediaElement:function(){this.el.pause(),this.el.src=""},retry:function(){return this.failuresCount++,setTimeout(function(){return this.hasStartedLoading=!1,this.createElement().load()}.bind(this),this.retryTimeout),this},shouldRetry:function(){return this.failuresCount<this.retries},state:function(){return this.promise.state()},isPending:function(){return"pending"===this.state()},isLoaded:function(){return"resolved"===this.state()},isErrored:function(){return"rejected"===this.state()},onLoad:function(a){this.dfd.resolve()},onError:function(a){this.shouldRetry()?this.retry():this.dfd.reject("Could not load media "+this.url)},teardown:function(){this.isMediaElement()&&this.clearMediaElement(),this.remove()}});return i}),define("helpers/AudioLoader",["require","helpers/audio/audioManager","polyfills/detection","helpers/MediaLoader","helpers/utils"],function(a){"use strict";var b=a("helpers/audio/audioManager"),c=a("polyfills/detection"),d=a("helpers/MediaLoader"),e=a("helpers/utils"),f=e.createSuper(d),g=d.extend({createElement:function(){return c.hasAudioApi()?this:f("createElement").apply(this,arguments)},load:function(){return c.hasAudioApi()?(this.hasStartedLoading||(this.hasStartedLoading=!0,this.audioClip=b.loadUrl(this.url),this.audioClip.dfd.promise().done(this.dfd.resolve).fail(this.dfd.reject)),this.promise):f("load").apply(this,arguments)},teardown:function(){return c.hasAudioApi()?(this.audioClip&&this.audioClip.destroy(),void this.remove()):f("teardown").apply(this,arguments)}});return g}),define("models/presentation/Asset",["require","lodash","helpers/AudioLoader","models/BaseModel","helpers/MediaLoader","helpers/utils","helpers/vow"],function(a){"use strict";var b=a("lodash"),c=a("helpers/AudioLoader"),d=a("models/BaseModel"),e=a("helpers/MediaLoader"),f=a("helpers/utils"),g=a("helpers/vow"),h={img:"swf png jpg jpeg gif bmp".split(" "),video:"flv mov mp4 avi".split(" "),audio:"mp3".split(" ")},i=d.extend({shorthand:["url","type","width","height","mobiledx","mobiledy"],initialize:function(){this.url(f.resolveAssetUrl(this.url())),this.inferType()},ext:function(){return b.last(this.url().split("."))},isValid:function(){return"swf"!==this.ext()},inferType:function(){var a=this.ext();return this.type(b.reduce(h,function(c,d,e){return b.contains(d,a)?e:c},null)),this},load:function(){var a,b;if(!this.isValid())return a=new g.Deferred,b=a.resolve().promise(),b.dfd=a,b;var d="audio"===this.type()?c:e,f=new d({type:this.type(),url:this.url(),autoload:!0});return f.promise.always(f.teardown.bind(f)),f.promise.dfd=f.dfd,f.promise}});return i}),define("collections/presentation/Assets",["require","collections/BaseCollection","models/presentation/Asset"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/Asset"),d=b.extend({model:c});return d}),define("collections/presentation/interactions/Quizzes",["require","collections/BaseCollection","helpers/resume/Chunk"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("helpers/resume/Chunk"),d=b.extend({getResumeData:function(){return this.invoke("getResumeData").map(c.create).join("")||""},setResumeData:function(a){return this.forEach(function(b){b.setResumeData(a.encodedString()),a=a.reChunk()}),a}});return d}),define("models/presentation/interactions/Quiz",["require","lodash","helpers/utils","helpers/constants","views/helpers/dom","helpers/resolver","helpers/external/tinCan","models/BaseModel","collections/presentation/interactions/Quizzes","collections/presentation/SlideRefs","mixins/actionable","helpers/resume/resumer","models/presentation/mixins/propertizable","helpers/pubSub"],function(a){"use strict";var b=a("lodash"),c=a("helpers/utils"),d=a("helpers/constants"),e=a("views/helpers/dom"),f=a("helpers/resolver"),g=(a("helpers/external/tinCan"),a("models/BaseModel")),h=a("collections/presentation/interactions/Quizzes"),i=a("collections/presentation/SlideRefs"),j=a("mixins/actionable"),k=a("helpers/resume/resumer"),l=a("models/presentation/mixins/propertizable"),m=a("helpers/pubSub"),n=function(a){return!a.prop("Answered")},o=function(a){return a.prop("Viewed")===!0&&n(a)},p=function(a){return a.get("istracked")===!0},q=function(a){return a.isSlide||r(a)},r=function(a){return a.isSlideDraw},s=g.extend({mixins:[l,j],shorthand:["issurvey","passPercent","submitunanswered","scoretype","actionGroups"],resolveables:["actionGroups","variables","quizzes"],associations:{sliderefs:i},playerPropNames:{mustPass:!0,QuizComplete:!1,Score:0,PercentScore:0,PassScore:0,Evaluated:!1,Completed:!1,Passed:!1,Weight:1,model:{PassPercent:"passPercent"}},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},shortEvents:{self:{"action:eval_all_unanswered":"evalAllUnanswered","action:setquizcomplete":"setQuizComplete","action:nextviewedslide":"onNextReviewedSlide","action:resetquiz":"onResetQuiz"}},subscriptions:{"data:initialized":"onDataInitialized","slide:hasChanged":"onSlideHasChanged"},maxPoints:0,attempts:0,initialize:function(){this.listenTo(this.getPlayerProps(),{"change:Score":this.onChangeScoreProp})},onDataInitialized:function(){this.buildReferences().updateMaxPoints().updatePassScore().listenForEvaluations()},buildReferences:function(){return this.buildQuizzes(),this.slides=b(this.sliderefs().invoke("getSlide")).filter(q).value(),this.waitForDraws(),this},waitForDraws:function(){var a=this.slides.filter(r),b=!0;a.forEach(function(a){var c=this.onDrawReceived.bind(this,a);this.listenTo(a,"change:slides",c),null==a.slides()?b=!1:c()}.bind(this)),0===a.length&&this.afterDrawReceived()},onDrawReceived:function(a){var b=a.spliceIdx||this.slides.indexOf(a),c=a.spliceNum||1;a.spliceIdx=b,a.spliceNum=a.slides().length,this.slides.splice.apply(this.slides,[b,c].concat(a.slides().slice())),this.afterDrawReceived()},afterDrawReceived:function(){return this.interactions=b(this.slides).invoke("interactions").compact().value(),this.flatInteractions=b(this.interactions).invoke("slice").flattenDeep().filter(p).value(),this.slides.forEach(function(a){null!=a.setQuiz&&a.setQuiz(this)}.bind(this)),this.flatInteractions.forEach(function(a,b){a.prop("QuestionIndex",b)}),this},onSlideHasChanged:function(a){this.currentPlayerSlideId=a},getCurrentSlideIndex:function(){return b.findIndex(this.slides,function(a){return c.stripPlayer(a.absoluteId)===this.currentPlayerSlideId}.bind(this))},onNextReviewedSlide:function(a,c){var d,e=this.getCurrentSlideIndex()+1;e===this.slides.length?m.trigger("nextSlide:requesting",a.completed_slide_ref.value):(d=b.find(this.slides.slice(e),function(a){return a.viewed===!0}),m.trigger("nextSlide:requesting",d.absoluteId))},onResetQuiz:function(){this.resetProps(),b.invoke(this.slides,"resetResume"),b.invoke(this.flatInteractions,"resetResume"),k.savePresentationData(),this.attempts++,this.updateScore()},listenForEvaluations:function(){this.interactions.forEach(function(a){this.listenTo(a,"interaction:evaluated",this.onInteractionEvaluated)}.bind(this))},buildQuizzes:function(){var a=(this.getClosestParentRef(),this.get("quizrefs")||[]);this.quizzes=a.map(function(a){var b=f.resolvePath(c.prefixWithPlayer(a.id),this);return b.prop({mustPass:a.mustpass,weight:a.weight}),b}.bind(this)),this.hasScoring()&&this.quizzes.forEach(function(a){a.setScoring(this.scoring)}.bind(this))},isPassed:function(){return this.prop("Score")>=this.prop("PassScore")&&this.quizzes.every(function(a){return a.prop("mustPass")&&a.isPassed()})},calcScore:function(){return this.calcThisScore()+this.calcChildScores()},calcThisScore:function(){return b(this.flatInteractions).pluck("curAnswer").compact().pluck("points").reduce(c.add,0)},calcChildScores:function(){return this.reduceQuizzes(function(a,b){return a+b.calcScore()},0)},updateScore:function(){return this.prop("Score",this.calcScore()),this.hasScoring()&&this.getScoring().updateScore(this),this},calcPassScore:function(){return c.pctToDec(this.prop("PassPercent"))*this.maxPoints},updatePassScore:function(){return this.prop("PassScore",this.calcPassScore()),this},calcPercentScore:function(){return c.decToPct(this.prop("Score")/this.maxPoints)},updatePercentScore:function(){return this.prop("PercentScore",this.calcPercentScore()),this},calcMaxPoints:function(){return this.calcThisMaxPoints()+this.calcChildMaxPoints()},calcThisMaxPoints:function(){return b(this.flatInteractions).invoke("maxpoints").reduce(c.add,0)},calcChildMaxPoints:function(){return this.reduceQuizzes(function(a,b){return a+b.calcMaxPoints()},0)},reduceQuizzes:function(a,b){return 0===this.quizzes.length?b:this.quizzes.reduce(a.bind(this),b)},updateMaxPoints:function(){return this.maxPoints=this.calcMaxPoints()||1,this},onInteractionEvaluated:function(a){this.updateScore(),m.trigger("interaction:evaluated",this,a)},onChangeScoreProp:function(){this.updatePercentScore()},evalAllUnanswered:function(){var a="viewed"===this.submitunanswered()?o:n;return this.prop("Evaluated")||(this.flatInteractions.filter(a).forEach(function(a){a.evaluateUnanswered()}),this.quizzes.forEach(function(a){a.evalAllUnanswered()}),this.prop("Evaluated",!0)),this.quizzes.forEach(function(a){a.evalAllUnanswered()}),this.updateScore(),this.setResumeInMotion(),this},setQuizComplete:function(){var a=this.prop("Completed");this.prop({Completed:!0,Passed:this.isPassed()}),this.updateScore(),a||m.trigger("quiz:completed",this),this.hasScoring()&&this.getScoring().checkCourseComplete()},getIsComplete:function(){return this.prop("Completed")===!0||this.quizzes.every(function(a){return a.getIsComplete()})},setResumeInMotion:function(){this.slides.forEach(function(a){a.updateInteractionData().onAfterResumeBuilt()})},getResumeData:function(){return[Number(this.prop("Evaluated")),Number(this.prop("Completed"))].join("")},setResumeData:function(a){this.prop({Evaluated:"1"===a.charAt(0),Completed:"1"===a.charAt(1)}),this.hasScoring()&&this.getScoring().updateStatus()},setScoring:function(a){this.scoring=a},getScoring:function(){return this.scoring},hasScoring:function(){return!!this.getScoring()},getAttempts:function(){return this.attempts},markAttemptsSent:function(){this.flatInteractions.forEach(function(a){a.markAttempts()}),this.quizzes.forEach(function(a){a.markAttemptsSent()})},getAoSoapXml:function(){var a=[e.writeNode("quiz",this.getQuizAttributes())];return this.quizzes.length?a.push(this.getQuizzesXml()):(a.push(e.writeNode("interactions")),this.flatInteractions.forEach(function(b){a.push(b.getAoSoapXml())}),a.push(e.writeCloseNode("interactions"))),a.push(e.writeCloseNode("quiz")),a.join("")},getQuizAttributes:function(){var a=this.isType("survey"),b=this.getIsComplete()?d.statuses.COMPLETE:d.statuses.INCOMPLETE,c=this.isPassed()?d.statuses.PASSING:d.statuses.FAILING,e=a?b:c,f={idRef:this.id,duration:0,status:e};return a||(f.score=this.prop("Score"),f.possibleScore=this.maxPoints),f},getQuizzesXml:function(){var a=[e.writeNode("quizzes")];return this.quizzes.forEach(function(b){a.push(b.getAoSoapXml())}),a.push(e.writeCloseNode("quizzes")),a.join("")}});return h.prototype.model=s,s}),define("models/presentation/interactions/Timer",["require","lodash","models/BaseModel","mixins/actionable","models/presentation/mixins/eventable"],function(a){"use strict";var b=(a("lodash"),a("models/BaseModel")),c=a("mixins/actionable"),d=a("models/presentation/mixins/eventable"),e=b.extend({mixins:[c,d],shorthand:["events"],shortEvents:{self:{"action:showtimer":"onShowTimer","action:hidetimer":"onHideTimer","action:starttimer":"onStartTimer","action:pausetimer":"onPauseTimer"}},onShowTimer:function(){this.trigger("show");
},onHideTimer:function(){this.trigger("hide")},onStartTimer:function(){this.trigger("start")},onPauseTimer:function(){this.trigger("pause")}});return e}),define("collections/presentation/interactions/Timers",["require","collections/BaseCollection","models/presentation/interactions/Timer"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("models/presentation/interactions/Timer"),d=b.extend({model:c});return d}),define("models/presentation/Presentation",["require","lodash","helpers/vow","models/BaseModel","models/presentation/SlideMap","models/presentation/Display","models/presentation/Scoring","collections/presentation/Variables","collections/presentation/Scenes","collections/presentation/SlideBank","collections/presentation/Assets","models/presentation/interactions/Quiz","collections/presentation/interactions/Quizzes","collections/presentation/interactions/Timers","models/presentation/mixins/eventable","helpers/utils"],function(a){"use strict";var b=a("lodash"),c=a("helpers/vow"),d=a("models/BaseModel"),e=a("models/presentation/SlideMap"),f=a("models/presentation/Display"),g=a("models/presentation/Scoring"),h=a("collections/presentation/Variables"),i=a("collections/presentation/Scenes"),j=(a("collections/presentation/SlideBank"),a("collections/presentation/Assets")),k=(a("models/presentation/interactions/Quiz"),a("collections/presentation/interactions/Quizzes")),l=a("collections/presentation/interactions/Timers"),m=a("models/presentation/mixins/eventable"),n=a("helpers/utils"),o=function(a){return!a.isMessageScene()},p=d.extend({abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},mixins:[m],subscriptions:{"customlink:event":"onCustomlink"},url:function(){return n.resolveDataUrl("data")},associations:{slideMap:e,display:f,scoring:g,variables:h,scenes:i,assetLib:j,quizzes:k,timers:l},resolveables:["scenes","variables","actionGroups","quizzes","slideBank","timers"],shorthand:["entryPoint","resume","events","actionGroups"],resolvers:{slideBank:function(a,c){return b.findWhere(c.slides,{id:a})}},prepareToCreateSlideIndices:function(){var a=b.invoke(this.scenes().filter(o),"getDrawPromise");c.after.apply(c,a).done(this.createSlideIndices.bind(this))},getFlatSlides:function(a){var c=null!=a?o:Boolean;return b(this.scenes().filter(c)).invoke("getAllSlides").flatten().value()},getUniqueSlides:function(){var a=this.getFlatSlides(!0),b={};return a.reduce(function(a,c){var d=c.getViewGroupId(),e=c.get("trackViews");return e&&null==b[d]&&(b[d]=!0,a.push(c)),a},[])},createSlideIndices:function(){this.getFlatSlides().forEach(function(a,b){a.prop("Index",b)})},onCustomlink:function(a){this.executePlayerEvent(a)}});return p}),define("collections/player/Links",["require","collections/BaseCollection","helpers/pubSub","helpers/resolver"],function(a){"use strict";var b=a("collections/BaseCollection"),c=a("helpers/pubSub"),d=a("helpers/resolver"),e=b.extend({initialize:function(a,b){this.origModels=a},findDeep:function(a){return this.hasChildSlide(a)||this.some(function(b){return b.isOrHasChild(a)})},hasChildSlide:function(a){return!!this.findWhere({slideid:a})},prepareDrawSlides:function(a,b){c.once("data:initialized",this.setDrawSlides.bind(this,a,b))},setDrawSlides:function(a,b){var c=d.resolvePath(b,this),e=this.setDrawLinks.bind(this,a);this.listenTo(c,"change:slides",e),null!=c.slides()&&e(c,c.slides())},setDrawLinks:function(a,b,c){var d=this.slice(),e=a.spliceNum||1;a.linkIndex=a.linkIndex||this.indexOf(a),d.splice.apply(d,[a.linkIndex,e].concat(c.map(this.createNewLink))),a.spliceNum=c.length,this.reset(d)},createNewLink:function(a){var b={kind:"slidelink",expand:!1,type:"slide"};return b.slideid=a.absoluteId,b.slidetitle=b.displaytext=a.get("title"),b}});return e}),define("models/player/Link",["require","models/BaseModel","collections/player/Links"],function(a){"use strict";var b=a("models/BaseModel"),c=a("collections/player/Links"),d=b.extend({associations:{links:c},initialize:function(){this.isKind("slidedrawref")&&this.collection.prepareDrawSlides(this,this.get("drawid"))},isOrHasChild:function(a){return this.get("slideid")===a||!!this.links().findDeep(a)},hasChild:function(a){return this.links().hasChildSlide(a)}});return c.prototype.model=d,d}),define("models/player/NavData",["require","models/BaseModel","models/player/Link","collections/player/Links"],function(a){"use strict";var b=a("models/BaseModel"),c=(a("models/player/Link"),a("collections/player/Links")),d=b.extend({associations:{links:c}}),e=b.extend({associations:{outline:d}});return e}),define("models/player/ResourceData",["require","models/BaseModel","collections/BaseCollection"],function(a){"use strict";var b=a("models/BaseModel"),c=a("collections/BaseCollection"),d=b.extend({shorthand:["description"],associations:{resources:c}});return d}),define("models/player/Player",["require","lodash","models/BaseModel","collections/BaseCollection","models/player/NavData","models/player/ResourceData","helpers/utils","helpers/pubSub"],function(a){"use strict";var b=a("lodash"),c=a("models/BaseModel"),d=a("collections/BaseCollection"),e=a("models/player/NavData"),f=a("models/player/ResourceData"),g=a("helpers/utils"),h=a("helpers/pubSub"),i=c.extend({associations:{sidebarOptions:c.extend({associations:{tabs:c}}),bottomBarOptions:c,menuOptions:c,controls:c},subscriptions:{"controllayout:changed":"onChangeControls"},onChangeControls:function(a){this.controls().set(a)}}),j=c.extend({associations:{navData:e,glossaryData:d,resourceData:f,notesData:d,controlOptions:i,layouts:c,controlLayouts:c,stringTables:c},url:function(){return g.resolveDataUrl("frame")},initialize:function(){this.on("sync",this.onDataSynced)},getTab:function(a){return this.controlOptions().sidebarOptions().tabs().get(a)||[]},getLayout:function(a){return this.layouts().get(a)},onDataSynced:function(){var a=this.getLayout(this.get("default_layout")),b=this.controlLayouts().get(a.controllayout);h.trigger("controllayout:changed",b),h.trigger("scheme:changed",a.colorscheme)}}),k=j.prototype;return k.getSidebar=b.partial(k.getTab,"sidebar"),k.getLinkLeft=b.partial(k.getTab,"linkLeft"),k.getLinkRight=b.partial(k.getTab,"linkRight"),j}),define("helpers/windowOpen",["require","lodash","backbone","helpers/pubSub"],function(a){"use strict";var b=a("lodash"),c=(a("backbone"),a("helpers/pubSub")),d=function(a){return b.pairs(a).map(function(a){return a.join("=")}).join(", ")},e=b.extend({initialize:function(){c.on("externalWindow:open",this.onOpenWindow.bind(this))},onOpenWindow:function(a){this.openWindowByAction(a)},openWindowByAction:function(a){var b={},c=a.windowsize;switch(c){case"fullscreen":b.width=window.screen.availWidth,b.height=window.screen.availHeight;break;case"custom":b.width=a.width,b.height=a.height}a.usedefaultcontrols||"default"===c||(b.status=+a.status,b.toolbar=+a.toolbar,b.location=+a.location,b.menubar=+a.menubar,b.scrollbars=+a.scrollbars,b.resizable=+a.resizable),window.open(a.url,a.window,d(b))}});return e}),define("views/App",["require","helpers/utils","helpers/pubSub","react","views/mixins/baseView","polyfills/detection"],function(a){"use strict";var b=a("helpers/utils"),c=a("helpers/pubSub"),d=a("react"),e=a("views/mixins/baseView"),f=a("polyfills/detection"),g=d.createClass({displayName:"App",mixins:[e],append:!0,isRtl:function(a){return"rtl"===a.toLowerCase()},componentWillMount:function(){this.sidebarOpts=this.getPath("props.player.controlOptions.sidebarOptions"),this.setDeviceClasses()},componentDidMount:function(){c.trigger("app:complete")},setDeviceClasses:function(){f.isMobile?(document.body.setAttribute("class","is-mobile"),document.getElementById("preso").setAttribute("class","")):document.body.setAttribute("class","is-desktop")},hasTopBar:function(){return this.sidebarOpts.get("titleEnabled")||b.getPath(this.sidebarOpts,"tabs.linkRight")||b.getPath(this.sidebarOpts,"tabs.linkLeft")},hasSidebar:function(){return this.sidebarOpts.get("sidebarEnabled")},sidebarPos:function(){return this.sidebarOpts.get("sidebarPos")}});return g}),define("helpers/scaler",["require","helpers/svg/svgUtils","helpers/cssPrefix"],function(a){"use strict";var b,c,d=a("helpers/svg/svgUtils"),e=a("helpers/cssPrefix"),f={initialize:function(){"show all"===window.globals.scale&&this.startScaling()},startScaling:function(){b=document.getElementById("presentation-container"),c=e.camelCase("transform"),this.scale(),window.addEventListener("resize",this.scale.bind(this))},scale:function(){var a=document.body.scrollHeight,e=document.body.scrollWidth,f=b.scrollHeight,g=b.scrollWidth,h=a/f,i=e/g;b.style[c]=d.transformScale(Math.min(h,i))}};return f}),define("helpers/svg/reactSvg",["require","react"],function(a){"use strict";var b=a("react"),c=b.Injection.DOMProperty.MUST_USE_ATTRIBUTE;return b.Injection.DOMProperty.injectDOMPropertyConfig({Properties:{accentHeight:c,accumulate:c,alignmentBaseline:c,alphabetic:c,amplitude:c,animate:c,arabicForm:c,ascent:c,attributeType:c,azimuth:c,baseFrequency:c,baselineShift:c,bbox:c,bias:c,by:c,calcMode:c,capHeight:c,clip:c,clipPathUnits:c,clipRule:c,color:c,colorInterpolation:c,colorInterpolationFilters:c,colorProfile:c,colorRendering:c,contentScriptType:c,contentStyleType:c,cursor:c,descent:c,diffuseConstant:c,direction:c,display:c,divisor:c,dominantBaseline:c,dur:c,edgeMode:c,elevation:c,enableBackground:c,end:c,exponent:c,externalResourcesRequired:c,feColorMatrix:c,feComposite:c,feGaussianBlur:c,feMorphology:c,feTile:c,fillRule:c,filter:c,filterRes:c,filterUnits:c,floodColor:c,floodOpacity:c,fontSizeAdjust:c,fontStretch:c,fontStyle:c,fontVariant:c,fontWeight:c,format:c,from:c,g1:c,g2:c,glyphName:c,glyphOrientationHorizontal:c,glyphOrientationVertical:c,glyphRef:c,hanging:c,horizAdvX:c,horizOriginX:c,horizOriginY:c,ideographic:c,imageRendering:c,in2:c,"in":c,intercept:c,k1:c,k2:c,k3:c,k4:c,k:c,kernelMatrix:c,kernelUnitLength:c,kerning:c,keyPoints:c,keySplines:c,keyTimes:c,lengthAdjust:c,letterSpacing:c,lightingColor:c,limitingConeAngle:c,local:c,markerHeight:c,markerUnits:c,markerWidth:c,mask:c,maskContentUnits:c,maskUnits:c,mathematical:c,mode:c,numOctaves:c,operator:c,order:c,orient:c,orientation:c,origin:c,overflow:c,overlinePosition:c,overlineThickness:c,panose1:c,path:c,pathLength:c,patternTransform:c,pointerEvents:c,pointsAtX:c,pointsAtY:c,pointsAtZ:c,preserveAlpha:c,primitiveUnits:c,radius:c,refX:c,refY:c,renderingIntent:c,repeatCount:c,repeatDur:c,requiredExtensions:c,restart:c,result:c,rotate:c,scale:c,seed:c,shapeRendering:c,slope:c,spacing:c,specularConstant:c,specularExponent:c,startOffset:c,stdDeviation:c,stemh:c,stemv:c,stitchTiles:c,strikethroughPosition:c,strikethroughThickness:c,strokeDashoffset:c,strokeLinejoin:c,strokeMiterlimit:c,surfaceScale:c,systemLanguage:c,tableValues:c,targetX:c,targetY:c,textDecoration:c,textLength:c,textRendering:c,to:c,u1:c,u2:c,underlinePosition:c,underlineThickness:c,unicode:c,unicodeBidi:c,unicodeRange:c,unitsPerEm:c,vAlphabetic:c,vHanging:c,vIdeographic:c,vMathematical:c,values:c,vertAdvY:c,vertOriginX:c,vertOriginY:c,viewTarget:c,visibility:c,widths:c,wordSpacing:c,writingMode:c,xChannelSelector:c,xHeight:c,xmlns:c,yChannelSelector:c,z:c,zoomAndPan:c},DOMAttributeNames:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",attributeType:"attributeType",baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",calcMode:"calcMode",capHeight:"cap-height",clipPath:"clip-path",clipPathUnits:"clipPathUnits",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",diffuseConstant:"diffuseConstant",dominantBaseline:"dominant-baseline",edgeMode:"edgeMode",enableBackground:"enable-background",externalResourcesRequired:"externalResourcesRequired",feColorMatrix:"feColorMatrix",feComposite:"feComposite",feGaussianBlur:"feGaussianBlur",feMorphology:"feMorphology",feTile:"feTile",fillRule:"fill-rule",filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",numOctaves:"numOctaves",overlinePosition:"overline-position",overlineThickness:"overline-thickness",panose1:"panose-1",pathLength:"pathLength",patternTransform:"patternTransform",pointerEvents:"pointer-events",pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",primitiveUnits:"primitiveUnits",refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",shapeRendering:"shape-rendering",specularConstant:"specularConstant",specularExponent:"specularExponent",startOffset:"startOffset",stdDeviation:"stdDeviation",stitchTiles:"stitchTiles",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashoffset:"stroke-dashoffset",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textDecoration:"text-decoration",textLength:"textLength",textRendering:"text-rendering",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",wordSpacing:"word-spacing",writingMode:"writing-mode",xChannelSelector:"xChannelSelector",xHeight:"x-height",yChannelSelector:"yChannelSelector",zoomAndPan:"zoomAndPan"}}),{}}),function(){"use strict";require.config({paths:{almond:"../../bower_components/almond/almond",lodash:"../../bower_components/lodash/lodash",backbone:"../../bower_components/backbone/backbone",shorthand:"../../bower_components/backbone.shorthand/src/backbone.shorthand",react:"../../bower_components/react/react-with-addons",jquery:"../../bower_components/jquery/jquery","prefix-free":"../../bower_components/prefix-free/prefixfree.min","tween-lite":"../../bower_components/gsap/src/minified/TweenLite.min","timeline-lite":"../../bower_components/gsap/src/minified/TimelineLite.min","ease-pack":"../../bower_components/gsap/src/minified/easing/EasePack.min","css-plugin":"../../bower_components/gsap/src/minified/plugins/CSSPlugin.min","bezier-plugin":"../../bower_components/gsap/src/minified/plugins/BezierPlugin.min",tincan:"../../bower_components/tincan/build/tincan",ismobilejs:"../../bower_components/isMobile/isMobile.min","slim-canvg":"../../bower_components/slim-canvg/slim-canvg"},map:{"*":{underscore:"lodash"}},shim:{shorthand:{deps:["backbone"]},react:{exports:"React"},"prefix-free":{exports:"PrefixFree"},"tween-lite":{exports:"TweenLite"},"timeline-lite":{exports:"TimelineLite",deps:["tween-lite"]},"ease-pack":{exports:"EasePack"},"css-plugin":{exports:"CSSPlugin"},"bezier-plugin":{exports:"BezierPlugin"},ismobilejs:{exports:"isMobile"},"slim-canvg":{exports:"slimCanvg"}}}),require(["lodash","react","helpers/jqueryHelpers","helpers/backboneSync","helpers/extend","helpers/templateManager","views/events/allEvents"],function(a,b){require(["models/presentation/Presentation","models/player/Player","helpers/resolver","helpers/slidesController","helpers/windowManager","helpers/windowOpen","helpers/assetManager","helpers/actionator","views/App","helpers/debug","helpers/pubSub","helpers/appState","helpers/vow","helpers/errorManager","helpers/svg/svgManager","helpers/stringTabler","helpers/automation","helpers/resume/resumer","helpers/keyManager","helpers/scaler","helpers/audio/audioManager","helpers/videoManager","helpers/GsapTweenLite","helpers/svg/reactSvg"],function(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){var x,y=new a,z=new c,A=function(){var a;y.prepareToCreateSlideIndices(),d.initialize(y),e.initialize(y),a=s.initialize(y),r.initialize(e,y),f.initialize(y.display()),t.initialize(x,f),g.initialize(),h.initialize(y.assetLib()),i.initialize(z),q.initialize(z),l.trigger("data:initialized"),b.initializeTouchEvents(!0),x=b.render(b.createElement(j,{presentation:y,player:z,state:m}),document.body.querySelector("#preso")),u.initialize(),k.initialize(y,z,x),a.always(function(){v.prepare(),w.prepare(),k.initRouter(this),!k.debugMode&&n.isRejected(this)&&l.trigger("nextSlide:requesting"),s.courseStarted(n.isResolved(this))})},B=function(){o.throwError("init","initialization","Could not load presentation data")};n.when(y.fetch(),z.fetch(),p.fetch()).done(A).fail(B)})})}(),define("init",function(){});